var Ke=Object.defineProperty,Ye=Object.defineProperties;var Ze=Object.getOwnPropertyDescriptors;var ge=Object.getOwnPropertySymbols;var Be=Object.prototype.hasOwnProperty,Re=Object.prototype.propertyIsEnumerable;var De=(n,o,s)=>o in n?Ke(n,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[o]=s,Le=(n,o)=>{for(var s in o||(o={}))Be.call(o,s)&&De(n,s,o[s]);if(ge)for(var s of ge(o))Re.call(o,s)&&De(n,s,o[s]);return n},Ve=(n,o)=>Ye(n,Ze(o));var je=(n,o)=>{var s={};for(var e in n)Be.call(n,e)&&o.indexOf(e)<0&&(s[e]=n[e]);if(n!=null&&ge)for(var e of ge(n))o.indexOf(e)<0&&Re.call(n,e)&&(s[e]=n[e]);return s};import{r as B,c as et,o as r,a as l,b as t,t as x,d as w,n as f,F as L,e as V,f as Ie,g as tt,h as c,i as U,w as y,j as i,T as Se,k as H,l as Ae,m as Ue,p as Ne,q as Oe,s as Ge,u as Ee,v as Xe,x as ze,y as ot,M as Te,z as ve,A as st,B as nt,C as rt,D as R,E as j,G as M,H as T,I as lt,J as pe,K as ee,L as be,N as me,O as _e,P as te,Q as oe,R as se,S as W,U as We,V as at,W as $e,X as Je,Y as it,Z as ct,_ as dt,$ as ut,a0 as ft,a1 as yt,a2 as gt,a3 as vt}from"./vendor.86658e4a.js";const pt=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))e(d);new MutationObserver(d=>{for(const g of d)if(g.type==="childList")for(const u of g.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&e(u)}).observe(document,{childList:!0,subtree:!0});function s(d){const g={};return d.integrity&&(g.integrity=d.integrity),d.referrerpolicy&&(g.referrerPolicy=d.referrerpolicy),d.crossorigin==="use-credentials"?g.credentials="include":d.crossorigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function e(d){if(d.ep)return;d.ep=!0;const g=s(d);fetch(d.href,g)}};pt();const bt=(n,o=0,s=!1)=>{let e;return(...d)=>{s&&!e&&n(...d),clearTimeout(e),e=setTimeout(()=>{n(...d)},o)}},mt=(n,o,s)=>{const e=B(n);return et((g,u)=>({get(){return g(),e.value},set:bt(a=>{e.value=a,u()},o,s)}))},_t=n=>{n.value.version=1},ht=n=>{n.value.version=2,n.value.fields.forEach(o=>{o.showInHeader=!1})},xt=n=>{n.value.version=3,n.value.fields.forEach(o=>{o.type="text"})},wt=n=>{n.value.version=4,n.value.layers=[{id:1,name:"Layer 1"}],n.value.items.forEach(o=>{o.layers=[{id:1,color:o.color,score:o.score,note:o.note}],delete o.color,delete o.score,delete o.note})},It=n=>{n.value.version=5,n.value.items.forEach(o=>{o.active=!0})},kt=(n,o)=>{n.value.hasOwnProperty("version")||_t(n),n.value.version===1&&o>1&&ht(n),n.value.version===2&&o>2&&xt(n),n.value.version===3&&o>3&&wt(n),n.value.version===4&&o>4&&It(n)},Ft=()=>({convert:kt}),He=B(void 0),ke=()=>({activeLayer:He,setActiveLayer:o=>{He.value=o}}),Fe=B(!1),Me=()=>({popper:Fe,togglePopper:()=>{Fe.value=!Fe.value}}),Ce=B(!1),Ct=()=>({board:Ce,toggleBoard:()=>{Ce.value=!Ce.value}}),Pe=B(!1),Qe=()=>({heatmap:Pe,toggleHeatmap:()=>{Pe.value=!Pe.value}}),Pt=["bg-gray-100","bg-gray-200","bg-gray-300","bg-gray-400","bg-gray-500","bg-gray-600","bg-gray-700","bg-gray-800","bg-gray-900","bg-yellow-100","bg-yellow-200","bg-yellow-300","bg-yellow-400","bg-yellow-500","bg-yellow-600","bg-yellow-700","bg-yellow-800","bg-yellow-900","bg-green-100","bg-green-200","bg-green-300","bg-green-400","bg-green-500","bg-green-600","bg-green-700","bg-green-800","bg-green-900","bg-blue-100","bg-blue-200","bg-blue-300","bg-blue-400","bg-blue-500","bg-blue-600","bg-blue-700","bg-blue-800","bg-blue-900","bg-pink-100","bg-pink-200","bg-pink-300","bg-pink-400","bg-pink-500","bg-pink-600","bg-pink-700","bg-pink-800","bg-pink-900","bg-red-100","bg-red-200","bg-red-300","bg-red-400","bg-red-500","bg-red-600","bg-red-700","bg-red-800","bg-red-900","bg-purple-100","bg-purple-200","bg-purple-300","bg-purple-400","bg-purple-500","bg-purple-600","bg-purple-700","bg-purple-800","bg-purple-900"];var G=(n,o)=>{for(const[s,e]of o)n[s]=e;return n};const Bt={props:{item:{type:Object,default:()=>({})},activeItem:{type:Object},heatmap:{type:Boolean,default:!1},getFieldByIdFn:{type:Function},getReferenceByIdFn:{type:Function}},emits:["set-active-item"],setup(n,{emit:o}){const{activeLayer:s}=ke();return{activeLayer:s,setActiveItem:()=>{o("set-active-item",n.item.id)}}}},Rt={key:0,class:"font-bold text-xs line-clamp-1"},Dt={key:0,class:"flex-1"},Lt={class:"font-bold text-xs line-clamp-1"},Vt={key:0},jt={key:0,class:"text-xs text-gray-500 line-clamp-1"},St={key:0};function At(n,o,s,e,d,g){return r(),l("div",{onClick:o[0]||(o[0]=u=>e.setActiveItem()),class:f([[s.activeItem&&s.activeItem.id===s.item.id?"ring-2 ring-offset-1 ring-purple-500 ring-opacity-40 bg-purple-50":"",s.item.active?"opacity-100":"opacity-20"],"flex items-center space-x-2 cursor-pointer hover:bg-gray-50 rounded p-2 select-none"])},[t("div",{class:f(["h-12 w-12 rounded border flex items-center px-2",[s.item.layers.find(u=>u.id===e.activeLayer.id).color,s.heatmap?"h-12 flex-1":"h-12 w-12 flex-shrink-0 "]])},[s.heatmap?(r(),l("div",Rt,x(s.item.name),1)):w("",!0)],2),s.heatmap?w("",!0):(r(),l("div",Dt,[t("div",Lt,x(s.item.name),1),(r(!0),l(L,null,V(s.item.fields,u=>(r(),l("div",{class:"text-xs text-gray-500 line-clamp-1",key:u.id},[s.getFieldByIdFn(u.id).showInGrid?(r(),l("div",Vt,x(u.value),1)):w("",!0)]))),128)),s.item.references.length>0?(r(),l("div",jt,[(r(!0),l(L,null,V(s.item.references,(u,a)=>(r(),l("span",{key:u},[Ie(x(s.getReferenceByIdFn(u).name),1),a<s.item.references.length-1?(r(),l("span",St,", ")):w("",!0)]))),128))])):w("",!0)]))],2)}var Ut=G(Bt,[["render",At]]);const Nt={components:{Popper:tt,Item:Ut},props:{items:{type:Array,default:()=>[]},activeItem:{type:Object},header:{type:String,default:""},getFieldByIdFn:{type:Function},getReferenceByIdFn:{type:Function},setActiveItemFn:{type:Function}},setup(n){const{popper:o}=Me(),{heatmap:s}=Qe();return{popper:o,heatmap:s}}},Ot={class:"space-y-2"},Gt={class:"font-bold"},Et={key:0};function Xt(n,o,s,e,d,g){const u=c("Item"),a=c("Popper");return r(),l("div",null,[s.header?(r(),l("header",{key:0,class:f(["font-bold px-4",[e.heatmap?"py-0 px-6 text-sm":"py-6"]])},x(s.header),3)):w("",!0),e.popper?(r(),U(Se,{key:1,name:"flip-list",tag:"div",class:f(["px-2 grid",[e.heatmap?"grid-cols-6 lg:grid-cols-7 xl:grid-cols-10 pb-4":"gris-cols-1 md:grid-cols-3 lg:grid-cols-3 xl:grid-cols-3 2xl:grid-cols-4 3xl:grid-cols-5 gap-4 pb-12"]])},{default:y(()=>[(r(!0),l(L,null,V(s.items,v=>(r(),U(a,{hover:"",arrow:"",placement:"bottom",key:v.id},{content:y(()=>[t("div",Ot,[t("div",Gt,x(v.name),1),v.note?(r(),l("div",Et,x(v.note),1)):w("",!0)])]),default:y(()=>[i(u,{item:v,activeItem:s.activeItem,heatmap:e.heatmap,"get-field-by-id-fn":s.getFieldByIdFn,"get-reference-by-id-fn":s.getReferenceByIdFn,onSetActiveItem:s.setActiveItemFn},null,8,["item","activeItem","heatmap","get-field-by-id-fn","get-reference-by-id-fn","onSetActiveItem"])]),_:2},1024))),128))]),_:1},8,["class"])):(r(),U(Se,{key:2,name:"flip-list",tag:"div",class:f(["px-2 grid",[e.heatmap?"grid-cols-6 lg:grid-cols-7 xl:grid-cols-10 pb-4":"gris-cols-1 md:grid-cols-3 lg:grid-cols-3 xl:grid-cols-3 2xl:grid-cols-4 3xl:grid-cols-5 gap-4 pb-12"]])},{default:y(()=>[(r(!0),l(L,null,V(s.items,v=>(r(),U(u,{key:v.id,item:v,activeItem:s.activeItem,heatmap:e.heatmap,"get-field-by-id-fn":s.getFieldByIdFn,"get-reference-by-id-fn":s.getReferenceByIdFn,onSetActiveItem:s.setActiveItemFn},null,8,["item","activeItem","heatmap","get-field-by-id-fn","get-reference-by-id-fn","onSetActiveItem"]))),128))]),_:1},8,["class"]))])}var zt=G(Nt,[["render",Xt]]);const ne=B(!1),re=B(!1),le=B(!1),ae=B(!1),ie=B(!1),ce=B(!1),de=B(!1),ue=B(!1),Tt=[ne,re,le,ae,ie,ce,de,ue];function $(){const n=()=>{Tt.forEach(d=>d.value=!1)},o=d=>{switch(n(),d){case"about":ne.value=!0;break;case"desc":re.value=!0;break;case"layers":le.value=!0;break;case"filters":ae.value=!0;break;case"references":ie.value=!0;break;case"groups":ce.value=!0;break;case"fields":de.value=!0;break;case"load":ue.value=!0;break}},s=d=>{switch(d){case"about":ne.value=!1;break;case"desc":re.value=!1;break;case"layers":le.value=!1;break;case"filters":ae.value=!1;break;case"references":ie.value=!1;break;case"groups":ce.value=!1;break;case"fields":de.value=!1;break;case"load":ue.value=!1;break}};return{showFlyover:o,hideFlyover:s,toggleFlyover:d=>{switch(d){case"about":ne.value?s(d):o(d);break;case"desc":re.value?s(d):o(d);break;case"layers":le.value?s(d):o(d);break;case"filters":ae.value?s(d):o(d);break;case"references":ie.value?s(d):o(d);break;case"groups":ce.value?s(d):o(d);break;case"fields":de.value?s(d):o(d);break;case"load":ue.value?s(d):o(d);break}},about:H(ne),desc:H(re),layers:H(le),filters:H(ae),references:H(ie),groups:H(ce),fields:H(de),load:H(ue)}}const Wt={components:{StatusOnlineIcon:Ae,CollectionIcon:Ue,FilterIcon:Ne,LinkIcon:Oe,ViewGridAddIcon:Ge,DuplicateIcon:Ee,UploadIcon:Xe,DownloadIcon:ze},props:{db:{type:Object,default:()=>({})},isLayerReady:{type:Boolean,default:!1}},setup(n){const{toggleFlyover:o,about:s,desc:e,layers:d,filters:g,references:u,groups:a,fields:v,load:h}=$();return{toggleFlyover:o,about:s,desc:e,layers:d,filters:g,references:u,groups:a,fields:v,load:h,saveJSON:()=>{if(n.db&&Object.keys(n.db).length!==0){let m=new Blob([JSON.stringify(n.db)],{type:"application/json;charset=utf-8"});ot.exports.saveAs(m,"atoms.json")}}}}},$t={class:"z-50 h-10 bg-gray-50 border-t flex items-center justify-between text-xs px-4"},Jt=t("span",{class:"font-bold"},"ATOM",-1),Ht=Ie(" \xB7 Sinfores SX"),Mt=[Jt,Ht],Qt={class:"flex items-center space-x-2 border-b-2 border-transparent"},qt=t("div",{class:"hidden xl:block"},"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435",-1),Kt=t("div",{class:"hidden xl:block"},"\u0421\u043B\u043E\u0438",-1),Yt=t("div",{class:"hidden xl:block"},"\u0424\u0438\u043B\u044C\u0442\u0440\u044B",-1),Zt={key:0,class:"hidden xl:block"},eo={key:1,class:"hidden xl:block"},to=t("div",{class:"hidden xl:block"},"\u0413\u0440\u0443\u043F\u043F\u044B",-1),oo=t("div",{class:"hidden xl:block"},"\u041F\u043E\u043B\u044F",-1),so=t("div",{class:"hidden xl:block"},"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C",-1),no=t("div",{class:"hidden xl:block"},"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C",-1);function ro(n,o,s,e,d,g){const u=c("StatusOnlineIcon"),a=c("CollectionIcon"),v=c("FilterIcon"),h=c("LinkIcon"),I=c("ViewGridAddIcon"),m=c("DuplicateIcon"),b=c("UploadIcon"),A=c("DownloadIcon");return r(),l("div",$t,[t("div",{onClick:o[0]||(o[0]=C=>e.toggleFlyover("about")),class:"cursor-pointer select-none"},Mt),t("div",Qt,[s.isLayerReady?(r(),l("div",{key:0,onClick:o[1]||(o[1]=C=>e.toggleFlyover("desc")),class:f([[e.desc?"border-purple-500":"border-transparent"],"border-t-2 border-transparent h-10 px-4 hover:bg-gray-200 cursor-pointer select-none font-semibold flex items-center space-x-2"]),type:"button"},[i(u,{class:"w-5 h-5","aria-hidden":"true"}),qt],2)):w("",!0),s.isLayerReady?(r(),l("div",{key:1,onClick:o[2]||(o[2]=C=>e.toggleFlyover("layers")),class:f([[e.layers?"border-purple-500":"border-transparent"],"border-t-2 border-transparent h-10 px-4 hover:bg-gray-200 cursor-pointer select-none font-semibold flex items-center space-x-2"]),type:"button"},[i(a,{class:"w-5 h-5","aria-hidden":"true"}),Kt],2)):w("",!0),s.isLayerReady?(r(),l("div",{key:2,onClick:o[3]||(o[3]=C=>e.toggleFlyover("filters")),class:f([[e.filters?"border-purple-500":"border-transparent"],"border-t-2 border-transparent h-10 px-4 hover:bg-gray-200 cursor-pointer select-none font-semibold flex items-center space-x-2"]),type:"button"},[i(v,{class:"w-5 h-5","aria-hidden":"true"}),Yt],2)):w("",!0),s.isLayerReady?(r(),l("div",{key:3,onClick:o[4]||(o[4]=C=>e.toggleFlyover("references")),class:f([[e.references?"border-purple-500":"border-transparent"],"border-t-2 border-transparent h-10 px-4 hover:bg-gray-200 cursor-pointer select-none font-semibold flex items-center space-x-2"]),type:"button"},[i(h,{class:"w-5 h-5","aria-hidden":"true"}),s.db.referenceName?(r(),l("div",Zt,x(s.db.referenceName),1)):(r(),l("div",eo,"\u0421\u0432\u044F\u0437\u0438"))],2)):w("",!0),s.isLayerReady?(r(),l("div",{key:4,onClick:o[5]||(o[5]=C=>e.toggleFlyover("groups")),class:f([[e.groups?"border-purple-500":"border-transparent"],"border-t-2 border-transparent h-10 px-4 hover:bg-gray-200 cursor-pointer select-none font-semibold flex items-center space-x-2"]),type:"button"},[i(I,{class:"w-5 h-5","aria-hidden":"true"}),to],2)):w("",!0),s.isLayerReady?(r(),l("div",{key:5,onClick:o[6]||(o[6]=C=>e.toggleFlyover("fields")),class:f([[e.fields?"border-purple-500":"border-transparent"],"border-t-2 border-transparent h-10 px-4 hover:bg-gray-200 cursor-pointer select-none font-semibold flex items-center space-x-2"]),type:"button"},[i(m,{class:"w-5 h-5","aria-hidden":"true"}),oo],2)):w("",!0),t("div",{onClick:o[7]||(o[7]=C=>e.toggleFlyover("load")),class:f([[e.load?"border-purple-500":"border-transparent"],"border-t-2 h-10 px-4 hover:bg-gray-200 cursor-pointer select-none font-semibold flex items-center space-x-2 select-none"]),type:"button"},[i(b,{class:"w-5 h-5","aria-hidden":"true"}),so],2),s.isLayerReady?(r(),l("div",{key:6,onClick:o[8]||(o[8]=C=>e.saveJSON()),class:"border-t-2 border-transparent h-10 px-4 hover:bg-gray-200 cursor-pointer select-none font-semibold flex items-center space-x-2",type:"button"},[i(A,{class:"w-5 h-5","aria-hidden":"true"}),no])):w("",!0)])])}var lo=G(Wt,[["render",ro]]);const ao={components:{Markdown:Te},props:{fields:{type:Array,default:()=>[]},getFieldByIdFn:{type:Function},isWide:{type:Boolean,default:!1}},setup(n){const o=[{plugin:st},{plugin:nt},{plugin:rt}],s=ve(()=>n.fields.filter(e=>e.value&&n.getFieldByIdFn(e.id).showInDetals));return{mdPlugins:o,visibleNonEmptyFields:s}}},io={class:"uppercase font-bold text-gray-500"},co={class:"atom-prose"};function uo(n,o,s,e,d,g){const u=c("Markdown");return r(!0),l(L,null,V(e.visibleNonEmptyFields,a=>(r(),l("section",{key:a.id,class:f(["text-xs space-y-2",[s.isWide?"text-base space-y-4":"text-xs space-y-2"]])},[t("header",io,x(s.getFieldByIdFn(a.id).name),1),t("div",co,[i(u,{source:a.value,plugins:e.mdPlugins,linkify:!0},null,8,["source","plugins"])])],2))),128)}var fo=G(ao,[["render",uo]]);const yo={props:{fields:{type:Array,default:()=>[]},getFieldByIdFn:{type:Function}},setup(n){}},go={key:0,class:"block"},vo={class:"text-gray-700 text-xs"},po=["onUpdate:modelValue"],bo={key:1,class:"flex items-center py-2"},mo=["onUpdate:modelValue"],_o={class:"ml-2"};function ho(n,o,s,e,d,g){return r(!0),l(L,null,V(s.fields,u=>(r(),l("div",{key:u.id},[s.getFieldByIdFn(u.id).type==="text"?(r(),l("label",go,[t("span",vo,x(s.getFieldByIdFn(u.id).name),1),R(t("textarea",{class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm text-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",rows:"2","onUpdate:modelValue":a=>u.value=a},null,8,po),[[j,u.value]])])):w("",!0),s.getFieldByIdFn(u.id).type==="bool"?(r(),l("label",bo,[R(t("input",{type:"checkbox",class:"rounded border-gray-300 text-purple-600 shadow-sm focus:border-purple-300 focus:ring focus:ring-offset-0 focus:ring-purple-200 focus:ring-opacity-50","onUpdate:modelValue":a=>u.value=a},null,8,mo),[[M,u.value]]),t("span",_o,x(s.getFieldByIdFn(u.id).name),1)])):w("",!0)]))),128)}var xo=G(yo,[["render",ho]]);const wo={components:{XIcon:T},setup(){const{hideFlyover:n,about:o}=$();return{hideFlyover:n,about:o}}},Io={class:"h-16 bg-white flex items-center justify-between px-4 space-x-2"},ko=t("div",{class:"flex-1 font-bold"},"ATOM",-1),Fo=lt('<div class="flex-1 bg-white overflow-auto px-4 space-y-4 text-sm"><p class="text-xs">\u041F\u043E\u043B\u0435\u0437\u043D\u0430\u044F \u0448\u0442\u0443\u043A\u0430, \u0447\u0442\u043E\u0431\u044B \u043E\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043B\u044F\u0442\u044C \u0434\u0435\u043A\u043E\u043C\u043F\u043E\u0437\u0438\u0446\u0438\u044E \u0441\u043B\u043E\u0436\u043D\u044B\u0445 \u043F\u0440\u043E\u0446\u0435\u0441\u0441\u043E\u0432, \u0441\u0442\u0440\u0443\u043A\u0442\u0443\u0440\u0438\u0440\u043E\u0432\u0430\u043D\u043E \u0445\u0440\u0430\u043D\u0438\u0442\u044C \u0438\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044E \u0438 \u0442.\u0434.</p><p class="text-xs">\u0420\u0435\u0430\u043B\u0438\u0437\u043E\u0432\u0430\u043D\u043E \u0432 \u0440\u0430\u043C\u043A\u0430\u0445 \u0438\u043D\u0438\u0446\u0438\u0430\u0442\u0438\u0432\u044B Security Expirience (SX) \u043A\u043E\u043C\u043F\u0430\u043D\u0438\u0438 Sinfores Group. \u0418\u043D\u0438\u0446\u0438\u0430\u0442\u0438\u0432\u0430 \u043D\u0430\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0430 \u043D\u0430 \u043E\u0431\u043B\u0435\u0433\u0447\u0435\u043D\u0438\u0435 \u0442\u0440\u0443\u0434\u0430 \u0440\u044F\u0434\u043E\u0432\u044B\u0445 \u0441\u043F\u0435\u0446\u0438\u0430\u043B\u0438\u0441\u0442\u043E\u0432 \u043F\u043E \u043A\u0438\u0431\u0435\u0440\u0431\u0435\u0437\u043E\u043F\u0430\u0441\u043D\u043E\u0441\u0442\u0438. \u0412 \u0440\u0430\u043C\u043A\u0430\u0445 \u0438\u043D\u0438\u0446\u0438\u0430\u0442\u0438\u0432\u044B \u043C\u044B \u043E\u0442\u043A\u0440\u044B\u0432\u0430\u0435\u043C \u0434\u043E\u0441\u0442\u0443\u043F \u043A \u0441\u0432\u043E\u0438\u043C \u0438\u043D\u0441\u0442\u0440\u0443\u043C\u0435\u043D\u0442\u0430\u043C, \u043A\u043E\u0442\u043E\u0440\u044B\u0435 \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u044E\u0442\u0441\u044F \u0432 \u043F\u0440\u043E\u0435\u043A\u0442\u043D\u043E\u0439 \u0440\u0430\u0431\u043E\u0442\u0435.</p><div class="bg-red-100 p-4 rounded border border-red-200 text-red-900 space-y-2 text-xs"><header class="font-bold uppercase">\u0412\u0430\u0436\u043D\u043E</header><p>\u0412\u0441\u044F \u0440\u0430\u0431\u043E\u0442\u0430 \u0441 \u0434\u0430\u043D\u043D\u044B\u043C\u0438 \u043E\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043B\u044F\u0435\u0442\u0441\u044F \u0438\u0441\u043A\u043B\u044E\u0447\u0438\u0442\u0435\u043B\u044C\u043D\u043E \u043D\u0430 \u0412\u0430\u0448\u0435\u043C \u043A\u043E\u043C\u043F\u044C\u044E\u0442\u0435\u0440\u0435. \u041E\u043D\u0438 \u043D\u0438\u043A\u0443\u0434\u0430 \u043D\u0435 \u043F\u0435\u0440\u0435\u0434\u0430\u044E\u0442\u0441\u044F \u0438 \u0434\u0430\u0436\u0435 \u043D\u0438\u043A\u0430\u043A\u0438\u0435 cookies-\u0444\u0430\u0439\u043B\u044B \u043D\u0435 \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u044E\u0442\u0441\u044F. \u041F\u043E\u044D\u0442\u043E\u043C\u0443 \u043D\u0435 \u0437\u0430\u0431\u044B\u0432\u0430\u0439\u0442\u0435 \u043F\u0435\u0440\u0438\u043E\u0434\u0438\u0447\u0435\u0441\u043A\u0438 \u0441\u043E\u0445\u0440\u0430\u043D\u044F\u0442\u044C \u0412\u0430\u0448\u0438 \u043C\u043E\u0434\u0435\u043B\u0438, \u0442\u0430\u043A \u043A\u0430\u043A \u043C\u044B \u0438\u0445 \u0432\u043E\u0441\u0441\u0442\u0430\u043D\u043E\u0432\u0438\u0442\u044C \u043D\u0435 \u0441\u043C\u043E\u0436\u0435\u043C.</p></div></div>',1);function Co(n,o,s,e,d,g){const u=c("XIcon");return r(),l("div",{class:f([e.about?"translate-y-0":"translate-y-full","z-40 transition absolute bottom-9 left-2 w-96 h-large overflow-hidden flex flex-col border shadow-xl border-t-2 border-t-purple-500"])},[t("div",Io,[ko,t("div",null,[t("div",{class:"hover:bg-gray-100 cursor-pointer rounded-full h-6 w-6 flex items-center justify-center",onClick:o[0]||(o[0]=a=>e.hideFlyover("about"))},[i(u,{class:"h-4 w-4 text-gray-400"})])])]),Fo],2)}var Po=G(wo,[["render",Co]]);const Bo={components:{XIcon:T},props:{db:{type:Object}},setup(){const{hideFlyover:n,desc:o}=$();return{hideFlyover:n,desc:o}}},Ro={class:"h-16 bg-white flex items-center justify-between px-4 space-x-2"},Do=t("div",{class:"flex-1 font-bold"},"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435",-1),Lo={class:"flex-1 bg-white overflow-auto px-4 space-y-4 text-sm"},Vo={class:"space-y-2"},jo={class:"block"},So=t("span",{class:"text-gray-700"},"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435",-1),Ao={class:"block"},Uo=t("span",{class:"text-gray-700"},"\u0412\u0435\u0440\u0441\u0438\u044F",-1),No={class:"block"},Oo=t("span",{class:"text-gray-700"},"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435",-1),Go={class:"space-y-1"},Eo={class:"text-xs"},Xo={class:"text-xs"};function zo(n,o,s,e,d,g){const u=c("XIcon");return r(),l("div",{class:f([e.desc?"translate-y-0":"translate-y-full","z-40 transition absolute bottom-9 right-120 w-96 h-96 overflow-hidden flex flex-col border shadow-xl border-t-2 border-t-purple-500"])},[t("div",Ro,[Do,t("div",null,[t("div",{class:"hover:bg-gray-100 cursor-pointer rounded-full h-6 w-6 flex items-center justify-center",onClick:o[0]||(o[0]=a=>e.hideFlyover("desc"))},[i(u,{class:"h-4 w-4 text-gray-400"})])])]),t("div",Lo,[t("div",Vo,[t("label",jo,[So,R(t("input",{"onUpdate:modelValue":o[1]||(o[1]=a=>s.db.model.name=a),type:"text",class:"text-sm mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",placeholder:"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435"},null,512),[[j,s.db.model.name]])]),t("label",Ao,[Uo,R(t("input",{"onUpdate:modelValue":o[2]||(o[2]=a=>s.db.model.version=a),type:"text",class:"text-sm mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",placeholder:"\u0412\u0435\u0440\u0441\u0438\u044F"},null,512),[[j,s.db.model.version]])]),t("label",No,[Oo,R(t("textarea",{"onUpdate:modelValue":o[3]||(o[3]=a=>s.db.model.description=a),class:"text-sm mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",rows:"3"},null,512),[[j,s.db.model.description]])])]),t("div",Go,[t("p",Eo,"\u0410\u0442\u043E\u043C\u043E\u0432: "+x(s.db.items.length)+" (\u0430\u043A\u0442\u0438\u0432\u043D\u044B\u0445 "+x(s.db.items.filter(a=>a.active).length)+"), \u0441\u0432\u044F\u0437\u0435\u0439: "+x(s.db.references.length)+", \u0433\u0440\u0443\u043F\u043F: "+x(s.db.groups.length),1),t("p",Xo,"\u0412\u0435\u0440\u0441\u0438\u044F \u0441\u0445\u0435\u043C\u044B: v."+x(s.db.version),1)])])],2)}var To=G(Bo,[["render",zo]]);const Wo={components:{XIcon:T,ChevronUpIcon:pe,PlusSmIcon:ee,Disclosure:be,DisclosureButton:me,DisclosurePanel:_e,Popover:te,PopoverButton:oe,PopoverPanel:se},props:{db:{type:Object,default:()=>({})}},setup(n){const{hideFlyover:o,layers:s}=$(),{activeLayer:e,setActiveLayer:d}=ke(),g=B("");return{hideFlyover:o,layers:s,activeLayer:e,setActiveLayer:d,newLayer:g,add:()=>{if(g.value){let v=0;n.db.layers.forEach(h=>{h.id>v&&(v=h.id)}),n.db.layers.push({id:v+1,name:g.value}),n.db.items.forEach(h=>{h.layers.push({id:v+1,color:"bg-gray-100",score:0})}),g.value=""}},remove:v=>{if(n.db.layers.length<1)return;d(n.db.layers[0]),n.db.items.forEach(I=>{const m=I.layers.findIndex(b=>b.id===v.id);m>-1&&I.layers.splice(m,1)});const h=n.db.layers.findIndex(I=>I.id===v.id);h>-1&&n.db.layers.splice(h,1)}}}},$o={class:"h-16 bg-white flex items-center justify-between px-4 space-x-2"},Jo=t("div",{class:"flex-1 font-bold"},"\u0421\u043B\u043E\u0438",-1),Ho={class:"flex-1 bg-white overflow-auto px-4 pb-32 text-sm"},Mo={class:"bg-white overflow-hidden rounded shadow-lg ring-1 ring-black ring-opacity-5 p-4 space-y-4"},Qo=t("p",{class:"text-xs text-gray-600"},"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u043D\u043E\u0432\u043E\u0433\u043E \u0441\u043B\u043E\u044F",-1),qo={class:"block"},Ko=["onClick"],Yo={class:"w-full flex justify-between items-center space-x-4"},Zo={class:"line-clamp-1"},es={class:"block"},ts=["onUpdate:modelValue"],os={class:"flex items-center space-x-2"},ss=["onClick"],ns=["onClick"];function rs(n,o,s,e,d,g){const u=c("XIcon"),a=c("PlusSmIcon"),v=c("PopoverButton"),h=c("PopoverPanel"),I=c("Popover"),m=c("ChevronUpIcon"),b=c("DisclosureButton"),A=c("DisclosurePanel"),C=c("Disclosure");return r(),l("div",{class:f([e.layers?"translate-y-0":"translate-y-full","z-40 transition absolute bottom-9 right-112 w-96 h-large overflow-hidden flex flex-col border shadow-xl border-t-2 border-t-purple-500"])},[t("div",$o,[Jo,t("div",null,[t("div",{class:"hover:bg-gray-100 cursor-pointer rounded-full h-6 w-6 flex items-center justify-center",onClick:o[0]||(o[0]=S=>e.hideFlyover("layers"))},[i(u,{class:"h-4 w-4 text-gray-400"})])])]),t("div",Ho,[i(I,{class:"relative mb-4"},{default:y(({open:S})=>[i(v,{class:f([S?"":"opacity-90","rounded-full bg-gray-50 h-8 w-8 flex items-center justify-center cursor-pointer text-gray-500 hover:bg-gray-200 hover:text-gray-900"])},{default:y(()=>[i(a,{class:"w-5 h-5"})]),_:2},1032,["class"]),i(W,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"translate-y-1 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"translate-y-0 opacity-100","leave-to-class":"translate-y-1 opacity-0"},{default:y(()=>[i(h,{class:"absolute z-10 w-80 mt-1 transform -translate-x-1/2 left-40 sm:px-0 lg:max-w-3xl"},{default:y(({close:k})=>[t("div",Mo,[Qo,t("label",qo,[R(t("textarea",{class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm text-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",rows:"3","onUpdate:modelValue":o[1]||(o[1]=N=>e.newLayer=N)},null,512),[[j,e.newLayer]])]),t("button",{onClick:N=>{e.add(),k()},class:"bg-purple-600 text-white px-6 py-2 text-sm font-semibold rounded-lg"},"\u0421\u043E\u0437\u0434\u0430\u0442\u044C",8,Ko)])]),_:1})]),_:1})]),_:1}),(r(!0),l(L,null,V(s.db.layers,S=>(r(),l("div",{class:f(["border-t last:border-b px-2",[e.activeLayer.id===S.id?"bg-purple-50":""]]),key:S.id},[i(C,null,{default:y(({open:k})=>[i(b,{class:"py-2 w-full"},{default:y(()=>[t("div",Yo,[t("div",{class:f([e.activeLayer.id===S.id?"font-semibold":""])},[t("div",Zo,x(S.name),1)],2),i(m,{class:f([k?"transform rotate-180":"","w-5 h-5 text-purple-500"])},null,8,["class"])])]),_:2},1024),i(A,{class:"text-gray-500 pb-4"},{default:y(()=>[t("label",es,[R(t("input",{type:"text",class:"text-sm mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50","onUpdate:modelValue":N=>S.name=N},null,8,ts),[[j,S.name]])]),t("div",os,[t("button",{onClick:N=>e.setActiveLayer(S),class:"my-2 bg-purple-500 rounded text-purple-50 py-2 px-4 cursor-pointer hover:bg-purple-600 hover:text-white transition text-xs font-semibold"},"\u0421\u0434\u0435\u043B\u0430\u0442\u044C \u0430\u043A\u0442\u0438\u0432\u043D\u044B\u043C",8,ss),s.db.layers.length>1?(r(),l("button",{key:0,onClick:N=>e.remove(S),class:"my-2 bg-white border border-red-100 rounded text-red-500 py-2 px-4 cursor-pointer hover:bg-red-50 hover:text-red-700 transition text-xs font-semibold"},"\u0423\u0434\u0430\u043B\u0438\u0442\u044C",8,ns)):w("",!0)])]),_:2},1024)]),_:2},1024)],2))),128))])],2)}var ls=G(Wo,[["render",rs]]);const as={components:{XIcon:T,ChevronUpIcon:pe,Disclosure:be,DisclosureButton:me,DisclosurePanel:_e},props:{db:{type:Object},selectedReferences:{type:Object},showWithoutReference:{type:Boolean,default:!0}},emits:["toggle-empty"],setup(n,{emit:o}){const{hideFlyover:s,filters:e}=$();return(()=>{n.db.references.forEach(a=>{n.selectedReferences.push(a.id)})})(),{filters:e,hideFlyover:s,toggleReference:(a,v)=>{const h=n.selectedReferences.findIndex(I=>I===a);h>-1?n.selectedReferences.splice(h,1):n.selectedReferences.push(a)},toggleEmpty:()=>{o("toggle-empty")}}}},is={class:"h-16 bg-white flex items-center justify-between px-4 space-x-2"},cs=t("div",{class:"flex-1 font-bold"},"\u0424\u0438\u043B\u044C\u0442\u0440\u044B",-1),ds={class:"flex-1 bg-white overflow-auto px-4 pb-32 space-y-4 text-sm"},us={class:"border-t border-b px-2"},fs={class:"w-full flex justify-between items-center space-x-4"},ys={class:"font-semibold"},gs={key:0,class:"line-clamp-1"},vs={key:1},ps={class:"inline-flex items-center"},bs=["checked"],ms=t("span",{class:"ml-2"},"\u041F\u043E\u043A\u0430\u0437\u044B\u0432\u0430\u0442\u044C \u0431\u0435\u0437 \u0441\u0432\u044F\u0437\u0435\u0439",-1),_s={class:"inline-flex items-center"},hs=["onClick","checked"],xs={class:"ml-2"};function ws(n,o,s,e,d,g){const u=c("XIcon"),a=c("ChevronUpIcon"),v=c("DisclosureButton"),h=c("DisclosurePanel"),I=c("Disclosure");return r(),l("div",{class:f([e.filters?"translate-y-0":"translate-y-full","z-40 transition absolute bottom-9 right-102 w-96 h-large overflow-hidden flex flex-col border shadow-xl border-t-2 border-t-purple-500"])},[t("div",is,[cs,t("div",null,[t("div",{class:"hover:bg-gray-100 cursor-pointer rounded-full h-6 w-6 flex items-center justify-center",onClick:o[0]||(o[0]=m=>e.hideFlyover("filters"))},[i(u,{class:"h-4 w-4 text-gray-400"})])])]),t("div",ds,[t("div",us,[i(I,null,{default:y(({open:m})=>[i(v,{class:"py-2 w-full"},{default:y(()=>[t("div",fs,[t("div",ys,[s.db.referenceName?(r(),l("div",gs,"\u0424\u0438\u043B\u044C\u0442\u0440 \u043F\u043E: "+x(s.db.referenceName),1)):(r(),l("div",vs,"\u0424\u0438\u043B\u044C\u0442\u0440 \u043F\u043E \u0441\u0432\u044F\u0437\u044F\u043C"))]),i(a,{class:f([m?"transform rotate-180":"","w-5 h-5 text-purple-500"])},null,8,["class"])])]),_:2},1024),i(h,{class:"text-gray-500 pb-4"},{default:y(()=>[t("div",null,[t("div",null,[t("label",ps,[t("input",{onClick:o[1]||(o[1]=b=>e.toggleEmpty()),type:"checkbox",class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-300 focus:ring focus:ring-offset-0 focus:ring-indigo-200 focus:ring-opacity-50",checked:s.showWithoutReference},null,8,bs),ms])]),(r(!0),l(L,null,V(s.db.references,b=>(r(),l("div",{key:b.id},[t("label",_s,[t("input",{onClick:A=>e.toggleReference(b.id),type:"checkbox",class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-300 focus:ring focus:ring-offset-0 focus:ring-indigo-200 focus:ring-opacity-50",checked:s.selectedReferences.includes(b.id)},null,8,hs),t("span",xs,x(b.name),1)])]))),128))])]),_:1})]),_:1})])])],2)}var Is=G(as,[["render",ws]]);const ks={components:{XIcon:T,PlusSmIcon:ee,Popover:te,PopoverButton:oe,PopoverPanel:se},props:{db:{type:Object}},setup(n){const{hideFlyover:o,references:s}=$(),e=B("");return{newReference:e,addNewReference:()=>{if(e.value==="")return;let g=0;n.db.references.forEach(a=>{a.id>g&&(g=a.id)});const u={id:g+1,name:e.value};n.db.references.push(u),e.value=""},hideFlyover:o,references:s}}},Fs={class:"h-16 bg-white flex items-center justify-between px-4 space-x-2"},Cs=t("div",{class:"flex-1 font-bold"},"\u0423\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0435 \u0441\u0432\u044F\u0437\u044F\u043C\u0438",-1),Ps={class:"flex-1 bg-white overflow-auto px-4 pb-32 space-y-4 text-sm"},Bs={class:"block"},Rs={class:"bg-white overflow-hidden rounded shadow-lg ring-1 ring-black ring-opacity-5 p-4 space-y-4"},Ds=t("p",{class:"text-xs text-gray-600"},"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043D\u0430\u0437\u0432\u0430\u043D\u0438\u0435",-1),Ls={class:"block"},Vs={class:"space-y-2"},js=["onUpdate:modelValue"];function Ss(n,o,s,e,d,g){const u=c("XIcon"),a=c("PlusSmIcon"),v=c("PopoverButton"),h=c("PopoverPanel"),I=c("Popover");return r(),l("div",{class:f([e.references?"translate-y-0":"translate-y-full","z-40 transition absolute bottom-9 right-80 w-96 h-large overflow-hidden flex flex-col border shadow-xl border-t-2 border-t-purple-500"])},[t("div",Fs,[Cs,t("div",null,[t("div",{class:"hover:bg-gray-100 cursor-pointer rounded-full h-6 w-6 flex items-center justify-center",onClick:o[0]||(o[0]=m=>e.hideFlyover("references"))},[i(u,{class:"h-4 w-4 text-gray-400"})])])]),t("div",Ps,[t("div",null,[t("label",Bs,[R(t("input",{type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm text-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50","onUpdate:modelValue":o[1]||(o[1]=m=>s.db.referenceName=m),placeholder:"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u0441\u0432\u044F\u0437\u0438 (\u043D\u0430\u043F\u0440\u0438\u043C\u0435\u0440, \u0438\u043D\u0441\u0442\u0440\u0443\u043C\u0435\u043D\u0442\u044B)"},null,512),[[j,s.db.referenceName]])])]),i(I,{class:"relative"},{default:y(({open:m})=>[i(v,{class:f([m?"":"opacity-90","rounded-full bg-gray-50 h-8 w-8 flex items-center justify-center cursor-pointer text-gray-500 hover:bg-gray-200 hover:text-gray-900"])},{default:y(()=>[i(a,{class:"w-5 h-5"})]),_:2},1032,["class"]),i(W,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"translate-y-1 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"translate-y-0 opacity-100","leave-to-class":"translate-y-1 opacity-0"},{default:y(()=>[i(h,{class:"absolute z-10 w-80 mt-1 transform -translate-x-1/2 left-40 sm:px-0 lg:max-w-3xl"},{default:y(()=>[t("div",Rs,[Ds,t("label",Ls,[R(t("textarea",{class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm text-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",rows:"3","onUpdate:modelValue":o[2]||(o[2]=b=>e.newReference=b)},null,512),[[j,e.newReference]])]),t("button",{onClick:o[3]||(o[3]=(...b)=>e.addNewReference&&e.addNewReference(...b)),class:"bg-purple-600 text-white px-6 py-2 text-sm font-semibold rounded-lg"},"\u0421\u043E\u0437\u0434\u0430\u0442\u044C")])]),_:1})]),_:1})]),_:1}),t("div",Vs,[(r(!0),l(L,null,V(s.db.references,m=>(r(),l("label",{key:m.id,class:"block"},[R(t("input",{type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm text-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50","onUpdate:modelValue":b=>m.name=b},null,8,js),[[j,m.name]])]))),128))])])],2)}var As=G(ks,[["render",Ss]]);const Us={components:{XIcon:T,PlusSmIcon:ee,Popover:te,PopoverButton:oe,PopoverPanel:se},props:{db:{type:Object}},setup(n){const{hideFlyover:o,groups:s}=$(),e=B("");return{newGroup:e,addNewGroup:()=>{if(e.value==="")return;let g=0;n.db.value.groups.forEach(a=>{a.id>g&&(g=a.id)});const u={id:g+1,name:e.value};n.db.value.groups.push(u),e.value=""},hideFlyover:o,groups:s}}},Ns={class:"h-16 bg-white flex items-center justify-between px-4 space-x-2"},Os=t("div",{class:"flex-1 font-bold"},"\u0423\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0435 \u0433\u0440\u0443\u043F\u043F\u0430\u043C\u0438",-1),Gs={class:"flex-1 bg-white overflow-auto px-4 pb-32 space-y-4 text-sm"},Es={class:"bg-white overflow-hidden rounded shadow-lg ring-1 ring-black ring-opacity-5 p-4 space-y-4"},Xs=t("p",{class:"text-xs text-gray-600"},"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u043D\u043E\u0432\u043E\u0439 \u0433\u0440\u0443\u043F\u043F\u044B.",-1),zs={class:"block"},Ts={class:"space-y-2"},Ws=["onUpdate:modelValue"];function $s(n,o,s,e,d,g){const u=c("XIcon"),a=c("PlusSmIcon"),v=c("PopoverButton"),h=c("PopoverPanel"),I=c("Popover");return r(),l("div",{class:f([e.groups?"translate-y-0":"translate-y-full","z-40 transition absolute bottom-9 right-60 w-96 h-large overflow-hidden flex flex-col border shadow-xl border-t-2 border-t-purple-500"])},[t("div",Ns,[Os,t("div",null,[t("div",{class:"hover:bg-gray-100 cursor-pointer rounded-full h-6 w-6 flex items-center justify-center",onClick:o[0]||(o[0]=m=>e.hideFlyover("groups"))},[i(u,{class:"h-4 w-4 text-gray-400"})])])]),t("div",Gs,[i(I,{class:"relative"},{default:y(({open:m})=>[i(v,{class:f([m?"":"opacity-90","rounded-full bg-gray-50 h-8 w-8 flex items-center justify-center cursor-pointer text-gray-500 hover:bg-gray-200 hover:text-gray-900"])},{default:y(()=>[i(a,{class:"w-5 h-5"})]),_:2},1032,["class"]),i(W,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"translate-y-1 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"translate-y-0 opacity-100","leave-to-class":"translate-y-1 opacity-0"},{default:y(()=>[i(h,{class:"absolute z-10 w-80 mt-1 transform -translate-x-1/2 left-40 sm:px-0 lg:max-w-3xl"},{default:y(()=>[t("div",Es,[Xs,t("label",zs,[R(t("textarea",{class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm text-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",rows:"3","onUpdate:modelValue":o[1]||(o[1]=b=>e.newGroup=b)},null,512),[[j,e.newGroup]])]),t("button",{onClick:o[2]||(o[2]=(...b)=>e.addNewGroup&&e.addNewGroup(...b)),class:"bg-purple-600 text-white px-6 py-2 text-sm font-semibold rounded-lg"},"\u0421\u043E\u0437\u0434\u0430\u0442\u044C")])]),_:1})]),_:1})]),_:1}),t("div",Ts,[(r(!0),l(L,null,V(s.db.groups,m=>(r(),l("label",{key:m.id,class:"block"},[R(t("input",{type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm text-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50","onUpdate:modelValue":b=>m.name=b},null,8,Ws),[[j,m.name]])]))),128))])])],2)}var Js=G(Us,[["render",$s]]);const Hs=[{label:"\u0422\u0435\u043A\u0441\u0442\u043E\u0432\u043E\u0435 \u043F\u043E\u043B\u0435",value:"text"},{label:"\u0411\u0443\u043B\u0435\u0432\u043E \u043F\u043E\u043B\u0435 (\u043F\u0440\u0430\u0432\u0434\u0430/\u043B\u043E\u0436\u044C)",value:"bool"}],Ms={components:{XIcon:T,PlusSmIcon:ee,ChevronUpIcon:pe,ChevronDownIcon:We,Popover:te,PopoverButton:oe,PopoverPanel:se,Disclosure:be,DisclosureButton:me,DisclosurePanel:_e},props:{db:{type:Object}},setup(n){const{hideFlyover:o,fields:s}=$(),e=B("");return{newField:e,add:()=>{if(e.value==="")return;let u=0;n.db.fields.forEach(v=>{v.id>u&&(u=v.id)});const a={id:u+1,name:e.value,showInDetals:!1,showInPopper:!1,showInGrid:!1,showInHeader:!1,searchable:!1,filterable:!1,type:"text"};n.db.fields.push(a),n.db.items.forEach(v=>{v.fields.push({id:u+1,value:""})}),e.value=""},remove:u=>{const a=n.db.fields.findIndex(v=>v.id===u);a>-1&&(n.db.items.forEach(v=>{const h=v.fields.findIndex(I=>I.id===u);h>-1&&v.fields.splice(h,1)}),n.db.fields.splice(a,1))},fieldTypes:Hs,hideFlyover:o,fields:s}}},Qs={class:"h-16 bg-white flex items-center justify-between px-4 space-x-2"},qs=t("div",{class:"flex-1 font-bold"},"\u0423\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0435 \u043F\u043E\u043B\u044F\u043C\u0438",-1),Ks={class:"flex-1 bg-white overflow-auto px-4 space-y-4 text-sm pb-32"},Ys={class:"bg-white overflow-hidden rounded shadow-lg ring-1 ring-black ring-opacity-5 p-4 space-y-4"},Zs=t("p",{class:"text-xs text-gray-600"},"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u043D\u043E\u0432\u043E\u0433\u043E \u043F\u043E\u043B\u044F.",-1),en={class:"block"},tn=["onClick"],on={class:"line-clamp-1"},sn={class:"space-y-2 pb-4"},nn={class:"block"},rn=t("span",{class:"font-bold text-black"},"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u043F\u043E\u043B\u044F",-1),ln=["onUpdate:modelValue"],an=t("div",null,"\u0422\u0438\u043F:",-1),cn={class:"flex-1 text-left font-bold"},dn={class:"bg-white overflow-hidden rounded shadow-lg ring-1 ring-black ring-opacity-5 p-2"},un=["onClick"],fn={class:"inline-flex items-center"},yn=["onUpdate:modelValue"],gn=t("span",{class:"ml-2"},"\u041F\u043E\u043A\u0430\u0437\u044B\u0432\u0430\u0442\u044C \u043F\u043E\u043B\u0435 \u0432 \u0437\u0430\u0433\u043E\u043B\u043E\u0432\u043A\u0435",-1),vn={class:"inline-flex items-center"},pn=["onUpdate:modelValue"],bn=t("span",{class:"ml-2"},"\u041F\u043E\u043A\u0430\u0437\u044B\u0432\u0430\u0442\u044C \u043F\u043E\u043B\u0435 \u0432 \u0434\u0435\u0442\u0430\u043B\u044F\u0445 \u0430\u0442\u043E\u043C\u0430",-1),mn={class:"inline-flex items-center"},_n=["onUpdate:modelValue"],hn=t("span",{class:"ml-2"},"\u041F\u043E\u043A\u0430\u0437\u044B\u0432\u0430\u0442\u044C \u043F\u043E\u043B\u0435 \u0432 \u043F\u043E\u0434\u0441\u043A\u0430\u0437\u043A\u0435",-1),xn={class:"inline-flex items-center"},wn=["onUpdate:modelValue"],In=t("span",{class:"ml-2"},"\u041F\u043E\u043A\u0430\u0437\u044B\u0432\u0430\u0442\u044C \u043F\u043E\u043B\u0435 \u0432 \u0441\u0435\u0442\u043A\u0435",-1),kn={class:"inline-flex items-center"},Fn=["onUpdate:modelValue"],Cn=t("span",{class:"ml-2"},"\u0423\u0447\u0438\u0442\u044B\u0432\u0430\u0442\u044C \u043F\u043E\u043B\u0435 \u043F\u0440\u0438 \u043F\u043E\u0438\u0441\u043A\u0435",-1),Pn={class:"pt-4"},Bn=["onClick"];function Rn(n,o,s,e,d,g){const u=c("XIcon"),a=c("PlusSmIcon"),v=c("PopoverButton"),h=c("PopoverPanel"),I=c("Popover"),m=c("ChevronUpIcon"),b=c("DisclosureButton"),A=c("ChevronDownIcon"),C=c("DisclosurePanel"),S=c("Disclosure");return r(),l("div",{class:f([e.fields?"translate-y-0":"translate-y-full","z-40 transition absolute bottom-9 right-32 w-96 h-large overflow-hidden flex flex-col border shadow-xl border-t-2 border-t-purple-500"])},[t("div",Qs,[qs,t("div",null,[t("div",{class:"hover:bg-gray-100 cursor-pointer rounded-full h-6 w-6 flex items-center justify-center",onClick:o[0]||(o[0]=k=>e.hideFlyover("fields"))},[i(u,{class:"h-4 w-4 text-gray-400"})])])]),t("div",Ks,[i(I,{class:"relative"},{default:y(({open:k})=>[i(v,{class:f([k?"":"opacity-90","rounded-full bg-gray-50 h-8 w-8 flex items-center justify-center cursor-pointer text-gray-500 hover:bg-gray-200 hover:text-gray-900"])},{default:y(()=>[i(a,{class:"w-5 h-5"})]),_:2},1032,["class"]),i(W,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"translate-y-1 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"translate-y-0 opacity-100","leave-to-class":"translate-y-1 opacity-0"},{default:y(()=>[i(h,{class:"absolute z-10 w-80 mt-1 transform -translate-x-1/2 left-40 sm:px-0 lg:max-w-3xl"},{default:y(({close:N})=>[t("div",Ys,[Zs,t("label",en,[R(t("textarea",{class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm text-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",rows:"3","onUpdate:modelValue":o[1]||(o[1]=D=>e.newField=D)},null,512),[[j,e.newField]])]),t("button",{onClick:D=>{e.add(),N()},class:"bg-purple-600 text-white px-6 py-2 text-sm font-semibold rounded-lg"},"\u0421\u043E\u0437\u0434\u0430\u0442\u044C",8,tn)])]),_:1})]),_:1})]),_:1}),(r(!0),l(L,null,V(s.db.fields,k=>(r(),U(S,{key:k.id},{default:y(({open:N})=>[i(b,{class:"flex justify-between w-full px-4 py-2 text-sm font-medium text-left text-purple-900 bg-purple-100 rounded-lg hover:bg-purple-200 focus:outline-none focus-visible:ring focus-visible:ring-purple-500 focus-visible:ring-opacity-75"},{default:y(()=>[t("span",on,x(k.name),1),i(m,{class:f([N?"transform rotate-180":"","w-5 h-5 text-purple-500"])},null,8,["class"])]),_:2},1024),i(C,{class:"px-2 pt-2 pb-2 text-sm text-gray-500 space-y-1"},{default:y(()=>[t("section",sn,[t("div",null,[t("label",nn,[rn,R(t("input",{type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",placeholder:"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435","onUpdate:modelValue":D=>k.name=D},null,8,ln),[[j,k.name]])])]),t("div",null,[i(I,{class:"relative"},{default:y(({open:D})=>[i(v,{class:f([D?"":"opacity-90","rounded-md border border-gray-300 shadow px-2 h-11 text-sm w-full flex items-center space-x-2"])},{default:y(()=>[an,t("div",cn,x(e.fieldTypes.find(z=>z.value===k.type).label),1),i(A,{class:"w-5 h-5"})]),_:2},1032,["class"]),i(W,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"translate-y-1 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"translate-y-0 opacity-100","leave-to-class":"translate-y-1 opacity-0"},{default:y(()=>[i(h,{class:"absolute z-10 w-full mt-1 sm:px-0 lg:max-w-3xl"},{default:y(({close:z})=>[t("div",dn,[(r(!0),l(L,null,V(e.fieldTypes,(X,J)=>(r(),l("div",{key:J,onClick:Q=>{k.type=X.value,z()},class:"cursor-pointer hover:bg-gray-100 py-3 px-3 rounded"},x(X.label),9,un))),128))])]),_:2},1024)]),_:2},1024)]),_:2},1024)])]),t("div",null,[t("label",fn,[R(t("input",{type:"checkbox",class:"rounded border-gray-300 text-purple-600 shadow-sm focus:border-purple-300 focus:ring focus:ring-offset-0 focus:ring-purple-200 focus:ring-opacity-50 cursor-pointer","onUpdate:modelValue":D=>k.showInHeader=D},null,8,yn),[[M,k.showInHeader]]),gn])]),t("div",null,[t("label",vn,[R(t("input",{type:"checkbox",class:"rounded border-gray-300 text-purple-600 shadow-sm focus:border-purple-300 focus:ring focus:ring-offset-0 focus:ring-purple-200 focus:ring-opacity-50 cursor-pointer","onUpdate:modelValue":D=>k.showInDetals=D},null,8,pn),[[M,k.showInDetals]]),bn])]),t("div",null,[t("label",mn,[R(t("input",{type:"checkbox",class:"rounded border-gray-300 text-purple-600 shadow-sm focus:border-purple-300 focus:ring focus:ring-offset-0 focus:ring-purple-200 focus:ring-opacity-50 cursor-pointer","onUpdate:modelValue":D=>k.showInPopper=D},null,8,_n),[[M,k.showInPopper]]),hn])]),t("div",null,[t("label",xn,[R(t("input",{type:"checkbox",class:"rounded border-gray-300 text-purple-600 shadow-sm focus:border-purple-300 focus:ring focus:ring-offset-0 focus:ring-purple-200 focus:ring-opacity-50 cursor-pointer","onUpdate:modelValue":D=>k.showInGrid=D},null,8,wn),[[M,k.showInGrid]]),In])]),t("div",null,[t("label",kn,[R(t("input",{type:"checkbox",class:"rounded border-gray-300 text-purple-600 shadow-sm focus:border-purple-300 focus:ring focus:ring-offset-0 focus:ring-purple-200 focus:ring-opacity-50 cursor-pointer","onUpdate:modelValue":D=>k.searchable=D},null,8,Fn),[[M,k.searchable]]),Cn])]),t("div",Pn,[t("button",{onClick:D=>e.remove(k.id),class:"bg-red-50 rounded-lg border cursor-pointer border-red-100 text-red-700 hover:bg-red-100 hover:text-red-900 px-4 py-1"},"\u0423\u0434\u0430\u043B\u0438\u0442\u044C",8,Bn)])]),_:2},1024)]),_:2},1024))),128))])],2)}var Dn=G(Ms,[["render",Rn]]);const Ln=5,Vn=[{id:1,name:"\u0421\u043B\u043E\u0439 1"}],jn=[],Sn=[],An=[{id:1,name:"First Item",layers:[{id:1,note:"",color:"bg-gray-100",score:0}],groupId:0,fields:[],references:[],active:!0}],Un="",Nn={name:"",description:"",version:""},On=[],Gn=[];var En={version:Ln,layers:Vn,fields:jn,groups:Sn,items:An,referenceName:Un,model:Nn,pallete:On,references:Gn};const Xn={components:{XIcon:T},props:{activeItem:{type:Object},db:{type:Object},version:{type:Number}},emits:["set-db","set-layer-ready","set-active-item"],setup(n,{emit:o}){const{hideFlyover:s,load:e}=$();let d;const g=()=>{let b=new FileReader;b.onload=A=>{o("set-layer-ready",!1),o("set-active-item",void 0),o("set-db",JSON.parse(A.target.result)),o("set-layer-ready",!0),s("load")},b.onerror=A=>console.log(A),b.readAsText(d)},u=()=>{o("set-db",JSON.parse(JSON.stringify(En))),o("set-layer-ready",!0),o("set-active-item",void 0),s("load")},m=at({onDrop:(b,A)=>{d=b[0],g()}}),{getRootProps:v,getInputProps:h}=m,I=je(m,["getRootProps","getInputProps"]);return Ve(Le({getRootProps:v,getInputProps:h},I),{loadDefault:u,hideFlyover:s,load:e})}},zn={class:"h-16 bg-white flex items-center justify-between px-4 space-x-2"},Tn=t("div",{class:"flex-1 font-bold"},"\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430 \u0444\u0430\u0439\u043B\u0430",-1),Wn={class:"flex-1 bg-white overflow-auto px-4 space-y-4"},$n=t("p",{class:"text-sm text-gray-500"}," \u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 json-\u0444\u0430\u0439\u043B \u0434\u043B\u044F \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0438 ",-1),Jn={class:"h-16 bg-gray-50 border border-dashed rounded-lg my-4 flex items-center justify-center text-xs text-gray-500"},Hn={key:0},Mn={key:1,class:"cursor-pointer"},Qn=t("p",{class:"text-sm text-gray-500"},"\u0418\u043B\u0438 \u0432\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u043E\u0434\u043D\u0443 \u0438\u0437 \u0441\u0442\u0430\u043D\u0434\u0430\u0440\u0442\u043D\u044B\u0445 \u043C\u043E\u0434\u0435\u043B\u0435\u0439",-1),qn={class:"text-sm text-gray-600"};function Kn(n,o,s,e,d,g){const u=c("XIcon");return r(),l("div",{class:f([e.load?"translate-y-0":"translate-y-full","z-40 transition absolute bottom-9 right-4 w-96 h-96 overflow-hidden flex flex-col border shadow-xl border-t-2 border-t-purple-500"])},[t("div",zn,[Tn,t("div",null,[t("div",{class:"hover:bg-gray-100 cursor-pointer rounded-full h-6 w-6 flex items-center justify-center",onClick:o[0]||(o[0]=a=>e.hideFlyover("load"))},[i(u,{class:"h-4 w-4 text-gray-400"})])])]),t("div",Wn,[$n,t("div",Jn,[t("div",$e(Je(e.getRootProps())),[t("input",$e(Je(e.getInputProps())),null,16),n.isDragActive?(r(),l("p",Hn,"\u041F\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0444\u0430\u0439\u043B \u0441\u044E\u0434\u0430...")):(r(),l("p",Mn,"\u041F\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0444\u0430\u0439\u043B \u0441\u044E\u0434\u0430 \u0438\u043B\u0438 \u043A\u043B\u0438\u043A\u043D\u0438\u0442\u0435 \u0434\u043B\u044F \u0432\u044B\u0431\u043E\u0440\u0430"))],16)]),Qn,t("div",qn,[t("p",{onClick:o[1]||(o[1]=a=>e.loadDefault()),class:"hover:underline hover:text-gray-800 cursor-pointer"},"\u041F\u0443\u0441\u0442\u0430\u044F \u043C\u043E\u0434\u0435\u043B\u044C")])])],2)}var Yn=G(Xn,[["render",Kn]]);const Zn={components:{FlyOverAbout:Po,FlyOverDescription:To,FlyOverLayers:ls,FlyOverFilters:Is,FlyOverReferences:As,FlyOverGroups:Js,FlyOverFields:Dn,FlyOverLoad:Yn,Grid:zt,Footer:lo,DetailsCustomFields:fo,DetailsCustomFieldsEdit:xo,Markdown:Te,XIcon:T,DuplicateIcon:Ee,ChatAltIcon:it,FireIcon:ct,FilterIcon:Ne,StatusOnlineIcon:Ae,AdjustmentsIcon:dt,LinkIcon:Oe,UploadIcon:Xe,DownloadIcon:ze,PlusSmIcon:ee,ChevronDownIcon:We,ChevronUpIcon:pe,ViewBoardsIcon:ut,ViewGridAddIcon:Ge,ViewGridIcon:ft,CollectionIcon:Ue,Popover:te,PopoverButton:oe,PopoverPanel:se,Disclosure:be,DisclosureButton:me,DisclosurePanel:_e},setup(){const n=5,{board:o,toggleBoard:s}=Ct(),{popper:e,togglePopper:d}=Me(),{heatmap:g,toggleHeatmap:u}=Qe(),a=B(void 0),{activeLayer:v,setActiveLayer:h}=ke(),{convert:I}=Ft(),m=_=>{a.value=_,I(a,n),h(a.value.layers[0])},b=B(!1),A=_=>{b.value=_},C=B(void 0),S=_=>{if(a.value&&a.value.items)C.value=a.value.items.find(P=>P.id===parseInt(_));else return},k=B(!1),N=B(!1),D=_=>{if(a.value&&a.value.groups)return a.value.groups.find(P=>P.id===parseInt(_))},z=_=>{if(a.value&&a.value.fields)return a.value.fields.find(P=>P.id===parseInt(_))},X=B(""),J=()=>{if(X.value==="")return;let _=0;a.value.items.forEach(E=>{E.id>_&&(_=E.id)});const P=[];a.value.fields.forEach(E=>{P.push({id:E.id,value:""})});const O={id:_+1,name:X.value,layers:[],groupId:0,fields:P,references:[]};a.value.layers.forEach(E=>{O.layers.push({id:E.id,note:"",color:"bg-gray-100",score:0})}),a.value.items.push(O),X.value="",C.value=a.value.items.find(E=>E.id===O.id)},Q=()=>{if(C.value){const _=C.value.id;C.value=void 0;const P=a.value.items.findIndex(O=>O.id===_);P>-1&&a.value.items.splice(P,1)}},fe=B([]),q=B(!0),he=()=>{q.value=!q.value},K=ve(()=>b.value&&a.value&&a.value.items?a.value.items.filter(_=>{const P=fe.value.filter(E=>_.references.includes(E)),O=q.value&&_.references.length===0;return P.length>0||O}):[]),ye=mt("",400),Z=ve(()=>{const _=ye.value.toLowerCase();return _.length<3?K.value:K.value.filter(P=>{let O=`${P.name}`;return a.value.fields.forEach(E=>{E.searchable&&(O+=P.fields.find(qe=>qe.id===E.id).value)}),O.toLowerCase().indexOf(_)>-1})}),xe=_=>Z.value.filter(P=>P.groupId===parseInt(_)),we=ve(()=>a.value.groups.filter(_=>Z.value.findIndex(P=>P.groupId===_.id)>-1));return{actualJSONVersion:n,board:o,toggleBoard:s,popper:e,togglePopper:d,heatmap:g,toggleHeatmap:u,db:a,setDB:m,isLayerReady:b,setLayerReady:A,activeLayer:v,activeItem:C,setActiveItem:S,isAdditionalFieldsVisible:k,isWideDetails:N,newItem:X,addNewItem:J,deleteItem:Q,getGroupById:D,getFieldById:z,searchQuery:ye,searchResults:Z,selectedReferences:fe,showWithoutReference:q,toggleShowWithoutReference:he,swatches:Pt,filterByGroup:xe,nonEmptyGroups:we,toggleReference:_=>{if(C.value.references.includes(_)){const P=C.value.references.findIndex(O=>O===_);C.value.references.splice(P,1)}else C.value.references.push(_)},getReferenceById:_=>a.value.references.find(P=>P.id===_)}}},Y=n=>(yt("data-v-50446038"),n=n(),gt(),n),er={class:"h-screen w-screen overflow-hidden flex flex-col"},tr={class:"flex-1 flex"},or={class:"flex-1 flex flex-col"},sr={key:0,class:"h-16 flex items-center justify-between px-12 space-x-4"},nr={class:"flex-1"},rr={class:"block"},lr={class:"flex items-center space-x-2"},ar={class:"rounded-lg bg-gray-50 h-8 w-8 flex items-center justify-center cursor-pointer text-gray-500 hover:bg-gray-200 hover:text-gray-900"},ir={class:"bg-white overflow-hidden rounded shadow-lg ring-1 ring-black ring-opacity-5 p-4 space-y-4"},cr=Y(()=>t("p",{class:"text-xs text-gray-600"},"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u043D\u043E\u0432\u043E\u0433\u043E \u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430, \u043A\u043E\u0442\u043E\u0440\u043E\u0435 \u0431\u0443\u0434\u0435\u0442 \u043E\u0442\u043E\u0431\u0440\u0430\u0436\u0430\u0442\u044C\u0441\u044F \u0432 \u0441\u0435\u0442\u043A\u0435. \u041F\u043E\u0441\u043B\u0435 \u0441\u043E\u0437\u0434\u0430\u043D\u0438\u044F \u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430 \u043C\u043E\u0436\u043D\u043E \u0431\u0443\u0434\u0435\u0442 \u0432\u043D\u0435\u0441\u0442\u0438 \u0432 \u043D\u0435\u0433\u043E \u043D\u0435\u043E\u0431\u0445\u043E\u0434\u0438\u043C\u044B\u0435 \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u044F.",-1)),dr={class:"block"},ur={key:1,class:"pb-32 overflow-hidden",style:{height:"calc(100vh - 6.5rem)"}},fr={key:0,class:"px-2 py-4 pb-32 overflow-y-auto space-y-1",style:{height:"calc(100vh - 6.5rem)"}},yr={key:1,style:{height:"calc(100vh - 6.5rem)"},class:"overflow-y-auto p-8"},gr={key:1,class:"px-2 py-16 space-y-8"},vr={class:"space-y-2"},pr={key:0,class:"space-y-2"},br={class:"border-t border-b py-4 space-y-4"},mr={class:"flex items-center space-x-2"},_r={class:"flex-1"},hr={class:"flex items-center space-x-2"},xr=Y(()=>t("div",{class:"text-sm"},"\u0426\u0432\u0435\u0442",-1)),wr={class:"bg-white overflow-hidden rounded shadow-lg ring-1 ring-black ring-opacity-5"},Ir={class:"grid grid-cols-9 gap-1 p-4"},kr=["onClick"],Fr={class:"block w-24"},Cr={class:"inline-flex items-center"},Pr=Y(()=>t("span",{class:"ml-2"},"\u0410\u043A\u0442\u0438\u0432\u043D\u043E",-1)),Br={key:0,class:"space-y-2"},Rr={class:"block"},Dr=Y(()=>t("span",{class:"text-gray-700 text-sm"},"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435",-1)),Lr={class:"flex items-center space-x-2"},Vr=Y(()=>t("div",{class:"text-sm font-bold"},"\u0413\u0440\u0443\u043F\u043F\u0430:",-1)),jr={key:0,class:"text-sm line-clamp-1"},Sr={key:1,class:"text-sm line-clamp-1"},Ar={class:"bg-white overflow-auto rounded shadow-lg ring-1 ring-black ring-opacity-5 p-2"},Ur=["onClick"],Nr={class:"py-4"},Or={class:"flex items-center"},Gr={key:0,class:"flex-1 text-xs text-gray-700"},Er={key:1,class:"flex-1 text-xs text-gray-700"},Xr={class:"bg-white overflow-hidden rounded shadow-lg ring-1 ring-black ring-opacity-5 p-4 space-y-4 flex flex-col"},zr={class:"h-96 overflow-y-auto"},Tr={class:"inline-flex items-center"},Wr=["checked","onClick"],$r={class:"ml-2 text-sm line-clamp-1"},Jr={class:"space-y-1"},Hr={class:"block"},Mr=Y(()=>t("span",{class:"text-gray-700 text-xs"},"\u041A\u043E\u043C\u043C\u0435\u043D\u0442\u0430\u0440\u0438\u0439",-1)),Qr={class:"py-4"},qr={key:0,class:"uppercase font-bold text-gray-500"},Kr={key:1,class:"uppercase font-bold text-gray-500"},Yr={key:0},Zr={key:2},el={key:0,class:"space-y-2 px-2 py-16"},tl={class:"font-bold"},ol={class:"text-sm text-gray-600"},sl={key:0,class:"text-xs text-gray-600 font-bold"};function nl(n,o,s,e,d,g){const u=c("fly-over-about"),a=c("fly-over-description"),v=c("fly-over-layers"),h=c("fly-over-filters"),I=c("fly-over-references"),m=c("fly-over-groups"),b=c("fly-over-fields"),A=c("fly-over-load"),C=c("ViewGridIcon"),S=c("ViewBoardsIcon"),k=c("FireIcon"),N=c("ChatAltIcon"),D=c("PlusSmIcon"),z=c("PopoverButton"),X=c("PopoverPanel"),J=c("Popover"),Q=c("Grid"),fe=c("ChevronUpIcon"),q=c("XIcon"),he=c("Markdown"),K=c("ChevronDownIcon"),ye=c("AdjustmentsIcon"),Z=c("DetailsCustomFieldsEdit"),xe=c("DetailsCustomFields"),we=c("Footer");return r(),l("div",er,[i(u),e.isLayerReady?(r(),U(a,{key:0,db:e.db},null,8,["db"])):w("",!0),e.isLayerReady?(r(),U(v,{key:1,db:e.db},null,8,["db"])):w("",!0),e.isLayerReady?(r(),U(h,{key:2,db:e.db,"selected-references":e.selectedReferences,"show-without-reference":e.showWithoutReference,onToggleEmpty:o[0]||(o[0]=p=>e.toggleShowWithoutReference())},null,8,["db","selected-references","show-without-reference"])):w("",!0),e.isLayerReady?(r(),U(I,{key:3,db:e.db},null,8,["db"])):w("",!0),e.isLayerReady?(r(),U(m,{key:4,db:e.db},null,8,["db"])):w("",!0),e.isLayerReady?(r(),U(b,{key:5,db:e.db},null,8,["db"])):w("",!0),i(A,{db:e.db,"active-item":e.activeItem,version:e.actualJSONVersion,onSetDb:e.setDB,onSetLayerReady:e.setLayerReady,onSetActiveItem:e.setActiveItem},null,8,["db","active-item","version","onSetDb","onSetLayerReady","onSetActiveItem"]),t("div",tr,[t("div",or,[e.isLayerReady?(r(),l("div",sr,[t("div",nr,[t("label",rr,[R(t("input",{"onUpdate:modelValue":o[1]||(o[1]=p=>e.searchQuery=p),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-purple-300 focus:ring focus:ring-purple-200 focus:ring-opacity-50",placeholder:"\u041F\u043E\u0438\u0441\u043A..."},null,512),[[j,e.searchQuery]])])]),t("div",lr,[t("div",ar,[e.board?(r(),U(C,{key:0,class:"w-5 h-5",onClick:o[2]||(o[2]=p=>e.toggleBoard())})):(r(),U(S,{key:1,class:"w-5 h-5",onClick:o[3]||(o[3]=p=>e.toggleBoard())}))]),t("div",{class:f([[e.heatmap?"bg-purple-50 text-purple-500 border border-purple-100":"bg-gray-50 text-gray-500"],"rounded-lg h-8 w-8 flex items-center justify-center cursor-pointer text-gray-500 hover:bg-gray-200 hover:text-gray-900"])},[i(k,{class:"w-5 h-5",onClick:o[4]||(o[4]=p=>e.toggleHeatmap())})],2),t("div",{class:f([[e.popper?"bg-purple-50 text-purple-500 border border-purple-100":"bg-gray-50 text-gray-500"],"rounded-lg h-8 w-8 flex items-center justify-center cursor-pointer text-gray-500 hover:bg-gray-200 hover:text-gray-900"])},[i(N,{class:"w-5 h-5",onClick:o[5]||(o[5]=p=>e.togglePopper())})],2),i(J,{class:"relative"},{default:y(({open:p})=>[i(z,{class:f([p?"":"opacity-90","rounded-lg bg-gray-50 h-8 w-8 flex items-center justify-center cursor-pointer text-gray-500 hover:bg-gray-200 hover:text-gray-900"])},{default:y(()=>[i(D,{class:"w-5 h-5"})]),_:2},1032,["class"]),i(W,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"translate-y-1 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"translate-y-0 opacity-100","leave-to-class":"translate-y-1 opacity-0"},{default:y(()=>[i(X,{class:"absolute z-10 w-80 mt-1 transform -translate-x-full left-40 sm:px-0 lg:max-w-3xl"},{default:y(()=>[t("div",ir,[cr,t("label",dr,[R(t("textarea",{class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm text-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",rows:"3","onUpdate:modelValue":o[6]||(o[6]=F=>e.newItem=F)},null,512),[[j,e.newItem]])]),t("button",{onClick:o[7]||(o[7]=(...F)=>e.addNewItem&&e.addNewItem(...F)),class:"bg-purple-600 text-white px-6 py-2 text-sm font-semibold rounded-lg"},"\u0421\u043E\u0437\u0434\u0430\u0442\u044C")])]),_:1})]),_:1})]),_:1})])])):w("",!0),e.isLayerReady?(r(),l("div",ur,[e.board?(r(),l("div",fr,[e.filterByGroup(0).length>0?(r(),U(Q,{key:0,items:e.filterByGroup(0),"active-item":e.activeItem,"get-field-by-id-fn":e.getFieldById,"get-reference-by-id-fn":e.getReferenceById,"set-active-item-fn":e.setActiveItem,class:"overflow-y-auto px-8"},null,8,["items","active-item","get-field-by-id-fn","get-reference-by-id-fn","set-active-item-fn"])):w("",!0),(r(!0),l(L,null,V(e.nonEmptyGroups,p=>(r(),U(Q,{key:p.id,header:p.name,items:e.filterByGroup(p.id),"active-item":e.activeItem,"get-field-by-id-fn":e.getFieldById,"get-reference-by-id-fn":e.getReferenceById,"set-active-item-fn":e.setActiveItem,class:"overflow-y-auto px-8"},null,8,["header","items","active-item","get-field-by-id-fn","get-reference-by-id-fn","set-active-item-fn"]))),128))])):(r(),l("div",yr,[i(Q,{items:e.searchResults,"active-item":e.activeItem,"get-field-by-id-fn":e.getFieldById,"get-reference-by-id-fn":e.getReferenceById,"set-active-item-fn":e.setActiveItem},null,8,["items","active-item","get-field-by-id-fn","get-reference-by-id-fn","set-active-item-fn"])]))])):w("",!0)]),t("div",{class:f([[e.isWideDetails?"w-132":"w-96"],"bg-gray-50 overflow-y-auto shadow-lg border-l rounded-tl-lg p-4 relative transition"]),style:{height:"calc(100vh - 2.5rem)"}},[t("div",{onClick:o[8]||(o[8]=p=>e.isWideDetails=!e.isWideDetails),class:"absolute top-5 w-8 h-8 left-5 bg-gray-100 text-gray-500 hover:bg-gray-200 hover:text-gray-700 rounded-full flex items-center justify-center cursor-pointer"},[i(fe,{class:f(["h-5 w-5 transition-all",[e.isWideDetails?"rotate-90":"-rotate-90"]])},null,8,["class"])]),e.activeItem?(r(),l("div",{key:0,onClick:o[9]||(o[9]=p=>e.activeItem=void 0),class:"absolute top-5 w-8 h-8 right-5 bg-gray-100 text-gray-500 hover:bg-gray-200 hover:text-gray-700 rounded-full flex items-center justify-center cursor-pointer"},[i(q,{class:"w-5 h-5"})])):w("",!0),e.activeItem?(r(),l("div",gr,[t("section",vr,[t("div",{class:f(["font-bold",[e.isWideDetails?"text-xl":"text-base"]])},x(e.activeItem.name),3),(r(!0),l(L,null,V(e.activeItem.fields,p=>(r(),l("div",{key:p.id},[e.getFieldById(p.id).showInHeader&&p.value?(r(),l("div",pr,[t("div",{class:f(["atom-prose font-semibold",e.isWideDetails?"text-3xl":"text-base"])},[i(he,{source:p.value},null,8,["source"])],2)])):w("",!0)]))),128))]),t("section",br,[t("div",mr,[t("div",_r,[i(J,{class:"relative"},{default:y(({open:p})=>[i(z,{class:f([p?"":"text-opacity-90","w-full inline-flex items-center justify-between shadow px-3 py-3 text-base font-medium text-gray-900 bg-white rounded-md group hover:text-opacity-100 focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75"])},{default:y(()=>[t("div",hr,[xr,t("div",{class:f(["w-16 h-5 rounded border",e.activeItem.layers.find(F=>F.id===e.activeLayer.id).color])},null,2)]),i(K,{class:f([p?"":"text-opacity-70","w-4 h-4 ml-2 text-gray-500 transition duration-150 ease-in-out group-hover:text-opacity-80"]),"aria-hidden":"true"},null,8,["class"])]),_:2},1032,["class"]),i(W,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"translate-y-1 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"translate-y-0 opacity-100","leave-to-class":"translate-y-1 opacity-0"},{default:y(()=>[i(X,{class:"absolute z-10 w-80 mt-1 transform -translate-x-1/2 left-40 sm:px-0 lg:max-w-3xl"},{default:y(()=>[t("div",wr,[t("div",Ir,[(r(!0),l(L,null,V(e.swatches,(F,_)=>(r(),l("div",{onClick:P=>e.activeItem.layers.find(O=>O.id===e.activeLayer.id).color=F,key:_,class:f(["rounded cursor-pointer",[e.activeItem.color===F?"ring-2 ring-offset-1 ring-black ring-opacity-30":"",F,"h-6"]])},null,10,kr))),128))])])]),_:1})]),_:1})]),_:1})]),t("label",Fr,[R(t("input",{type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",placeholder:"Score","onUpdate:modelValue":o[10]||(o[10]=p=>e.activeItem.layers.find(F=>F.id===e.activeLayer.id).score=p)},null,512),[[j,e.activeItem.layers.find(p=>p.id===e.activeLayer.id).score]])])]),t("div",null,[t("label",Cr,[R(t("input",{type:"checkbox",class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-300 focus:ring focus:ring-offset-0 focus:ring-indigo-200 focus:ring-opacity-50","onUpdate:modelValue":o[11]||(o[11]=p=>e.activeItem.active=p)},null,512),[[M,e.activeItem.active]]),Pr])]),t("div",{onClick:o[12]||(o[12]=p=>e.isAdditionalFieldsVisible=!e.isAdditionalFieldsVisible),class:"bg-gray-100 h-5 rounded cursor-pointer hover:bg-gray-200 flex justify-center items-center"},[i(K,{class:f([e.isAdditionalFieldsVisible?"rotate-180":"","h-4 w-4 text-gray-600"])},null,8,["class"])]),e.isAdditionalFieldsVisible?(r(),l("div",Br,[t("div",null,[t("label",Rr,[Dr,R(t("input",{type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm text-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50","onUpdate:modelValue":o[13]||(o[13]=p=>e.activeItem.name=p)},null,512),[[j,e.activeItem.name]])])]),t("div",null,[i(J,{class:"relative"},{default:y(({open:p})=>[i(z,{class:f([p?"":"text-opacity-90","w-full inline-flex items-center justify-between shadow px-3 py-3 text-base font-medium text-gray-900 bg-white rounded-md group hover:text-opacity-100 focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75"])},{default:y(()=>[t("div",Lr,[Vr,e.activeItem.groupId?(r(),l("div",jr,x(e.getGroupById(e.activeItem.groupId).name),1)):(r(),l("div",Sr,"\u041D\u0435 \u0432\u044B\u0431\u0440\u0430\u043D\u0430"))]),i(K,{class:f([p?"":"text-opacity-70","w-4 h-4 ml-2 text-gray-500 transition duration-150 ease-in-out group-hover:text-opacity-80"]),"aria-hidden":"true"},null,8,["class"])]),_:2},1032,["class"]),i(W,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"translate-y-1 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"translate-y-0 opacity-100","leave-to-class":"translate-y-1 opacity-0"},{default:y(()=>[i(X,{class:"absolute z-10 w-80 mt-1 transform -translate-x-1/2 left-40 sm:px-0 lg:max-w-3xl"},{default:y(()=>[t("div",Ar,[t("div",{onClick:o[14]||(o[14]=F=>e.activeItem.groupId=0),class:f([[e.activeItem.groupId===0?"font-bold":""],"px-2 py-1 text-sm hover:bg-gray-100 cursor-pointer rounded-lg line-clamp-1"])},"\u0411\u0435\u0437 \u0433\u0440\u0443\u043F\u043F\u044B",2),(r(!0),l(L,null,V(e.db.groups,F=>(r(),l("div",{key:F.id,class:f([[F.id===e.activeItem.groupId?"font-bold":""],"px-2 py-1 text-sm hover:bg-gray-100 cursor-pointer rounded-lg line-clamp-1"]),onClick:_=>e.activeItem.groupId=F.id},x(F.name),11,Ur))),128))])]),_:1})]),_:1})]),_:1})]),t("div",Nr,[t("header",Or,[e.db.referenceName?(r(),l("div",Gr,x(e.db.referenceName),1)):(r(),l("div",Er,"\u0421\u0432\u044F\u0437\u0438")),i(J,{class:"relative"},{default:y(({open:p})=>[i(z,{class:f([p?"":"opacity-90","rounded-lg bg-gray-50 h-8 w-8 flex items-center justify-center cursor-pointer text-gray-500 hover:bg-gray-200 hover:text-gray-900"])},{default:y(()=>[i(ye,{class:"w-5 h-5"})]),_:2},1032,["class"]),i(W,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"translate-y-1 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"translate-y-0 opacity-100","leave-to-class":"translate-y-1 opacity-0"},{default:y(()=>[i(X,{class:"absolute z-10 w-80 mt-1 transform -translate-x-full left-8 sm:px-0 lg:max-w-3xl"},{default:y(()=>[t("div",Xr,[t("div",zr,[(r(!0),l(L,null,V(e.db.references,F=>(r(),l("div",{key:F.id},[t("label",Tr,[t("input",{type:"checkbox",class:"rounded border-gray-300 text-purple-600 shadow-sm focus:border-purple-300 focus:ring focus:ring-offset-0 focus:ring-purple-200 focus:ring-opacity-50",checked:e.activeItem.references.includes(F.id),onClick:_=>e.toggleReference(F.id)},null,8,Wr),t("span",$r,x(F.name),1)])]))),128))])])]),_:1})]),_:1})]),_:1})]),t("div",Jr,[(r(!0),l(L,null,V(e.activeItem.references,p=>(r(),l("div",{key:p,class:"font-bold text-sm"},x(e.getReferenceById(p).name),1))),128))])]),t("div",null,[t("label",Hr,[Mr,R(t("textarea",{class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm text-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",rows:"6","onUpdate:modelValue":o[15]||(o[15]=p=>e.activeItem.layers.find(F=>F.id===e.activeLayer.id).note=p)},null,512),[[j,e.activeItem.layers.find(p=>p.id===e.activeLayer.id).note]])])]),i(Z,{fields:e.activeItem.fields,"get-field-by-id-fn":e.getFieldById},null,8,["fields","get-field-by-id-fn"]),t("div",Qr,[t("button",{onClick:o[16]||(o[16]=p=>e.deleteItem()),class:"cursor-pointer w-full bg-red-50 border border-red-100 text-red-700 font-semibold text-xs py-2 flex justify-center rounded"},"\u0423\u0434\u0430\u043B\u0438\u0442\u044C")])])):w("",!0)]),t("section",{class:f([e.isWideDetails?"space-y-12 px-4":"space-y-6 px-0"])},[e.activeItem.references.length>0?(r(),l("div",{key:0,class:f([e.isWideDetails?"text-base space-y-4":"text-xs space-y-2"])},[e.db.referenceName?(r(),l("header",qr,x(e.db.referenceName),1)):(r(),l("header",Kr,"\u0421\u0432\u044F\u0437\u0438")),t("div",null,[(r(!0),l(L,null,V(e.activeItem.references,(p,F)=>(r(),l("span",{key:p},[Ie(x(e.getReferenceById(p).name),1),F<e.activeItem.references.length-1?(r(),l("span",Yr,", ")):w("",!0)]))),128))])],2)):w("",!0),i(xe,{fields:e.activeItem.fields,"is-wide":e.isWideDetails,"get-field-by-id-fn":e.getFieldById},null,8,["fields","is-wide","get-field-by-id-fn"])],2)])):(r(),l("div",Zr,[e.isLayerReady?(r(),l("div",el,[t("div",tl,x(e.db.model.name),1),t("div",ol,x(e.db.model.description),1),e.db.model.version?(r(),l("div",sl,"\u0412\u0435\u0440\u0441\u0438\u044F: "+x(e.db.model.version),1)):w("",!0)])):w("",!0)]))],2)]),i(we,{db:e.db,"is-layer-ready":e.isLayerReady},null,8,["db","is-layer-ready"])])}var rl=G(Zn,[["render",nl],["__scopeId","data-v-50446038"]]);const ll=vt(rl);ll.mount("#app");
