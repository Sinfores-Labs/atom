var et=Object.defineProperty,tt=Object.defineProperties;var ot=Object.getOwnPropertyDescriptors;var me=Object.getOwnPropertySymbols;var Le=Object.prototype.hasOwnProperty,Ve=Object.prototype.propertyIsEnumerable;var je=(n,o,s)=>o in n?et(n,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[o]=s,Se=(n,o)=>{for(var s in o||(o={}))Le.call(o,s)&&je(n,s,o[s]);if(me)for(var s of me(o))Ve.call(o,s)&&je(n,s,o[s]);return n},Ae=(n,o)=>tt(n,ot(o));var Ue=(n,o)=>{var s={};for(var e in n)Le.call(n,e)&&o.indexOf(e)<0&&(s[e]=n[e]);if(n!=null&&me)for(var e of me(n))o.indexOf(e)<0&&Ve.call(n,e)&&(s[e]=n[e]);return s};import{r as P,c as st,a as M,o as r,b as l,d as t,t as x,e as I,n as g,F as D,f as L,g as Fe,h as nt,i,j as U,w as v,k as a,T as Ne,l as Oe,m as Ee,p as Ge,q as Xe,s as ze,u as Me,v as We,x as Te,y as rt,M as $e,z as he,A as B,B as H,C as lt,D as at,E as it,G as j,H as W,I as ct,J as _e,K as te,L as xe,N as we,O as Ie,P as oe,Q as se,R as ne,S as T,U as Je,V as dt,W as He,X as Qe,Y as ut,Z as ft,_ as yt,$ as gt,a0 as vt,a1 as pt,a2 as bt,a3 as mt}from"./vendor.126a2e9e.js";const ht=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))e(c);new MutationObserver(c=>{for(const p of c)if(p.type==="childList")for(const f of p.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&e(f)}).observe(document,{childList:!0,subtree:!0});function s(c){const p={};return c.integrity&&(p.integrity=c.integrity),c.referrerpolicy&&(p.referrerPolicy=c.referrerpolicy),c.crossorigin==="use-credentials"?p.credentials="include":c.crossorigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function e(c){if(c.ep)return;c.ep=!0;const p=s(c);fetch(c.href,p)}};ht();const _t=(n,o=0,s=!1)=>{let e;return(...c)=>{s&&!e&&n(...c),clearTimeout(e),e=setTimeout(()=>{n(...c)},o)}},xt=(n,o,s)=>{const e=P(n);return st((p,f)=>({get(){return p(),e.value},set:_t(d=>{e.value=d,f()},o,s)}))},wt=n=>{n.value.version=1},It=n=>{n.value.version=2,n.value.fields.forEach(o=>{o.showInHeader=!1})},kt=n=>{n.value.version=3,n.value.fields.forEach(o=>{o.type="text"})},Ft=n=>{n.value.version=4,n.value.layers=[{id:1,name:"Layer 1"}],n.value.items.forEach(o=>{o.layers=[{id:1,color:o.color,score:o.score,note:o.note}],delete o.color,delete o.score,delete o.note})},Ct=n=>{n.value.version=5,n.value.items.forEach(o=>{o.active=!0})},Pt=(n,o)=>{n.value.hasOwnProperty("version")||wt(n),n.value.version===1&&o>1&&It(n),n.value.version===2&&o>2&&kt(n),n.value.version===3&&o>3&&Ft(n),n.value.version===4&&o>4&&Ct(n)},Bt=()=>({convert:Pt}),qe=P(void 0),Ce=()=>({activeLayer:qe,setActiveLayer:o=>{qe.value=o}}),Pe=P(!1),Ke=()=>({popper:Pe,togglePopper:()=>{Pe.value=!Pe.value}}),Be=P(!1),Rt=()=>({board:Be,toggleBoard:()=>{Be.value=!Be.value}}),Re=P(!1),Ye=()=>({heatmap:Re,toggleHeatmap:()=>{Re.value=!Re.value}}),De=P(!1),Dt=()=>{const n=()=>{De.value=!De.value};return{isLayersMenuVisible:M(De),toggleLayersMenu:n}},Lt=["bg-gray-100","bg-gray-200","bg-gray-300","bg-gray-400","bg-gray-500","bg-gray-600","bg-gray-700","bg-gray-800","bg-gray-900","bg-yellow-100","bg-yellow-200","bg-yellow-300","bg-yellow-400","bg-yellow-500","bg-yellow-600","bg-yellow-700","bg-yellow-800","bg-yellow-900","bg-green-100","bg-green-200","bg-green-300","bg-green-400","bg-green-500","bg-green-600","bg-green-700","bg-green-800","bg-green-900","bg-blue-100","bg-blue-200","bg-blue-300","bg-blue-400","bg-blue-500","bg-blue-600","bg-blue-700","bg-blue-800","bg-blue-900","bg-pink-100","bg-pink-200","bg-pink-300","bg-pink-400","bg-pink-500","bg-pink-600","bg-pink-700","bg-pink-800","bg-pink-900","bg-red-100","bg-red-200","bg-red-300","bg-red-400","bg-red-500","bg-red-600","bg-red-700","bg-red-800","bg-red-900","bg-purple-100","bg-purple-200","bg-purple-300","bg-purple-400","bg-purple-500","bg-purple-600","bg-purple-700","bg-purple-800","bg-purple-900"];var O=(n,o)=>{for(const[s,e]of o)n[s]=e;return n};const Vt={props:{item:{type:Object,default:()=>({})},activeItem:{type:Object},heatmap:{type:Boolean,default:!1},getFieldByIdFn:{type:Function},getReferenceByIdFn:{type:Function}},emits:["set-active-item"],setup(n,{emit:o}){const{activeLayer:s}=Ce();return{activeLayer:s,setActiveItem:()=>{o("set-active-item",n.item.id)}}}},jt={key:0,class:"font-bold text-xs line-clamp-1"},St={key:0,class:"flex-1"},At={class:"font-bold text-xs line-clamp-1"},Ut={key:0},Nt={key:0,class:"text-xs text-gray-500 line-clamp-1"},Ot={key:0};function Et(n,o,s,e,c,p){return r(),l("div",{onClick:o[0]||(o[0]=f=>e.setActiveItem()),class:g([[s.activeItem&&s.activeItem.id===s.item.id?"ring-2 ring-offset-1 ring-purple-500 ring-opacity-40 bg-purple-50":"",s.item.active?"opacity-100":"opacity-20"],"flex items-center space-x-2 cursor-pointer hover:bg-gray-50 rounded p-2 select-none"])},[t("div",{class:g(["h-12 w-12 rounded border flex items-center px-2",[s.item.layers.find(f=>f.id===e.activeLayer.id).color,s.heatmap?"h-12 flex-1":"h-12 w-12 flex-shrink-0 "]])},[s.heatmap?(r(),l("div",jt,x(s.item.name),1)):I("",!0)],2),s.heatmap?I("",!0):(r(),l("div",St,[t("div",At,x(s.item.name),1),(r(!0),l(D,null,L(s.item.fields,f=>(r(),l("div",{class:"text-xs text-gray-500 line-clamp-1",key:f.id},[s.getFieldByIdFn(f.id).showInGrid?(r(),l("div",Ut,x(f.value),1)):I("",!0)]))),128)),s.item.references.length>0?(r(),l("div",Nt,[(r(!0),l(D,null,L(s.item.references,(f,d)=>(r(),l("span",{key:f},[Fe(x(s.getReferenceByIdFn(f).name),1),d<s.item.references.length-1?(r(),l("span",Ot,", ")):I("",!0)]))),128))])):I("",!0)]))],2)}var Gt=O(Vt,[["render",Et]]);const Xt={components:{Popper:nt,Item:Gt},props:{items:{type:Array,default:()=>[]},activeItem:{type:Object},header:{type:String,default:""},getFieldByIdFn:{type:Function},getReferenceByIdFn:{type:Function},setActiveItemFn:{type:Function}},setup(n){const{popper:o}=Ke(),{heatmap:s}=Ye();return{popper:o,heatmap:s}}},zt={class:"space-y-2"},Mt={class:"font-bold"},Wt={key:0};function Tt(n,o,s,e,c,p){const f=i("Item"),d=i("Popper");return r(),l("div",null,[s.header?(r(),l("header",{key:0,class:g(["font-bold px-4",[e.heatmap?"py-0 px-6 text-sm":"py-6"]])},x(s.header),3)):I("",!0),e.popper?(r(),U(Ne,{key:1,name:"flip-list",tag:"div",class:g(["px-2 grid",[e.heatmap?"grid-cols-6 lg:grid-cols-7 xl:grid-cols-10 pb-4":"gris-cols-1 md:grid-cols-3 lg:grid-cols-3 xl:grid-cols-3 2xl:grid-cols-4 3xl:grid-cols-5 gap-4 pb-12"]])},{default:v(()=>[(r(!0),l(D,null,L(s.items,b=>(r(),U(d,{hover:"",arrow:"",placement:"bottom",key:b.id},{content:v(()=>[t("div",zt,[t("div",Mt,x(b.name),1),b.note?(r(),l("div",Wt,x(b.note),1)):I("",!0)])]),default:v(()=>[a(f,{item:b,activeItem:s.activeItem,heatmap:e.heatmap,"get-field-by-id-fn":s.getFieldByIdFn,"get-reference-by-id-fn":s.getReferenceByIdFn,onSetActiveItem:s.setActiveItemFn},null,8,["item","activeItem","heatmap","get-field-by-id-fn","get-reference-by-id-fn","onSetActiveItem"])]),_:2},1024))),128))]),_:1},8,["class"])):(r(),U(Ne,{key:2,name:"flip-list",tag:"div",class:g(["px-2 grid",[e.heatmap?"grid-cols-6 lg:grid-cols-7 xl:grid-cols-10 pb-4":"gris-cols-1 md:grid-cols-3 lg:grid-cols-3 xl:grid-cols-3 2xl:grid-cols-4 3xl:grid-cols-5 gap-4 pb-12"]])},{default:v(()=>[(r(!0),l(D,null,L(s.items,b=>(r(),U(f,{key:b.id,item:b,activeItem:s.activeItem,heatmap:e.heatmap,"get-field-by-id-fn":s.getFieldByIdFn,"get-reference-by-id-fn":s.getReferenceByIdFn,onSetActiveItem:s.setActiveItemFn},null,8,["item","activeItem","heatmap","get-field-by-id-fn","get-reference-by-id-fn","onSetActiveItem"]))),128))]),_:1},8,["class"]))])}var $t=O(Xt,[["render",Tt]]);const re=P(!1),le=P(!1),ae=P(!1),ie=P(!1),ce=P(!1),de=P(!1),ue=P(!1),fe=P(!1),Jt=[re,le,ae,ie,ce,de,ue,fe];function $(){const n=()=>{Jt.forEach(c=>c.value=!1)},o=c=>{switch(n(),c){case"about":re.value=!0;break;case"desc":le.value=!0;break;case"layers":ae.value=!0;break;case"filters":ie.value=!0;break;case"references":ce.value=!0;break;case"groups":de.value=!0;break;case"fields":ue.value=!0;break;case"load":fe.value=!0;break}},s=c=>{switch(c){case"about":re.value=!1;break;case"desc":le.value=!1;break;case"layers":ae.value=!1;break;case"filters":ie.value=!1;break;case"references":ce.value=!1;break;case"groups":de.value=!1;break;case"fields":ue.value=!1;break;case"load":fe.value=!1;break}};return{showFlyover:o,hideFlyover:s,toggleFlyover:c=>{switch(c){case"about":re.value?s(c):o(c);break;case"desc":le.value?s(c):o(c);break;case"layers":ae.value?s(c):o(c);break;case"filters":ie.value?s(c):o(c);break;case"references":ce.value?s(c):o(c);break;case"groups":de.value?s(c):o(c);break;case"fields":ue.value?s(c):o(c);break;case"load":fe.value?s(c):o(c);break}},about:M(re),desc:M(le),layers:M(ae),filters:M(ie),references:M(ce),groups:M(de),fields:M(ue),load:M(fe)}}const Ht={components:{StatusOnlineIcon:Oe,CollectionIcon:Ee,FilterIcon:Ge,LinkIcon:Xe,ViewGridAddIcon:ze,DuplicateIcon:Me,UploadIcon:We,DownloadIcon:Te},props:{db:{type:Object,default:()=>({})},isLayerReady:{type:Boolean,default:!1}},setup(n){const{toggleFlyover:o,about:s,desc:e,layers:c,filters:p,references:f,groups:d,fields:b,load:u}=$();return{toggleFlyover:o,about:s,desc:e,layers:c,filters:p,references:f,groups:d,fields:b,load:u,saveJSON:()=>{if(n.db&&Object.keys(n.db).length!==0){let m=new Blob([JSON.stringify(n.db)],{type:"application/json;charset=utf-8"});rt.exports.saveAs(m,"atoms.json")}}}}},Qt={class:"z-50 h-10 bg-gray-50 border-t flex items-center justify-between text-xs px-4"},qt=t("span",{class:"font-bold"},"ATOM",-1),Kt=Fe(" \xB7 Sinfores SX"),Yt=[qt,Kt],Zt={class:"flex items-center space-x-2 border-b-2 border-transparent"},eo=t("div",{class:"hidden xl:block"},"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435",-1),to=t("div",{class:"hidden xl:block"},"\u0421\u043B\u043E\u0438",-1),oo=t("div",{class:"hidden xl:block"},"\u0424\u0438\u043B\u044C\u0442\u0440\u044B",-1),so={key:0,class:"hidden xl:block"},no={key:1,class:"hidden xl:block"},ro=t("div",{class:"hidden xl:block"},"\u0413\u0440\u0443\u043F\u043F\u044B",-1),lo=t("div",{class:"hidden xl:block"},"\u041F\u043E\u043B\u044F",-1),ao=t("div",{class:"hidden xl:block"},"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C",-1),io=t("div",{class:"hidden xl:block"},"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C",-1);function co(n,o,s,e,c,p){const f=i("StatusOnlineIcon"),d=i("CollectionIcon"),b=i("FilterIcon"),u=i("LinkIcon"),w=i("ViewGridAddIcon"),m=i("DuplicateIcon"),_=i("UploadIcon"),A=i("DownloadIcon");return r(),l("div",Qt,[t("div",{onClick:o[0]||(o[0]=V=>e.toggleFlyover("about")),class:"cursor-pointer select-none"},Yt),t("div",Zt,[s.isLayerReady?(r(),l("div",{key:0,onClick:o[1]||(o[1]=V=>e.toggleFlyover("desc")),class:g([[e.desc?"border-purple-500":"border-transparent"],"border-t-2 border-transparent h-10 px-4 hover:bg-gray-200 cursor-pointer select-none font-semibold flex items-center space-x-2"]),type:"button"},[a(f,{class:"w-5 h-5","aria-hidden":"true"}),eo],2)):I("",!0),s.isLayerReady?(r(),l("div",{key:1,onClick:o[2]||(o[2]=V=>e.toggleFlyover("layers")),class:g([[e.layers?"border-purple-500":"border-transparent"],"border-t-2 border-transparent h-10 px-4 hover:bg-gray-200 cursor-pointer select-none font-semibold flex items-center space-x-2"]),type:"button"},[a(d,{class:"w-5 h-5","aria-hidden":"true"}),to],2)):I("",!0),s.isLayerReady?(r(),l("div",{key:2,onClick:o[3]||(o[3]=V=>e.toggleFlyover("filters")),class:g([[e.filters?"border-purple-500":"border-transparent"],"border-t-2 border-transparent h-10 px-4 hover:bg-gray-200 cursor-pointer select-none font-semibold flex items-center space-x-2"]),type:"button"},[a(b,{class:"w-5 h-5","aria-hidden":"true"}),oo],2)):I("",!0),s.isLayerReady?(r(),l("div",{key:3,onClick:o[4]||(o[4]=V=>e.toggleFlyover("references")),class:g([[e.references?"border-purple-500":"border-transparent"],"border-t-2 border-transparent h-10 px-4 hover:bg-gray-200 cursor-pointer select-none font-semibold flex items-center space-x-2"]),type:"button"},[a(u,{class:"w-5 h-5","aria-hidden":"true"}),s.db.referenceName?(r(),l("div",so,x(s.db.referenceName),1)):(r(),l("div",no,"\u0421\u0432\u044F\u0437\u0438"))],2)):I("",!0),s.isLayerReady?(r(),l("div",{key:4,onClick:o[5]||(o[5]=V=>e.toggleFlyover("groups")),class:g([[e.groups?"border-purple-500":"border-transparent"],"border-t-2 border-transparent h-10 px-4 hover:bg-gray-200 cursor-pointer select-none font-semibold flex items-center space-x-2"]),type:"button"},[a(w,{class:"w-5 h-5","aria-hidden":"true"}),ro],2)):I("",!0),s.isLayerReady?(r(),l("div",{key:5,onClick:o[6]||(o[6]=V=>e.toggleFlyover("fields")),class:g([[e.fields?"border-purple-500":"border-transparent"],"border-t-2 border-transparent h-10 px-4 hover:bg-gray-200 cursor-pointer select-none font-semibold flex items-center space-x-2"]),type:"button"},[a(m,{class:"w-5 h-5","aria-hidden":"true"}),lo],2)):I("",!0),t("div",{onClick:o[7]||(o[7]=V=>e.toggleFlyover("load")),class:g([[e.load?"border-purple-500":"border-transparent"],"border-t-2 h-10 px-4 hover:bg-gray-200 cursor-pointer select-none font-semibold flex items-center space-x-2 select-none"]),type:"button"},[a(_,{class:"w-5 h-5","aria-hidden":"true"}),ao],2),s.isLayerReady?(r(),l("div",{key:6,onClick:o[8]||(o[8]=V=>e.saveJSON()),class:"border-t-2 border-transparent h-10 px-4 hover:bg-gray-200 cursor-pointer select-none font-semibold flex items-center space-x-2",type:"button"},[a(A,{class:"w-5 h-5","aria-hidden":"true"}),io])):I("",!0)])])}var uo=O(Ht,[["render",co]]);const fo={components:{Markdown:$e},props:{fields:{type:Array,default:()=>[]},getFieldByIdFn:{type:Function},isWide:{type:Boolean,default:!1}},setup(n){const o=[{plugin:lt},{plugin:at},{plugin:it}],s=he(()=>n.fields.filter(e=>(n.getFieldByIdFn(e.id).type!=="bool"&&e.value||n.getFieldByIdFn(e.id).type==="bool")&&n.getFieldByIdFn(e.id).showInDetals));return{mdPlugins:o,visibleNonEmptyFields:s}}},yo={key:0},go={class:"inline-flex items-center"},vo=["onUpdate:modelValue"],po={class:"ml-2"},bo={class:"uppercase font-bold text-gray-500"},mo={class:"atom-prose"};function ho(n,o,s,e,c,p){const f=i("Markdown");return r(!0),l(D,null,L(e.visibleNonEmptyFields,d=>(r(),l("section",{key:d.id,class:g([s.isWide?"text-base":"text-xs"])},[s.getFieldByIdFn(d.id).type==="bool"?(r(),l("div",yo,[t("label",go,[B(t("input",{type:"checkbox",class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-300 focus:ring focus:ring-offset-0 focus:ring-indigo-200 focus:ring-opacity-50","onUpdate:modelValue":b=>d.value=b,disabled:""},null,8,vo),[[H,d.value]]),t("span",po,x(s.getFieldByIdFn(d.id).name),1)])])):(r(),l("div",{key:1,class:g([s.isWide?"space-y-4":"space-y-2"])},[t("header",bo,x(s.getFieldByIdFn(d.id).name),1),t("div",mo,[a(f,{source:d.value,plugins:e.mdPlugins,linkify:!0},null,8,["source","plugins"])])],2))],2))),128)}var _o=O(fo,[["render",ho]]);const xo={props:{fields:{type:Array,default:()=>[]},getFieldByIdFn:{type:Function}},setup(n){}},wo={key:0,class:"block"},Io={class:"text-gray-700 text-xs"},ko=["onUpdate:modelValue"],Fo={key:1,class:"flex items-center py-2"},Co=["onUpdate:modelValue"],Po={class:"ml-2"};function Bo(n,o,s,e,c,p){return r(!0),l(D,null,L(s.fields,f=>(r(),l("div",{key:f.id},[s.getFieldByIdFn(f.id).type==="text"?(r(),l("label",wo,[t("span",Io,x(s.getFieldByIdFn(f.id).name),1),B(t("textarea",{class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm text-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",rows:"2","onUpdate:modelValue":d=>f.value=d},null,8,ko),[[j,f.value]])])):I("",!0),s.getFieldByIdFn(f.id).type==="bool"?(r(),l("label",Fo,[B(t("input",{type:"checkbox",class:"rounded border-gray-300 text-purple-600 shadow-sm focus:border-purple-300 focus:ring focus:ring-offset-0 focus:ring-purple-200 focus:ring-opacity-50","onUpdate:modelValue":d=>f.value=d},null,8,Co),[[H,f.value]]),t("span",Po,x(s.getFieldByIdFn(f.id).name),1)])):I("",!0)]))),128)}var Ro=O(xo,[["render",Bo]]);const Do={components:{XIcon:W},setup(){const{hideFlyover:n,about:o}=$();return{hideFlyover:n,about:o}}},Lo={class:"h-16 bg-white flex items-center justify-between px-4 space-x-2"},Vo=t("div",{class:"flex-1 font-bold"},"ATOM",-1),jo=ct('<div class="flex-1 bg-white overflow-auto px-4 space-y-4 text-sm"><p class="text-xs">\u041F\u043E\u043B\u0435\u0437\u043D\u0430\u044F \u0448\u0442\u0443\u043A\u0430, \u0447\u0442\u043E\u0431\u044B \u043E\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043B\u044F\u0442\u044C \u0434\u0435\u043A\u043E\u043C\u043F\u043E\u0437\u0438\u0446\u0438\u044E \u0441\u043B\u043E\u0436\u043D\u044B\u0445 \u043F\u0440\u043E\u0446\u0435\u0441\u0441\u043E\u0432, \u0441\u0442\u0440\u0443\u043A\u0442\u0443\u0440\u0438\u0440\u043E\u0432\u0430\u043D\u043E \u0445\u0440\u0430\u043D\u0438\u0442\u044C \u0438\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044E \u0438 \u0442.\u0434.</p><p class="text-xs">\u0420\u0435\u0430\u043B\u0438\u0437\u043E\u0432\u0430\u043D\u043E \u0432 \u0440\u0430\u043C\u043A\u0430\u0445 \u0438\u043D\u0438\u0446\u0438\u0430\u0442\u0438\u0432\u044B Security Expirience (SX) \u043A\u043E\u043C\u043F\u0430\u043D\u0438\u0438 Sinfores Group. \u0418\u043D\u0438\u0446\u0438\u0430\u0442\u0438\u0432\u0430 \u043D\u0430\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0430 \u043D\u0430 \u043E\u0431\u043B\u0435\u0433\u0447\u0435\u043D\u0438\u0435 \u0442\u0440\u0443\u0434\u0430 \u0440\u044F\u0434\u043E\u0432\u044B\u0445 \u0441\u043F\u0435\u0446\u0438\u0430\u043B\u0438\u0441\u0442\u043E\u0432 \u043F\u043E \u043A\u0438\u0431\u0435\u0440\u0431\u0435\u0437\u043E\u043F\u0430\u0441\u043D\u043E\u0441\u0442\u0438. \u0412 \u0440\u0430\u043C\u043A\u0430\u0445 \u0438\u043D\u0438\u0446\u0438\u0430\u0442\u0438\u0432\u044B \u043C\u044B \u043E\u0442\u043A\u0440\u044B\u0432\u0430\u0435\u043C \u0434\u043E\u0441\u0442\u0443\u043F \u043A \u0441\u0432\u043E\u0438\u043C \u0438\u043D\u0441\u0442\u0440\u0443\u043C\u0435\u043D\u0442\u0430\u043C, \u043A\u043E\u0442\u043E\u0440\u044B\u0435 \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u044E\u0442\u0441\u044F \u0432 \u043F\u0440\u043E\u0435\u043A\u0442\u043D\u043E\u0439 \u0440\u0430\u0431\u043E\u0442\u0435.</p><div class="bg-red-100 p-4 rounded border border-red-200 text-red-900 space-y-2 text-xs"><header class="font-bold uppercase">\u0412\u0430\u0436\u043D\u043E</header><p>\u0412\u0441\u044F \u0440\u0430\u0431\u043E\u0442\u0430 \u0441 \u0434\u0430\u043D\u043D\u044B\u043C\u0438 \u043E\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043B\u044F\u0435\u0442\u0441\u044F \u0438\u0441\u043A\u043B\u044E\u0447\u0438\u0442\u0435\u043B\u044C\u043D\u043E \u043D\u0430 \u0412\u0430\u0448\u0435\u043C \u043A\u043E\u043C\u043F\u044C\u044E\u0442\u0435\u0440\u0435. \u041E\u043D\u0438 \u043D\u0438\u043A\u0443\u0434\u0430 \u043D\u0435 \u043F\u0435\u0440\u0435\u0434\u0430\u044E\u0442\u0441\u044F \u0438 \u0434\u0430\u0436\u0435 \u043D\u0438\u043A\u0430\u043A\u0438\u0435 cookies-\u0444\u0430\u0439\u043B\u044B \u043D\u0435 \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u044E\u0442\u0441\u044F. \u041F\u043E\u044D\u0442\u043E\u043C\u0443 \u043D\u0435 \u0437\u0430\u0431\u044B\u0432\u0430\u0439\u0442\u0435 \u043F\u0435\u0440\u0438\u043E\u0434\u0438\u0447\u0435\u0441\u043A\u0438 \u0441\u043E\u0445\u0440\u0430\u043D\u044F\u0442\u044C \u0412\u0430\u0448\u0438 \u043C\u043E\u0434\u0435\u043B\u0438, \u0442\u0430\u043A \u043A\u0430\u043A \u043C\u044B \u0438\u0445 \u0432\u043E\u0441\u0441\u0442\u0430\u043D\u043E\u0432\u0438\u0442\u044C \u043D\u0435 \u0441\u043C\u043E\u0436\u0435\u043C.</p></div></div>',1);function So(n,o,s,e,c,p){const f=i("XIcon");return r(),l("div",{class:g([e.about?"translate-y-0":"translate-y-full","z-40 transition absolute bottom-9 left-2 w-96 h-large overflow-hidden flex flex-col border shadow-xl border-t-2 border-t-purple-500"])},[t("div",Lo,[Vo,t("div",null,[t("div",{class:"hover:bg-gray-100 cursor-pointer rounded-full h-6 w-6 flex items-center justify-center",onClick:o[0]||(o[0]=d=>e.hideFlyover("about"))},[a(f,{class:"h-4 w-4 text-gray-400"})])])]),jo],2)}var Ao=O(Do,[["render",So]]);const Uo={components:{XIcon:W},props:{db:{type:Object}},setup(){const{hideFlyover:n,desc:o}=$();return{hideFlyover:n,desc:o}}},No={class:"h-16 bg-white flex items-center justify-between px-4 space-x-2"},Oo=t("div",{class:"flex-1 font-bold"},"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435",-1),Eo={class:"flex-1 bg-white overflow-auto px-4 space-y-4 text-sm"},Go={class:"space-y-2"},Xo={class:"block"},zo=t("span",{class:"text-gray-700"},"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435",-1),Mo={class:"block"},Wo=t("span",{class:"text-gray-700"},"\u0412\u0435\u0440\u0441\u0438\u044F",-1),To={class:"block"},$o=t("span",{class:"text-gray-700"},"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435",-1),Jo={class:"space-y-1"},Ho={class:"text-xs"},Qo={class:"text-xs"};function qo(n,o,s,e,c,p){const f=i("XIcon");return r(),l("div",{class:g([e.desc?"translate-y-0":"translate-y-full","z-40 transition absolute bottom-9 right-120 w-96 h-96 overflow-hidden flex flex-col border shadow-xl border-t-2 border-t-purple-500"])},[t("div",No,[Oo,t("div",null,[t("div",{class:"hover:bg-gray-100 cursor-pointer rounded-full h-6 w-6 flex items-center justify-center",onClick:o[0]||(o[0]=d=>e.hideFlyover("desc"))},[a(f,{class:"h-4 w-4 text-gray-400"})])])]),t("div",Eo,[t("div",Go,[t("label",Xo,[zo,B(t("input",{"onUpdate:modelValue":o[1]||(o[1]=d=>s.db.model.name=d),type:"text",class:"text-sm mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",placeholder:"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435"},null,512),[[j,s.db.model.name]])]),t("label",Mo,[Wo,B(t("input",{"onUpdate:modelValue":o[2]||(o[2]=d=>s.db.model.version=d),type:"text",class:"text-sm mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",placeholder:"\u0412\u0435\u0440\u0441\u0438\u044F"},null,512),[[j,s.db.model.version]])]),t("label",To,[$o,B(t("textarea",{"onUpdate:modelValue":o[3]||(o[3]=d=>s.db.model.description=d),class:"text-sm mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",rows:"3"},null,512),[[j,s.db.model.description]])])]),t("div",Jo,[t("p",Ho,"\u0410\u0442\u043E\u043C\u043E\u0432: "+x(s.db.items.length)+" (\u0430\u043A\u0442\u0438\u0432\u043D\u044B\u0445 "+x(s.db.items.filter(d=>d.active).length)+"), \u0441\u0432\u044F\u0437\u0435\u0439: "+x(s.db.references.length)+", \u0433\u0440\u0443\u043F\u043F: "+x(s.db.groups.length),1),t("p",Qo,"\u0412\u0435\u0440\u0441\u0438\u044F \u0441\u0445\u0435\u043C\u044B: v."+x(s.db.version),1)])])],2)}var Ko=O(Uo,[["render",qo]]);const Yo={components:{XIcon:W,ChevronUpIcon:_e,PlusSmIcon:te,Disclosure:xe,DisclosureButton:we,DisclosurePanel:Ie,Popover:oe,PopoverButton:se,PopoverPanel:ne},props:{db:{type:Object,default:()=>({})}},setup(n){const{hideFlyover:o,layers:s}=$(),{activeLayer:e,setActiveLayer:c}=Ce(),p=P("");return{hideFlyover:o,layers:s,activeLayer:e,setActiveLayer:c,newLayer:p,add:()=>{if(p.value){let b=0;n.db.layers.forEach(u=>{u.id>b&&(b=u.id)}),n.db.layers.push({id:b+1,name:p.value}),n.db.items.forEach(u=>{u.layers.push({id:b+1,color:"bg-gray-100",score:0})}),p.value=""}},remove:b=>{if(n.db.layers.length<1)return;c(n.db.layers[0]),n.db.items.forEach(w=>{const m=w.layers.findIndex(_=>_.id===b.id);m>-1&&w.layers.splice(m,1)});const u=n.db.layers.findIndex(w=>w.id===b.id);u>-1&&n.db.layers.splice(u,1)}}}},Zo={class:"h-16 bg-white flex items-center justify-between px-4 space-x-2"},es=t("div",{class:"flex-1 font-bold"},"\u0421\u043B\u043E\u0438",-1),ts={class:"flex-1 bg-white overflow-auto px-4 pb-32 text-sm"},os={class:"bg-white overflow-hidden rounded shadow-lg ring-1 ring-black ring-opacity-5 p-4 space-y-4"},ss=t("p",{class:"text-xs text-gray-600"},"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u043D\u043E\u0432\u043E\u0433\u043E \u0441\u043B\u043E\u044F",-1),ns={class:"block"},rs=["onClick"],ls={class:"w-full flex justify-between items-center space-x-4"},as={class:"line-clamp-1"},is={class:"block"},cs=["onUpdate:modelValue"],ds={class:"flex items-center space-x-2"},us=["onClick"],fs=["onClick"];function ys(n,o,s,e,c,p){const f=i("XIcon"),d=i("PlusSmIcon"),b=i("PopoverButton"),u=i("PopoverPanel"),w=i("Popover"),m=i("ChevronUpIcon"),_=i("DisclosureButton"),A=i("DisclosurePanel"),V=i("Disclosure");return r(),l("div",{class:g([e.layers?"translate-y-0":"translate-y-full","z-40 transition absolute bottom-9 right-112 w-96 h-large overflow-hidden flex flex-col border shadow-xl border-t-2 border-t-purple-500"])},[t("div",Zo,[es,t("div",null,[t("div",{class:"hover:bg-gray-100 cursor-pointer rounded-full h-6 w-6 flex items-center justify-center",onClick:o[0]||(o[0]=S=>e.hideFlyover("layers"))},[a(f,{class:"h-4 w-4 text-gray-400"})])])]),t("div",ts,[a(w,{class:"relative mb-4"},{default:v(({open:S})=>[a(b,{class:g([S?"":"opacity-90","rounded-full bg-gray-50 h-8 w-8 flex items-center justify-center cursor-pointer text-gray-500 hover:bg-gray-200 hover:text-gray-900"])},{default:v(()=>[a(d,{class:"w-5 h-5"})]),_:2},1032,["class"]),a(T,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"translate-y-1 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"translate-y-0 opacity-100","leave-to-class":"translate-y-1 opacity-0"},{default:v(()=>[a(u,{class:"absolute z-10 w-80 mt-1 transform -translate-x-1/2 left-40 sm:px-0 lg:max-w-3xl"},{default:v(({close:h})=>[t("div",os,[ss,t("label",ns,[B(t("textarea",{class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm text-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",rows:"3","onUpdate:modelValue":o[1]||(o[1]=N=>e.newLayer=N)},null,512),[[j,e.newLayer]])]),t("button",{onClick:N=>{e.add(),h()},class:"bg-purple-600 text-white px-6 py-2 text-sm font-semibold rounded-lg"},"\u0421\u043E\u0437\u0434\u0430\u0442\u044C",8,rs)])]),_:1})]),_:1})]),_:1}),(r(!0),l(D,null,L(s.db.layers,S=>(r(),l("div",{class:g(["border-t last:border-b px-2",[e.activeLayer.id===S.id?"bg-purple-50":""]]),key:S.id},[a(V,null,{default:v(({open:h})=>[a(_,{class:"py-2 w-full"},{default:v(()=>[t("div",ls,[t("div",{class:g([e.activeLayer.id===S.id?"font-semibold":""])},[t("div",as,x(S.name),1)],2),a(m,{class:g([h?"transform rotate-180":"","w-5 h-5 text-purple-500"])},null,8,["class"])])]),_:2},1024),a(A,{class:"text-gray-500 pb-4"},{default:v(()=>[t("label",is,[B(t("input",{type:"text",class:"text-sm mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50","onUpdate:modelValue":N=>S.name=N},null,8,cs),[[j,S.name]])]),t("div",ds,[t("button",{onClick:N=>e.setActiveLayer(S),class:"my-2 bg-purple-500 rounded text-purple-50 py-2 px-4 cursor-pointer hover:bg-purple-600 hover:text-white transition text-xs font-semibold"},"\u0421\u0434\u0435\u043B\u0430\u0442\u044C \u0430\u043A\u0442\u0438\u0432\u043D\u044B\u043C",8,us),s.db.layers.length>1?(r(),l("button",{key:0,onClick:N=>e.remove(S),class:"my-2 bg-white border border-red-100 rounded text-red-500 py-2 px-4 cursor-pointer hover:bg-red-50 hover:text-red-700 transition text-xs font-semibold"},"\u0423\u0434\u0430\u043B\u0438\u0442\u044C",8,fs)):I("",!0)])]),_:2},1024)]),_:2},1024)],2))),128))])],2)}var gs=O(Yo,[["render",ys]]);const vs={components:{XIcon:W,ChevronUpIcon:_e,Disclosure:xe,DisclosureButton:we,DisclosurePanel:Ie},props:{db:{type:Object},selectedReferences:{type:Object},showWithoutReference:{type:Boolean,default:!0}},emits:["toggle-empty"],setup(n,{emit:o}){const{hideFlyover:s,filters:e}=$();return(()=>{n.db.references.forEach(d=>{n.selectedReferences.push(d.id)})})(),{filters:e,hideFlyover:s,toggleReference:(d,b)=>{const u=n.selectedReferences.findIndex(w=>w===d);u>-1?n.selectedReferences.splice(u,1):n.selectedReferences.push(d)},toggleEmpty:()=>{o("toggle-empty")}}}},ps={class:"h-16 bg-white flex items-center justify-between px-4 space-x-2"},bs=t("div",{class:"flex-1 font-bold"},"\u0424\u0438\u043B\u044C\u0442\u0440\u044B",-1),ms={class:"flex-1 bg-white overflow-auto px-4 pb-32 space-y-4 text-sm"},hs={class:"border-t border-b px-2"},_s={class:"w-full flex justify-between items-center space-x-4"},xs={class:"font-semibold"},ws={key:0,class:"line-clamp-1"},Is={key:1},ks={class:"inline-flex items-center"},Fs=["checked"],Cs=t("span",{class:"ml-2"},"\u041F\u043E\u043A\u0430\u0437\u044B\u0432\u0430\u0442\u044C \u0431\u0435\u0437 \u0441\u0432\u044F\u0437\u0435\u0439",-1),Ps={class:"inline-flex items-center"},Bs=["onClick","checked"],Rs={class:"ml-2"};function Ds(n,o,s,e,c,p){const f=i("XIcon"),d=i("ChevronUpIcon"),b=i("DisclosureButton"),u=i("DisclosurePanel"),w=i("Disclosure");return r(),l("div",{class:g([e.filters?"translate-y-0":"translate-y-full","z-40 transition absolute bottom-9 right-102 w-96 h-large overflow-hidden flex flex-col border shadow-xl border-t-2 border-t-purple-500"])},[t("div",ps,[bs,t("div",null,[t("div",{class:"hover:bg-gray-100 cursor-pointer rounded-full h-6 w-6 flex items-center justify-center",onClick:o[0]||(o[0]=m=>e.hideFlyover("filters"))},[a(f,{class:"h-4 w-4 text-gray-400"})])])]),t("div",ms,[t("div",hs,[a(w,null,{default:v(({open:m})=>[a(b,{class:"py-2 w-full"},{default:v(()=>[t("div",_s,[t("div",xs,[s.db.referenceName?(r(),l("div",ws,"\u0424\u0438\u043B\u044C\u0442\u0440 \u043F\u043E: "+x(s.db.referenceName),1)):(r(),l("div",Is,"\u0424\u0438\u043B\u044C\u0442\u0440 \u043F\u043E \u0441\u0432\u044F\u0437\u044F\u043C"))]),a(d,{class:g([m?"transform rotate-180":"","w-5 h-5 text-purple-500"])},null,8,["class"])])]),_:2},1024),a(u,{class:"text-gray-500 pb-4"},{default:v(()=>[t("div",null,[t("div",null,[t("label",ks,[t("input",{onClick:o[1]||(o[1]=_=>e.toggleEmpty()),type:"checkbox",class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-300 focus:ring focus:ring-offset-0 focus:ring-indigo-200 focus:ring-opacity-50",checked:s.showWithoutReference},null,8,Fs),Cs])]),(r(!0),l(D,null,L(s.db.references,_=>(r(),l("div",{key:_.id},[t("label",Ps,[t("input",{onClick:A=>e.toggleReference(_.id),type:"checkbox",class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-300 focus:ring focus:ring-offset-0 focus:ring-indigo-200 focus:ring-opacity-50",checked:s.selectedReferences.includes(_.id)},null,8,Bs),t("span",Rs,x(_.name),1)])]))),128))])]),_:1})]),_:1})])])],2)}var Ls=O(vs,[["render",Ds]]);const Vs={components:{XIcon:W,PlusSmIcon:te,Popover:oe,PopoverButton:se,PopoverPanel:ne},props:{db:{type:Object}},setup(n){const{hideFlyover:o,references:s}=$(),e=P("");return{newReference:e,addNewReference:()=>{if(e.value==="")return;let p=0;n.db.references.forEach(d=>{d.id>p&&(p=d.id)});const f={id:p+1,name:e.value};n.db.references.push(f),e.value=""},hideFlyover:o,references:s}}},js={class:"h-16 bg-white flex items-center justify-between px-4 space-x-2"},Ss=t("div",{class:"flex-1 font-bold"},"\u0423\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0435 \u0441\u0432\u044F\u0437\u044F\u043C\u0438",-1),As={class:"flex-1 bg-white overflow-auto px-4 pb-32 space-y-4 text-sm"},Us={class:"block"},Ns={class:"bg-white overflow-hidden rounded shadow-lg ring-1 ring-black ring-opacity-5 p-4 space-y-4"},Os=t("p",{class:"text-xs text-gray-600"},"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043D\u0430\u0437\u0432\u0430\u043D\u0438\u0435",-1),Es={class:"block"},Gs={class:"space-y-2"},Xs=["onUpdate:modelValue"];function zs(n,o,s,e,c,p){const f=i("XIcon"),d=i("PlusSmIcon"),b=i("PopoverButton"),u=i("PopoverPanel"),w=i("Popover");return r(),l("div",{class:g([e.references?"translate-y-0":"translate-y-full","z-40 transition absolute bottom-9 right-80 w-96 h-large overflow-hidden flex flex-col border shadow-xl border-t-2 border-t-purple-500"])},[t("div",js,[Ss,t("div",null,[t("div",{class:"hover:bg-gray-100 cursor-pointer rounded-full h-6 w-6 flex items-center justify-center",onClick:o[0]||(o[0]=m=>e.hideFlyover("references"))},[a(f,{class:"h-4 w-4 text-gray-400"})])])]),t("div",As,[t("div",null,[t("label",Us,[B(t("input",{type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm text-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50","onUpdate:modelValue":o[1]||(o[1]=m=>s.db.referenceName=m),placeholder:"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u0441\u0432\u044F\u0437\u0438 (\u043D\u0430\u043F\u0440\u0438\u043C\u0435\u0440, \u0438\u043D\u0441\u0442\u0440\u0443\u043C\u0435\u043D\u0442\u044B)"},null,512),[[j,s.db.referenceName]])])]),a(w,{class:"relative"},{default:v(({open:m})=>[a(b,{class:g([m?"":"opacity-90","rounded-full bg-gray-50 h-8 w-8 flex items-center justify-center cursor-pointer text-gray-500 hover:bg-gray-200 hover:text-gray-900"])},{default:v(()=>[a(d,{class:"w-5 h-5"})]),_:2},1032,["class"]),a(T,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"translate-y-1 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"translate-y-0 opacity-100","leave-to-class":"translate-y-1 opacity-0"},{default:v(()=>[a(u,{class:"absolute z-10 w-80 mt-1 transform -translate-x-1/2 left-40 sm:px-0 lg:max-w-3xl"},{default:v(()=>[t("div",Ns,[Os,t("label",Es,[B(t("textarea",{class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm text-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",rows:"3","onUpdate:modelValue":o[2]||(o[2]=_=>e.newReference=_)},null,512),[[j,e.newReference]])]),t("button",{onClick:o[3]||(o[3]=(..._)=>e.addNewReference&&e.addNewReference(..._)),class:"bg-purple-600 text-white px-6 py-2 text-sm font-semibold rounded-lg"},"\u0421\u043E\u0437\u0434\u0430\u0442\u044C")])]),_:1})]),_:1})]),_:1}),t("div",Gs,[(r(!0),l(D,null,L(s.db.references,m=>(r(),l("label",{key:m.id,class:"block"},[B(t("input",{type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm text-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50","onUpdate:modelValue":_=>m.name=_},null,8,Xs),[[j,m.name]])]))),128))])])],2)}var Ms=O(Vs,[["render",zs]]);const Ws={components:{XIcon:W,PlusSmIcon:te,Popover:oe,PopoverButton:se,PopoverPanel:ne},props:{db:{type:Object}},setup(n){const{hideFlyover:o,groups:s}=$(),e=P("");return{newGroup:e,addNewGroup:()=>{if(e.value==="")return;let p=0;n.db.value.groups.forEach(d=>{d.id>p&&(p=d.id)});const f={id:p+1,name:e.value};n.db.value.groups.push(f),e.value=""},hideFlyover:o,groups:s}}},Ts={class:"h-16 bg-white flex items-center justify-between px-4 space-x-2"},$s=t("div",{class:"flex-1 font-bold"},"\u0423\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0435 \u0433\u0440\u0443\u043F\u043F\u0430\u043C\u0438",-1),Js={class:"flex-1 bg-white overflow-auto px-4 pb-32 space-y-4 text-sm"},Hs={class:"bg-white overflow-hidden rounded shadow-lg ring-1 ring-black ring-opacity-5 p-4 space-y-4"},Qs=t("p",{class:"text-xs text-gray-600"},"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u043D\u043E\u0432\u043E\u0439 \u0433\u0440\u0443\u043F\u043F\u044B.",-1),qs={class:"block"},Ks={class:"space-y-2"},Ys=["onUpdate:modelValue"];function Zs(n,o,s,e,c,p){const f=i("XIcon"),d=i("PlusSmIcon"),b=i("PopoverButton"),u=i("PopoverPanel"),w=i("Popover");return r(),l("div",{class:g([e.groups?"translate-y-0":"translate-y-full","z-40 transition absolute bottom-9 right-60 w-96 h-large overflow-hidden flex flex-col border shadow-xl border-t-2 border-t-purple-500"])},[t("div",Ts,[$s,t("div",null,[t("div",{class:"hover:bg-gray-100 cursor-pointer rounded-full h-6 w-6 flex items-center justify-center",onClick:o[0]||(o[0]=m=>e.hideFlyover("groups"))},[a(f,{class:"h-4 w-4 text-gray-400"})])])]),t("div",Js,[a(w,{class:"relative"},{default:v(({open:m})=>[a(b,{class:g([m?"":"opacity-90","rounded-full bg-gray-50 h-8 w-8 flex items-center justify-center cursor-pointer text-gray-500 hover:bg-gray-200 hover:text-gray-900"])},{default:v(()=>[a(d,{class:"w-5 h-5"})]),_:2},1032,["class"]),a(T,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"translate-y-1 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"translate-y-0 opacity-100","leave-to-class":"translate-y-1 opacity-0"},{default:v(()=>[a(u,{class:"absolute z-10 w-80 mt-1 transform -translate-x-1/2 left-40 sm:px-0 lg:max-w-3xl"},{default:v(()=>[t("div",Hs,[Qs,t("label",qs,[B(t("textarea",{class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm text-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",rows:"3","onUpdate:modelValue":o[1]||(o[1]=_=>e.newGroup=_)},null,512),[[j,e.newGroup]])]),t("button",{onClick:o[2]||(o[2]=(..._)=>e.addNewGroup&&e.addNewGroup(..._)),class:"bg-purple-600 text-white px-6 py-2 text-sm font-semibold rounded-lg"},"\u0421\u043E\u0437\u0434\u0430\u0442\u044C")])]),_:1})]),_:1})]),_:1}),t("div",Ks,[(r(!0),l(D,null,L(s.db.groups,m=>(r(),l("label",{key:m.id,class:"block"},[B(t("input",{type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm text-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50","onUpdate:modelValue":_=>m.name=_},null,8,Ys),[[j,m.name]])]))),128))])])],2)}var en=O(Ws,[["render",Zs]]);const tn=[{label:"\u0422\u0435\u043A\u0441\u0442\u043E\u0432\u043E\u0435 \u043F\u043E\u043B\u0435",value:"text"},{label:"\u0411\u0443\u043B\u0435\u0432\u043E \u043F\u043E\u043B\u0435 (\u043F\u0440\u0430\u0432\u0434\u0430/\u043B\u043E\u0436\u044C)",value:"bool"}],on={components:{XIcon:W,PlusSmIcon:te,ChevronUpIcon:_e,ChevronDownIcon:Je,Popover:oe,PopoverButton:se,PopoverPanel:ne,Disclosure:xe,DisclosureButton:we,DisclosurePanel:Ie},props:{db:{type:Object}},setup(n){const{hideFlyover:o,fields:s}=$(),e=P("");return{newField:e,add:()=>{if(e.value==="")return;let d=0;n.db.fields.forEach(u=>{u.id>d&&(d=u.id)});const b={id:d+1,name:e.value,showInDetals:!1,showInPopper:!1,showInGrid:!1,showInHeader:!1,searchable:!1,filterable:!1,type:"text"};n.db.fields.push(b),n.db.items.forEach(u=>{u.fields.push({id:d+1,value:""})}),e.value=""},remove:d=>{const b=n.db.fields.findIndex(u=>u.id===d);b>-1&&(n.db.items.forEach(u=>{const w=u.fields.findIndex(m=>m.id===d);w>-1&&u.fields.splice(w,1)}),n.db.fields.splice(b,1))},convert:(d,b)=>{d.type=b,n.db.items.forEach(u=>{u.fields.forEach(w=>{if(w.id===d.id)switch(b){case"bool":w.value=!1;break;case"text":w.value="";break}})})},fieldTypes:tn,hideFlyover:o,fields:s}}},sn={class:"h-16 bg-white flex items-center justify-between px-4 space-x-2"},nn=t("div",{class:"flex-1 font-bold"},"\u0423\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0435 \u043F\u043E\u043B\u044F\u043C\u0438",-1),rn={class:"flex-1 bg-white overflow-auto px-4 space-y-4 text-sm pb-32"},ln={class:"bg-white overflow-hidden rounded shadow-lg ring-1 ring-black ring-opacity-5 p-4 space-y-4"},an=t("p",{class:"text-xs text-gray-600"},"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u043D\u043E\u0432\u043E\u0433\u043E \u043F\u043E\u043B\u044F.",-1),cn={class:"block"},dn=["onClick"],un={class:"line-clamp-1"},fn={class:"space-y-2 pb-4"},yn={class:"block"},gn=t("span",{class:"font-bold text-black"},"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u043F\u043E\u043B\u044F",-1),vn=["onUpdate:modelValue"],pn=t("div",null,"\u0422\u0438\u043F:",-1),bn={class:"flex-1 text-left font-bold"},mn={class:"bg-white overflow-hidden rounded shadow-lg ring-1 ring-black ring-opacity-5 p-2"},hn=["onClick"],_n={class:"inline-flex items-center"},xn=["onUpdate:modelValue"],wn=t("span",{class:"ml-2"},"\u041F\u043E\u043A\u0430\u0437\u044B\u0432\u0430\u0442\u044C \u043F\u043E\u043B\u0435 \u0432 \u0437\u0430\u0433\u043E\u043B\u043E\u0432\u043A\u0435",-1),In={class:"inline-flex items-center"},kn=["onUpdate:modelValue"],Fn=t("span",{class:"ml-2"},"\u041F\u043E\u043A\u0430\u0437\u044B\u0432\u0430\u0442\u044C \u043F\u043E\u043B\u0435 \u0432 \u0434\u0435\u0442\u0430\u043B\u044F\u0445 \u0430\u0442\u043E\u043C\u0430",-1),Cn={class:"inline-flex items-center"},Pn=["onUpdate:modelValue"],Bn=t("span",{class:"ml-2"},"\u041F\u043E\u043A\u0430\u0437\u044B\u0432\u0430\u0442\u044C \u043F\u043E\u043B\u0435 \u0432 \u043F\u043E\u0434\u0441\u043A\u0430\u0437\u043A\u0435",-1),Rn={class:"inline-flex items-center"},Dn=["onUpdate:modelValue"],Ln=t("span",{class:"ml-2"},"\u041F\u043E\u043A\u0430\u0437\u044B\u0432\u0430\u0442\u044C \u043F\u043E\u043B\u0435 \u0432 \u0441\u0435\u0442\u043A\u0435",-1),Vn={class:"inline-flex items-center"},jn=["onUpdate:modelValue"],Sn=t("span",{class:"ml-2"},"\u0423\u0447\u0438\u0442\u044B\u0432\u0430\u0442\u044C \u043F\u043E\u043B\u0435 \u043F\u0440\u0438 \u043F\u043E\u0438\u0441\u043A\u0435",-1),An={class:"pt-4"},Un=["onClick"];function Nn(n,o,s,e,c,p){const f=i("XIcon"),d=i("PlusSmIcon"),b=i("PopoverButton"),u=i("PopoverPanel"),w=i("Popover"),m=i("ChevronUpIcon"),_=i("DisclosureButton"),A=i("ChevronDownIcon"),V=i("DisclosurePanel"),S=i("Disclosure");return r(),l("div",{class:g([e.fields?"translate-y-0":"translate-y-full","z-40 transition absolute bottom-9 right-32 w-96 h-large overflow-hidden flex flex-col border shadow-xl border-t-2 border-t-purple-500"])},[t("div",sn,[nn,t("div",null,[t("div",{class:"hover:bg-gray-100 cursor-pointer rounded-full h-6 w-6 flex items-center justify-center",onClick:o[0]||(o[0]=h=>e.hideFlyover("fields"))},[a(f,{class:"h-4 w-4 text-gray-400"})])])]),t("div",rn,[a(w,{class:"relative"},{default:v(({open:h})=>[a(b,{class:g([h?"":"opacity-90","rounded-full bg-gray-50 h-8 w-8 flex items-center justify-center cursor-pointer text-gray-500 hover:bg-gray-200 hover:text-gray-900"])},{default:v(()=>[a(d,{class:"w-5 h-5"})]),_:2},1032,["class"]),a(T,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"translate-y-1 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"translate-y-0 opacity-100","leave-to-class":"translate-y-1 opacity-0"},{default:v(()=>[a(u,{class:"absolute z-10 w-80 mt-1 transform -translate-x-1/2 left-40 sm:px-0 lg:max-w-3xl"},{default:v(({close:N})=>[t("div",ln,[an,t("label",cn,[B(t("textarea",{class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm text-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",rows:"3","onUpdate:modelValue":o[1]||(o[1]=R=>e.newField=R)},null,512),[[j,e.newField]])]),t("button",{onClick:R=>{e.add(),N()},class:"bg-purple-600 text-white px-6 py-2 text-sm font-semibold rounded-lg"},"\u0421\u043E\u0437\u0434\u0430\u0442\u044C",8,dn)])]),_:1})]),_:1})]),_:1}),(r(!0),l(D,null,L(s.db.fields,h=>(r(),U(S,{key:h.id},{default:v(({open:N})=>[a(_,{class:"flex justify-between w-full px-4 py-2 text-sm font-medium text-left text-purple-900 bg-purple-100 rounded-lg hover:bg-purple-200 focus:outline-none focus-visible:ring focus-visible:ring-purple-500 focus-visible:ring-opacity-75"},{default:v(()=>[t("span",un,x(h.name),1),a(m,{class:g([N?"transform rotate-180":"","w-5 h-5 text-purple-500"])},null,8,["class"])]),_:2},1024),a(V,{class:"px-2 pt-2 pb-2 text-sm text-gray-500 space-y-1"},{default:v(()=>[t("section",fn,[t("div",null,[t("label",yn,[gn,B(t("input",{type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",placeholder:"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435","onUpdate:modelValue":R=>h.name=R},null,8,vn),[[j,h.name]])])]),t("div",null,[a(w,{class:"relative"},{default:v(({open:R})=>[a(b,{class:g([R?"":"opacity-90","rounded-md border border-gray-300 shadow px-2 h-11 text-sm w-full flex items-center space-x-2"])},{default:v(()=>[pn,t("div",bn,x(e.fieldTypes.find(Q=>Q.value===h.type).label),1),a(A,{class:"w-5 h-5"})]),_:2},1032,["class"]),a(T,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"translate-y-1 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"translate-y-0 opacity-100","leave-to-class":"translate-y-1 opacity-0"},{default:v(()=>[a(u,{class:"absolute z-10 w-full mt-1 sm:px-0 lg:max-w-3xl"},{default:v(({close:Q})=>[t("div",mn,[(r(!0),l(D,null,L(e.fieldTypes,(z,J)=>(r(),l("div",{key:J,onClick:X=>{e.convert(h,z.value),Q()},class:"cursor-pointer hover:bg-gray-100 py-3 px-3 rounded"},x(z.label),9,hn))),128))])]),_:2},1024)]),_:2},1024)]),_:2},1024)])]),t("div",null,[t("label",_n,[B(t("input",{type:"checkbox",class:"rounded border-gray-300 text-purple-600 shadow-sm focus:border-purple-300 focus:ring focus:ring-offset-0 focus:ring-purple-200 focus:ring-opacity-50 cursor-pointer","onUpdate:modelValue":R=>h.showInHeader=R},null,8,xn),[[H,h.showInHeader]]),wn])]),t("div",null,[t("label",In,[B(t("input",{type:"checkbox",class:"rounded border-gray-300 text-purple-600 shadow-sm focus:border-purple-300 focus:ring focus:ring-offset-0 focus:ring-purple-200 focus:ring-opacity-50 cursor-pointer","onUpdate:modelValue":R=>h.showInDetals=R},null,8,kn),[[H,h.showInDetals]]),Fn])]),t("div",null,[t("label",Cn,[B(t("input",{type:"checkbox",class:"rounded border-gray-300 text-purple-600 shadow-sm focus:border-purple-300 focus:ring focus:ring-offset-0 focus:ring-purple-200 focus:ring-opacity-50 cursor-pointer","onUpdate:modelValue":R=>h.showInPopper=R},null,8,Pn),[[H,h.showInPopper]]),Bn])]),t("div",null,[t("label",Rn,[B(t("input",{type:"checkbox",class:"rounded border-gray-300 text-purple-600 shadow-sm focus:border-purple-300 focus:ring focus:ring-offset-0 focus:ring-purple-200 focus:ring-opacity-50 cursor-pointer","onUpdate:modelValue":R=>h.showInGrid=R},null,8,Dn),[[H,h.showInGrid]]),Ln])]),t("div",null,[t("label",Vn,[B(t("input",{type:"checkbox",class:"rounded border-gray-300 text-purple-600 shadow-sm focus:border-purple-300 focus:ring focus:ring-offset-0 focus:ring-purple-200 focus:ring-opacity-50 cursor-pointer","onUpdate:modelValue":R=>h.searchable=R},null,8,jn),[[H,h.searchable]]),Sn])]),t("div",An,[t("button",{onClick:R=>e.remove(h.id),class:"bg-red-50 rounded-lg border cursor-pointer border-red-100 text-red-700 hover:bg-red-100 hover:text-red-900 px-4 py-1"},"\u0423\u0434\u0430\u043B\u0438\u0442\u044C",8,Un)])]),_:2},1024)]),_:2},1024))),128))])],2)}var On=O(on,[["render",Nn]]);const En=5,Gn=[{id:1,name:"\u0421\u043B\u043E\u0439 1"}],Xn=[],zn=[],Mn=[{id:1,name:"First Item",layers:[{id:1,note:"",color:"bg-gray-100",score:0}],groupId:0,fields:[],references:[],active:!0}],Wn="",Tn={name:"",description:"",version:""},$n=[],Jn=[];var Hn={version:En,layers:Gn,fields:Xn,groups:zn,items:Mn,referenceName:Wn,model:Tn,pallete:$n,references:Jn};const Qn={components:{XIcon:W},props:{activeItem:{type:Object},db:{type:Object},version:{type:Number}},emits:["set-db","set-layer-ready","set-active-item"],setup(n,{emit:o}){const{hideFlyover:s,load:e}=$();let c;const p=()=>{let _=new FileReader;_.onload=A=>{o("set-layer-ready",!1),o("set-active-item",void 0),o("set-db",JSON.parse(A.target.result)),o("set-layer-ready",!0),s("load")},_.onerror=A=>console.log(A),_.readAsText(c)},f=()=>{o("set-db",JSON.parse(JSON.stringify(Hn))),o("set-layer-ready",!0),o("set-active-item",void 0),s("load")},m=dt({onDrop:(_,A)=>{c=_[0],p()}}),{getRootProps:b,getInputProps:u}=m,w=Ue(m,["getRootProps","getInputProps"]);return Ae(Se({getRootProps:b,getInputProps:u},w),{loadDefault:f,hideFlyover:s,load:e})}},qn={class:"h-16 bg-white flex items-center justify-between px-4 space-x-2"},Kn=t("div",{class:"flex-1 font-bold"},"\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430 \u0444\u0430\u0439\u043B\u0430",-1),Yn={class:"flex-1 bg-white overflow-auto px-4 space-y-4"},Zn=t("p",{class:"text-sm text-gray-500"}," \u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 json-\u0444\u0430\u0439\u043B \u0434\u043B\u044F \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0438 ",-1),er={class:"h-16 bg-gray-50 border border-dashed rounded-lg my-4 flex items-center justify-center text-xs text-gray-500"},tr={key:0},or={key:1,class:"cursor-pointer"},sr=t("p",{class:"text-sm text-gray-500"},"\u0418\u043B\u0438 \u0432\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u043E\u0434\u043D\u0443 \u0438\u0437 \u0441\u0442\u0430\u043D\u0434\u0430\u0440\u0442\u043D\u044B\u0445 \u043C\u043E\u0434\u0435\u043B\u0435\u0439",-1),nr={class:"text-sm text-gray-600"};function rr(n,o,s,e,c,p){const f=i("XIcon");return r(),l("div",{class:g([e.load?"translate-y-0":"translate-y-full","z-40 transition absolute bottom-9 right-4 w-96 h-96 overflow-hidden flex flex-col border shadow-xl border-t-2 border-t-purple-500"])},[t("div",qn,[Kn,t("div",null,[t("div",{class:"hover:bg-gray-100 cursor-pointer rounded-full h-6 w-6 flex items-center justify-center",onClick:o[0]||(o[0]=d=>e.hideFlyover("load"))},[a(f,{class:"h-4 w-4 text-gray-400"})])])]),t("div",Yn,[Zn,t("div",er,[t("div",He(Qe(e.getRootProps())),[t("input",He(Qe(e.getInputProps())),null,16),n.isDragActive?(r(),l("p",tr,"\u041F\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0444\u0430\u0439\u043B \u0441\u044E\u0434\u0430...")):(r(),l("p",or,"\u041F\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0444\u0430\u0439\u043B \u0441\u044E\u0434\u0430 \u0438\u043B\u0438 \u043A\u043B\u0438\u043A\u043D\u0438\u0442\u0435 \u0434\u043B\u044F \u0432\u044B\u0431\u043E\u0440\u0430"))],16)]),sr,t("div",nr,[t("p",{onClick:o[1]||(o[1]=d=>e.loadDefault()),class:"hover:underline hover:text-gray-800 cursor-pointer"},"\u041F\u0443\u0441\u0442\u0430\u044F \u043C\u043E\u0434\u0435\u043B\u044C")])])],2)}var lr=O(Qn,[["render",rr]]);const ar={components:{FlyOverAbout:Ao,FlyOverDescription:Ko,FlyOverLayers:gs,FlyOverFilters:Ls,FlyOverReferences:Ms,FlyOverGroups:en,FlyOverFields:On,FlyOverLoad:lr,Grid:$t,Footer:uo,DetailsCustomFields:_o,DetailsCustomFieldsEdit:Ro,Markdown:$e,XIcon:W,DuplicateIcon:Me,ChatAltIcon:ut,FireIcon:ft,FilterIcon:Ge,StatusOnlineIcon:Oe,AdjustmentsIcon:yt,LinkIcon:Xe,UploadIcon:We,DownloadIcon:Te,PlusSmIcon:te,ChevronDownIcon:Je,ChevronUpIcon:_e,ViewBoardsIcon:gt,ViewGridAddIcon:ze,ViewGridIcon:vt,CollectionIcon:Ee,Popover:oe,PopoverButton:se,PopoverPanel:ne,Disclosure:xe,DisclosureButton:we,DisclosurePanel:Ie},setup(){const n=5,{board:o,toggleBoard:s}=Rt(),{popper:e,togglePopper:c}=Ke(),{heatmap:p,toggleHeatmap:f}=Ye(),{isLayersMenuVisible:d,toggleLayersMenu:b}=Dt(),u=P(void 0),{activeLayer:w,setActiveLayer:m}=Ce(),{convert:_}=Bt(),A=k=>{u.value=k,_(u,n),m(u.value.layers[0])},V=P(!1),S=k=>{V.value=k},h=P(void 0),N=k=>{if(u.value&&u.value.items)h.value=u.value.items.find(C=>C.id===parseInt(k));else return},R=P(!1),Q=P(!1),z=k=>{if(u.value&&u.value.groups)return u.value.groups.find(C=>C.id===parseInt(k))},J=k=>{if(u.value&&u.value.fields)return u.value.fields.find(C=>C.id===parseInt(k))},X=P(""),ye=()=>{if(X.value==="")return;let k=0;u.value.items.forEach(E=>{E.id>k&&(k=E.id)});const C=[];u.value.fields.forEach(E=>{C.push({id:E.id,value:""})});const G={id:k+1,name:X.value,layers:[],groupId:0,fields:C,references:[]};u.value.layers.forEach(E=>{G.layers.push({id:E.id,note:"",color:"bg-gray-100",score:0})}),u.value.items.push(G),X.value="",h.value=u.value.items.find(E=>E.id===G.id)},Y=()=>{if(h.value){const k=h.value.id;h.value=void 0;const C=u.value.items.findIndex(G=>G.id===k);C>-1&&u.value.items.splice(C,1)}},ge=P([]),q=P(!0),Z=()=>{q.value=!q.value},ve=he(()=>V.value&&u.value&&u.value.items?u.value.items.filter(k=>{const C=ge.value.filter(E=>k.references.includes(E)),G=q.value&&k.references.length===0;return C.length>0||G}):[]),pe=xt("",400),ee=he(()=>{const k=pe.value.toLowerCase();return k.length<3?ve.value:ve.value.filter(C=>{let G=`${C.name}`;return u.value.fields.forEach(E=>{E.searchable&&(G+=C.fields.find(Ze=>Ze.id===E.id).value)}),G.toLowerCase().indexOf(k)>-1})}),ke=k=>ee.value.filter(C=>C.groupId===parseInt(k)),y=he(()=>u.value.groups.filter(k=>ee.value.findIndex(C=>C.groupId===k.id)>-1));return{actualJSONVersion:n,board:o,toggleBoard:s,popper:e,togglePopper:c,heatmap:p,toggleHeatmap:f,isLayersMenuVisible:d,toggleLayersMenu:b,db:u,setDB:A,isLayerReady:V,setLayerReady:S,activeLayer:w,setActiveLayer:m,activeItem:h,setActiveItem:N,isAdditionalFieldsVisible:R,isWideDetails:Q,newItem:X,addNewItem:ye,deleteItem:Y,getGroupById:z,getFieldById:J,searchQuery:pe,searchResults:ee,selectedReferences:ge,showWithoutReference:q,toggleShowWithoutReference:Z,swatches:Lt,filterByGroup:ke,nonEmptyGroups:y,toggleReference:k=>{if(h.value.references.includes(k)){const C=h.value.references.findIndex(G=>G===k);h.value.references.splice(C,1)}else h.value.references.push(k)},getReferenceById:k=>u.value.references.find(C=>C.id===k)}}},K=n=>(pt("data-v-2981abe0"),n=n(),bt(),n),ir={class:"h-screen w-screen overflow-hidden flex flex-col"},cr={class:"flex-1 flex"},dr={class:"flex-1 flex flex-col"},ur={key:0,class:"h-16 flex items-center justify-between relative"},fr={class:"flex-1 pl-12 flex items-center space-x-4"},yr={class:"block flex-1"},gr={class:"flex items-center space-x-2 px-4"},vr={class:"rounded-lg bg-gray-50 h-8 w-8 flex items-center justify-center cursor-pointer text-gray-500 hover:bg-gray-200 hover:text-gray-900"},pr={class:"bg-white overflow-hidden rounded shadow-lg ring-1 ring-black ring-opacity-5 p-4 space-y-4"},br=K(()=>t("p",{class:"text-xs text-gray-600"},"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u043D\u043E\u0432\u043E\u0433\u043E \u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430, \u043A\u043E\u0442\u043E\u0440\u043E\u0435 \u0431\u0443\u0434\u0435\u0442 \u043E\u0442\u043E\u0431\u0440\u0430\u0436\u0430\u0442\u044C\u0441\u044F \u0432 \u0441\u0435\u0442\u043A\u0435. \u041F\u043E\u0441\u043B\u0435 \u0441\u043E\u0437\u0434\u0430\u043D\u0438\u044F \u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430 \u043C\u043E\u0436\u043D\u043E \u0431\u0443\u0434\u0435\u0442 \u0432\u043D\u0435\u0441\u0442\u0438 \u0432 \u043D\u0435\u0433\u043E \u043D\u0435\u043E\u0431\u0445\u043E\u0434\u0438\u043C\u044B\u0435 \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u044F.",-1)),mr={class:"block"},hr={class:"flex-1 overflow-x-auto flex items-center space-x-6"},_r=["onClick"],xr={key:1,class:"pb-32 overflow-hidden",style:{height:"calc(100vh - 6.5rem)"}},wr={key:0,class:"px-2 py-4 pb-32 overflow-y-auto space-y-1",style:{height:"calc(100vh - 6.5rem)"}},Ir={key:1,style:{height:"calc(100vh - 6.5rem)"},class:"overflow-y-auto p-8"},kr={key:1,class:"px-2 py-16 space-y-8"},Fr={class:"space-y-2"},Cr={key:0,class:"space-y-2"},Pr={class:"border-t border-b py-4 space-y-4"},Br={class:"flex items-center space-x-2"},Rr={class:"flex-1"},Dr={class:"flex items-center space-x-2"},Lr=K(()=>t("div",{class:"text-sm"},"\u0426\u0432\u0435\u0442",-1)),Vr={class:"bg-white overflow-hidden rounded shadow-lg ring-1 ring-black ring-opacity-5"},jr={class:"grid grid-cols-9 gap-1 p-4"},Sr=["onClick"],Ar={class:"block w-24"},Ur={class:"inline-flex items-center"},Nr=K(()=>t("span",{class:"ml-2"},"\u0410\u043A\u0442\u0438\u0432\u043D\u043E",-1)),Or={key:0,class:"space-y-2"},Er={class:"block"},Gr=K(()=>t("span",{class:"text-gray-700 text-sm"},"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435",-1)),Xr={class:"flex items-center space-x-2"},zr=K(()=>t("div",{class:"text-sm font-bold"},"\u0413\u0440\u0443\u043F\u043F\u0430:",-1)),Mr={key:0,class:"text-sm line-clamp-1"},Wr={key:1,class:"text-sm line-clamp-1"},Tr={class:"bg-white overflow-auto rounded shadow-lg ring-1 ring-black ring-opacity-5 p-2"},$r=["onClick"],Jr={class:"py-4"},Hr={class:"flex items-center"},Qr={key:0,class:"flex-1 text-xs text-gray-700"},qr={key:1,class:"flex-1 text-xs text-gray-700"},Kr={class:"bg-white overflow-hidden rounded shadow-lg ring-1 ring-black ring-opacity-5 p-4 space-y-4 flex flex-col"},Yr={class:"h-96 overflow-y-auto"},Zr={class:"inline-flex items-center"},el=["checked","onClick"],tl={class:"ml-2 text-sm line-clamp-1"},ol={class:"space-y-1"},sl={class:"block"},nl=K(()=>t("span",{class:"text-gray-700 text-xs"},"\u041A\u043E\u043C\u043C\u0435\u043D\u0442\u0430\u0440\u0438\u0439",-1)),rl={class:"py-4"},ll={key:0,class:"uppercase font-bold text-gray-500"},al={key:1,class:"uppercase font-bold text-gray-500"},il={key:0},cl={key:2},dl={key:0,class:"space-y-2 px-2 py-16"},ul={class:"font-bold"},fl={class:"text-sm text-gray-600"},yl={key:0,class:"text-xs text-gray-600 font-bold"};function gl(n,o,s,e,c,p){const f=i("fly-over-about"),d=i("fly-over-description"),b=i("fly-over-layers"),u=i("fly-over-filters"),w=i("fly-over-references"),m=i("fly-over-groups"),_=i("fly-over-fields"),A=i("fly-over-load"),V=i("CollectionIcon"),S=i("ViewGridIcon"),h=i("ViewBoardsIcon"),N=i("FireIcon"),R=i("ChatAltIcon"),Q=i("PlusSmIcon"),z=i("PopoverButton"),J=i("PopoverPanel"),X=i("Popover"),ye=i("XIcon"),Y=i("Grid"),ge=i("ChevronUpIcon"),q=i("Markdown"),Z=i("ChevronDownIcon"),ve=i("AdjustmentsIcon"),pe=i("DetailsCustomFieldsEdit"),ee=i("DetailsCustomFields"),ke=i("Footer");return r(),l("div",ir,[a(f),e.isLayerReady?(r(),U(d,{key:0,db:e.db},null,8,["db"])):I("",!0),e.isLayerReady?(r(),U(b,{key:1,db:e.db},null,8,["db"])):I("",!0),e.isLayerReady?(r(),U(u,{key:2,db:e.db,"selected-references":e.selectedReferences,"show-without-reference":e.showWithoutReference,onToggleEmpty:o[0]||(o[0]=y=>e.toggleShowWithoutReference())},null,8,["db","selected-references","show-without-reference"])):I("",!0),e.isLayerReady?(r(),U(w,{key:3,db:e.db},null,8,["db"])):I("",!0),e.isLayerReady?(r(),U(m,{key:4,db:e.db},null,8,["db"])):I("",!0),e.isLayerReady?(r(),U(_,{key:5,db:e.db},null,8,["db"])):I("",!0),a(A,{db:e.db,"active-item":e.activeItem,version:e.actualJSONVersion,onSetDb:e.setDB,onSetLayerReady:e.setLayerReady,onSetActiveItem:e.setActiveItem},null,8,["db","active-item","version","onSetDb","onSetLayerReady","onSetActiveItem"]),t("div",cr,[t("div",dr,[e.isLayerReady?(r(),l("div",ur,[t("div",fr,[t("div",{onClick:o[1]||(o[1]=y=>e.toggleLayersMenu()),class:"rounded-lg h-8 w-8 flex items-center justify-center cursor-pointer text-gray-500 hover:bg-gray-200 hover:text-gray-900"},[a(V,{class:"w-5 h-5"})]),t("label",yr,[B(t("input",{"onUpdate:modelValue":o[2]||(o[2]=y=>e.searchQuery=y),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-purple-300 focus:ring focus:ring-purple-200 focus:ring-opacity-50",placeholder:"\u041F\u043E\u0438\u0441\u043A..."},null,512),[[j,e.searchQuery]])])]),t("div",gr,[t("div",vr,[e.board?(r(),U(S,{key:0,class:"w-5 h-5",onClick:o[3]||(o[3]=y=>e.toggleBoard())})):(r(),U(h,{key:1,class:"w-5 h-5",onClick:o[4]||(o[4]=y=>e.toggleBoard())}))]),t("div",{class:g([[e.heatmap?"bg-purple-50 text-purple-500 border border-purple-100":"bg-gray-50 text-gray-500"],"rounded-lg h-8 w-8 flex items-center justify-center cursor-pointer text-gray-500 hover:bg-gray-200 hover:text-gray-900"])},[a(N,{class:"w-5 h-5",onClick:o[5]||(o[5]=y=>e.toggleHeatmap())})],2),t("div",{class:g([[e.popper?"bg-purple-50 text-purple-500 border border-purple-100":"bg-gray-50 text-gray-500"],"rounded-lg h-8 w-8 flex items-center justify-center cursor-pointer text-gray-500 hover:bg-gray-200 hover:text-gray-900"])},[a(R,{class:"w-5 h-5",onClick:o[6]||(o[6]=y=>e.togglePopper())})],2),a(X,{class:"relative"},{default:v(({open:y})=>[a(z,{class:g([y?"":"opacity-90","rounded-lg bg-gray-50 h-8 w-8 flex items-center justify-center cursor-pointer text-gray-500 hover:bg-gray-200 hover:text-gray-900"])},{default:v(()=>[a(Q,{class:"w-5 h-5"})]),_:2},1032,["class"]),a(T,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"translate-y-1 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"translate-y-0 opacity-100","leave-to-class":"translate-y-1 opacity-0"},{default:v(()=>[a(J,{class:"absolute z-10 w-80 mt-1 transform -translate-x-full left-40 sm:px-0 lg:max-w-3xl"},{default:v(()=>[t("div",pr,[br,t("label",mr,[B(t("textarea",{class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm text-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",rows:"3","onUpdate:modelValue":o[7]||(o[7]=F=>e.newItem=F)},null,512),[[j,e.newItem]])]),t("button",{onClick:o[8]||(o[8]=(...F)=>e.addNewItem&&e.addNewItem(...F)),class:"bg-purple-600 text-white px-6 py-2 text-sm font-semibold rounded-lg"},"\u0421\u043E\u0437\u0434\u0430\u0442\u044C")])]),_:1})]),_:1})]),_:1})]),t("div",{class:g([[e.isLayersMenuVisible?"translate-x-0":"-translate-x-full"],"absolute inset-0 bg-gray-100 flex items-center px-12 transition-all overflow-hidden space-x-6"])},[t("div",{onClick:o[9]||(o[9]=y=>e.toggleLayersMenu()),class:"rounded-lg h-8 w-8 flex items-center justify-center cursor-pointer text-gray-500 hover:bg-gray-200 hover:text-gray-900"},[a(ye,{class:"w-5 h-5"})]),t("div",hr,[(r(!0),l(D,null,L(e.db.layers,y=>(r(),l("div",{key:y.id,class:g([[y.id===e.activeLayer.id?"border-purple-500":"border-transparent"],"border-b-2 cursor-pointer"]),onClick:F=>e.setActiveLayer(y)},x(y.name),11,_r))),128))])],2)])):I("",!0),e.isLayerReady?(r(),l("div",xr,[e.board?(r(),l("div",wr,[e.filterByGroup(0).length>0?(r(),U(Y,{key:0,items:e.filterByGroup(0),"active-item":e.activeItem,"get-field-by-id-fn":e.getFieldById,"get-reference-by-id-fn":e.getReferenceById,"set-active-item-fn":e.setActiveItem,class:"overflow-y-auto px-8"},null,8,["items","active-item","get-field-by-id-fn","get-reference-by-id-fn","set-active-item-fn"])):I("",!0),(r(!0),l(D,null,L(e.nonEmptyGroups,y=>(r(),U(Y,{key:y.id,header:y.name,items:e.filterByGroup(y.id),"active-item":e.activeItem,"get-field-by-id-fn":e.getFieldById,"get-reference-by-id-fn":e.getReferenceById,"set-active-item-fn":e.setActiveItem,class:"overflow-y-auto px-8"},null,8,["header","items","active-item","get-field-by-id-fn","get-reference-by-id-fn","set-active-item-fn"]))),128))])):(r(),l("div",Ir,[a(Y,{items:e.searchResults,"active-item":e.activeItem,"get-field-by-id-fn":e.getFieldById,"get-reference-by-id-fn":e.getReferenceById,"set-active-item-fn":e.setActiveItem},null,8,["items","active-item","get-field-by-id-fn","get-reference-by-id-fn","set-active-item-fn"])]))])):I("",!0)]),t("div",{class:g([[e.isWideDetails?"w-132":"w-96"],"bg-gray-50 overflow-y-auto shadow-lg border-l rounded-tl-lg p-4 relative transition"]),style:{height:"calc(100vh - 2.5rem)"}},[t("div",{onClick:o[10]||(o[10]=y=>e.isWideDetails=!e.isWideDetails),class:"absolute top-5 w-8 h-8 left-5 bg-gray-100 text-gray-500 hover:bg-gray-200 hover:text-gray-700 rounded-full flex items-center justify-center cursor-pointer"},[a(ge,{class:g(["h-5 w-5 transition-all",[e.isWideDetails?"rotate-90":"-rotate-90"]])},null,8,["class"])]),e.activeItem?(r(),l("div",{key:0,onClick:o[11]||(o[11]=y=>e.activeItem=void 0),class:"absolute top-5 w-8 h-8 right-5 bg-gray-100 text-gray-500 hover:bg-gray-200 hover:text-gray-700 rounded-full flex items-center justify-center cursor-pointer"},[a(ye,{class:"w-5 h-5"})])):I("",!0),e.activeItem?(r(),l("div",kr,[t("section",Fr,[t("div",{class:g(["font-bold",[e.isWideDetails?"text-xl":"text-base"]])},x(e.activeItem.name),3),(r(!0),l(D,null,L(e.activeItem.fields,y=>(r(),l("div",{key:y.id},[e.getFieldById(y.id).showInHeader&&y.value?(r(),l("div",Cr,[t("div",{class:g(["atom-prose font-semibold",e.isWideDetails?"text-3xl":"text-base"])},[a(q,{source:y.value},null,8,["source"])],2)])):I("",!0)]))),128))]),t("section",Pr,[t("div",Br,[t("div",Rr,[a(X,{class:"relative"},{default:v(({open:y})=>[a(z,{class:g([y?"":"text-opacity-90","w-full inline-flex items-center justify-between shadow px-3 py-3 text-base font-medium text-gray-900 bg-white rounded-md group hover:text-opacity-100 focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75"])},{default:v(()=>[t("div",Dr,[Lr,t("div",{class:g(["w-16 h-5 rounded border",e.activeItem.layers.find(F=>F.id===e.activeLayer.id).color])},null,2)]),a(Z,{class:g([y?"":"text-opacity-70","w-4 h-4 ml-2 text-gray-500 transition duration-150 ease-in-out group-hover:text-opacity-80"]),"aria-hidden":"true"},null,8,["class"])]),_:2},1032,["class"]),a(T,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"translate-y-1 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"translate-y-0 opacity-100","leave-to-class":"translate-y-1 opacity-0"},{default:v(()=>[a(J,{class:"absolute z-10 w-80 mt-1 transform -translate-x-1/2 left-40 sm:px-0 lg:max-w-3xl"},{default:v(()=>[t("div",Vr,[t("div",jr,[(r(!0),l(D,null,L(e.swatches,(F,be)=>(r(),l("div",{onClick:k=>e.activeItem.layers.find(C=>C.id===e.activeLayer.id).color=F,key:be,class:g(["rounded cursor-pointer",[e.activeItem.color===F?"ring-2 ring-offset-1 ring-black ring-opacity-30":"",F,"h-6"]])},null,10,Sr))),128))])])]),_:1})]),_:1})]),_:1})]),t("label",Ar,[B(t("input",{type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",placeholder:"Score","onUpdate:modelValue":o[12]||(o[12]=y=>e.activeItem.layers.find(F=>F.id===e.activeLayer.id).score=y)},null,512),[[j,e.activeItem.layers.find(y=>y.id===e.activeLayer.id).score]])])]),t("div",null,[t("label",Ur,[B(t("input",{type:"checkbox",class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-300 focus:ring focus:ring-offset-0 focus:ring-indigo-200 focus:ring-opacity-50","onUpdate:modelValue":o[13]||(o[13]=y=>e.activeItem.active=y)},null,512),[[H,e.activeItem.active]]),Nr])]),t("div",{onClick:o[14]||(o[14]=y=>e.isAdditionalFieldsVisible=!e.isAdditionalFieldsVisible),class:"bg-gray-100 h-5 rounded cursor-pointer hover:bg-gray-200 flex justify-center items-center"},[a(Z,{class:g([e.isAdditionalFieldsVisible?"rotate-180":"","h-4 w-4 text-gray-600"])},null,8,["class"])]),e.isAdditionalFieldsVisible?(r(),l("div",Or,[t("div",null,[t("label",Er,[Gr,B(t("input",{type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm text-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50","onUpdate:modelValue":o[15]||(o[15]=y=>e.activeItem.name=y)},null,512),[[j,e.activeItem.name]])])]),t("div",null,[a(X,{class:"relative"},{default:v(({open:y})=>[a(z,{class:g([y?"":"text-opacity-90","w-full inline-flex items-center justify-between shadow px-3 py-3 text-base font-medium text-gray-900 bg-white rounded-md group hover:text-opacity-100 focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75"])},{default:v(()=>[t("div",Xr,[zr,e.activeItem.groupId?(r(),l("div",Mr,x(e.getGroupById(e.activeItem.groupId).name),1)):(r(),l("div",Wr,"\u041D\u0435 \u0432\u044B\u0431\u0440\u0430\u043D\u0430"))]),a(Z,{class:g([y?"":"text-opacity-70","w-4 h-4 ml-2 text-gray-500 transition duration-150 ease-in-out group-hover:text-opacity-80"]),"aria-hidden":"true"},null,8,["class"])]),_:2},1032,["class"]),a(T,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"translate-y-1 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"translate-y-0 opacity-100","leave-to-class":"translate-y-1 opacity-0"},{default:v(()=>[a(J,{class:"absolute z-10 w-80 mt-1 transform -translate-x-1/2 left-40 sm:px-0 lg:max-w-3xl"},{default:v(()=>[t("div",Tr,[t("div",{onClick:o[16]||(o[16]=F=>e.activeItem.groupId=0),class:g([[e.activeItem.groupId===0?"font-bold":""],"px-2 py-1 text-sm hover:bg-gray-100 cursor-pointer rounded-lg line-clamp-1"])},"\u0411\u0435\u0437 \u0433\u0440\u0443\u043F\u043F\u044B",2),(r(!0),l(D,null,L(e.db.groups,F=>(r(),l("div",{key:F.id,class:g([[F.id===e.activeItem.groupId?"font-bold":""],"px-2 py-1 text-sm hover:bg-gray-100 cursor-pointer rounded-lg line-clamp-1"]),onClick:be=>e.activeItem.groupId=F.id},x(F.name),11,$r))),128))])]),_:1})]),_:1})]),_:1})]),t("div",Jr,[t("header",Hr,[e.db.referenceName?(r(),l("div",Qr,x(e.db.referenceName),1)):(r(),l("div",qr,"\u0421\u0432\u044F\u0437\u0438")),a(X,{class:"relative"},{default:v(({open:y})=>[a(z,{class:g([y?"":"opacity-90","rounded-lg bg-gray-50 h-8 w-8 flex items-center justify-center cursor-pointer text-gray-500 hover:bg-gray-200 hover:text-gray-900"])},{default:v(()=>[a(ve,{class:"w-5 h-5"})]),_:2},1032,["class"]),a(T,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"translate-y-1 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"translate-y-0 opacity-100","leave-to-class":"translate-y-1 opacity-0"},{default:v(()=>[a(J,{class:"absolute z-10 w-80 mt-1 transform -translate-x-full left-8 sm:px-0 lg:max-w-3xl"},{default:v(()=>[t("div",Kr,[t("div",Yr,[(r(!0),l(D,null,L(e.db.references,F=>(r(),l("div",{key:F.id},[t("label",Zr,[t("input",{type:"checkbox",class:"rounded border-gray-300 text-purple-600 shadow-sm focus:border-purple-300 focus:ring focus:ring-offset-0 focus:ring-purple-200 focus:ring-opacity-50",checked:e.activeItem.references.includes(F.id),onClick:be=>e.toggleReference(F.id)},null,8,el),t("span",tl,x(F.name),1)])]))),128))])])]),_:1})]),_:1})]),_:1})]),t("div",ol,[(r(!0),l(D,null,L(e.activeItem.references,y=>(r(),l("div",{key:y,class:"font-bold text-sm"},x(e.getReferenceById(y).name),1))),128))])]),t("div",null,[t("label",sl,[nl,B(t("textarea",{class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm text-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",rows:"6","onUpdate:modelValue":o[17]||(o[17]=y=>e.activeItem.layers.find(F=>F.id===e.activeLayer.id).note=y)},null,512),[[j,e.activeItem.layers.find(y=>y.id===e.activeLayer.id).note]])])]),a(pe,{fields:e.activeItem.fields,"get-field-by-id-fn":e.getFieldById},null,8,["fields","get-field-by-id-fn"]),t("div",rl,[t("button",{onClick:o[18]||(o[18]=y=>e.deleteItem()),class:"cursor-pointer w-full bg-red-50 border border-red-100 text-red-700 font-semibold text-xs py-2 flex justify-center rounded"},"\u0423\u0434\u0430\u043B\u0438\u0442\u044C")])])):I("",!0)]),t("section",{class:g([e.isWideDetails?"space-y-12 px-4":"space-y-6 px-0"])},[e.activeItem.references.length>0?(r(),l("div",{key:0,class:g([e.isWideDetails?"text-base space-y-4":"text-xs space-y-2"])},[e.db.referenceName?(r(),l("header",ll,x(e.db.referenceName),1)):(r(),l("header",al,"\u0421\u0432\u044F\u0437\u0438")),t("div",null,[(r(!0),l(D,null,L(e.activeItem.references,(y,F)=>(r(),l("span",{key:y},[Fe(x(e.getReferenceById(y).name),1),F<e.activeItem.references.length-1?(r(),l("span",il,", ")):I("",!0)]))),128))])],2)):I("",!0),a(ee,{fields:e.activeItem.fields,"is-wide":e.isWideDetails,"get-field-by-id-fn":e.getFieldById},null,8,["fields","is-wide","get-field-by-id-fn"])],2)])):(r(),l("div",cl,[e.isLayerReady?(r(),l("div",dl,[t("div",ul,x(e.db.model.name),1),t("div",fl,x(e.db.model.description),1),e.db.model.version?(r(),l("div",yl,"\u0412\u0435\u0440\u0441\u0438\u044F: "+x(e.db.model.version),1)):I("",!0)])):I("",!0)]))],2)]),a(ke,{db:e.db,"is-layer-ready":e.isLayerReady},null,8,["db","is-layer-ready"])])}var vl=O(ar,[["render",gl],["__scopeId","data-v-2981abe0"]]);const pl=mt(vl);pl.mount("#app");
