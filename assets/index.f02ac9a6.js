var Ke=Object.defineProperty,Ye=Object.defineProperties;var Ze=Object.getOwnPropertyDescriptors;var ge=Object.getOwnPropertySymbols;var Be=Object.prototype.hasOwnProperty,Re=Object.prototype.propertyIsEnumerable;var De=(n,o,s)=>o in n?Ke(n,o,{enumerable:!0,configurable:!0,writable:!0,value:s}):n[o]=s,Ve=(n,o)=>{for(var s in o||(o={}))Be.call(o,s)&&De(n,s,o[s]);if(ge)for(var s of ge(o))Re.call(o,s)&&De(n,s,o[s]);return n},Le=(n,o)=>Ye(n,Ze(o));var je=(n,o)=>{var s={};for(var e in n)Be.call(n,e)&&o.indexOf(e)<0&&(s[e]=n[e]);if(n!=null&&ge)for(var e of ge(n))o.indexOf(e)<0&&Re.call(n,e)&&(s[e]=n[e]);return s};import{r as R,c as et,o as r,a,b as t,t as x,d as I,n as f,F as V,e as L,f as Ie,g as tt,h as c,i as A,w as y,j as i,T as Se,k as H,l as Ue,m as Ae,p as Ne,q as Oe,s as Ee,u as Ge,v as Xe,x as ze,y as ot,M as We,z as ve,A as C,B as M,C as st,D as nt,E as rt,G as j,H as W,I as lt,J as pe,K as ee,L as be,N as me,O as _e,P as te,Q as oe,R as se,S as T,U as Te,V as at,W as $e,X as Je,Y as it,Z as ct,_ as dt,$ as ut,a0 as ft,a1 as yt,a2 as gt,a3 as vt}from"./vendor.45581207.js";const pt=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))e(d);new MutationObserver(d=>{for(const g of d)if(g.type==="childList")for(const u of g.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&e(u)}).observe(document,{childList:!0,subtree:!0});function s(d){const g={};return d.integrity&&(g.integrity=d.integrity),d.referrerpolicy&&(g.referrerPolicy=d.referrerpolicy),d.crossorigin==="use-credentials"?g.credentials="include":d.crossorigin==="anonymous"?g.credentials="omit":g.credentials="same-origin",g}function e(d){if(d.ep)return;d.ep=!0;const g=s(d);fetch(d.href,g)}};pt();const bt=(n,o=0,s=!1)=>{let e;return(...d)=>{s&&!e&&n(...d),clearTimeout(e),e=setTimeout(()=>{n(...d)},o)}},mt=(n,o,s)=>{const e=R(n);return et((g,u)=>({get(){return g(),e.value},set:bt(l=>{e.value=l,u()},o,s)}))},_t=n=>{n.value.version=1},ht=n=>{n.value.version=2,n.value.fields.forEach(o=>{o.showInHeader=!1})},xt=n=>{n.value.version=3,n.value.fields.forEach(o=>{o.type="text"})},wt=n=>{n.value.version=4,n.value.layers=[{id:1,name:"Layer 1"}],n.value.items.forEach(o=>{o.layers=[{id:1,color:o.color,score:o.score,note:o.note}],delete o.color,delete o.score,delete o.note})},It=n=>{n.value.version=5,n.value.items.forEach(o=>{o.active=!0})},kt=(n,o)=>{n.value.hasOwnProperty("version")||_t(n),n.value.version===1&&o>1&&ht(n),n.value.version===2&&o>2&&xt(n),n.value.version===3&&o>3&&wt(n),n.value.version===4&&o>4&&It(n)},Ft=()=>({convert:kt}),He=R(void 0),ke=()=>({activeLayer:He,setActiveLayer:o=>{He.value=o}}),Fe=R(!1),Me=()=>({popper:Fe,togglePopper:()=>{Fe.value=!Fe.value}}),Ce=R(!1),Ct=()=>({board:Ce,toggleBoard:()=>{Ce.value=!Ce.value}}),Pe=R(!1),Qe=()=>({heatmap:Pe,toggleHeatmap:()=>{Pe.value=!Pe.value}}),Pt=["bg-gray-100","bg-gray-200","bg-gray-300","bg-gray-400","bg-gray-500","bg-gray-600","bg-gray-700","bg-gray-800","bg-gray-900","bg-yellow-100","bg-yellow-200","bg-yellow-300","bg-yellow-400","bg-yellow-500","bg-yellow-600","bg-yellow-700","bg-yellow-800","bg-yellow-900","bg-green-100","bg-green-200","bg-green-300","bg-green-400","bg-green-500","bg-green-600","bg-green-700","bg-green-800","bg-green-900","bg-blue-100","bg-blue-200","bg-blue-300","bg-blue-400","bg-blue-500","bg-blue-600","bg-blue-700","bg-blue-800","bg-blue-900","bg-pink-100","bg-pink-200","bg-pink-300","bg-pink-400","bg-pink-500","bg-pink-600","bg-pink-700","bg-pink-800","bg-pink-900","bg-red-100","bg-red-200","bg-red-300","bg-red-400","bg-red-500","bg-red-600","bg-red-700","bg-red-800","bg-red-900","bg-purple-100","bg-purple-200","bg-purple-300","bg-purple-400","bg-purple-500","bg-purple-600","bg-purple-700","bg-purple-800","bg-purple-900"];var E=(n,o)=>{for(const[s,e]of o)n[s]=e;return n};const Bt={props:{item:{type:Object,default:()=>({})},activeItem:{type:Object},heatmap:{type:Boolean,default:!1},getFieldByIdFn:{type:Function},getReferenceByIdFn:{type:Function}},emits:["set-active-item"],setup(n,{emit:o}){const{activeLayer:s}=ke();return{activeLayer:s,setActiveItem:()=>{o("set-active-item",n.item.id)}}}},Rt={key:0,class:"font-bold text-xs line-clamp-1"},Dt={key:0,class:"flex-1"},Vt={class:"font-bold text-xs line-clamp-1"},Lt={key:0},jt={key:0,class:"text-xs text-gray-500 line-clamp-1"},St={key:0};function Ut(n,o,s,e,d,g){return r(),a("div",{onClick:o[0]||(o[0]=u=>e.setActiveItem()),class:f([[s.activeItem&&s.activeItem.id===s.item.id?"ring-2 ring-offset-1 ring-purple-500 ring-opacity-40 bg-purple-50":"",s.item.active?"opacity-100":"opacity-20"],"flex items-center space-x-2 cursor-pointer hover:bg-gray-50 rounded p-2 select-none"])},[t("div",{class:f(["h-12 w-12 rounded border flex items-center px-2",[s.item.layers.find(u=>u.id===e.activeLayer.id).color,s.heatmap?"h-12 flex-1":"h-12 w-12 flex-shrink-0 "]])},[s.heatmap?(r(),a("div",Rt,x(s.item.name),1)):I("",!0)],2),s.heatmap?I("",!0):(r(),a("div",Dt,[t("div",Vt,x(s.item.name),1),(r(!0),a(V,null,L(s.item.fields,u=>(r(),a("div",{class:"text-xs text-gray-500 line-clamp-1",key:u.id},[s.getFieldByIdFn(u.id).showInGrid?(r(),a("div",Lt,x(u.value),1)):I("",!0)]))),128)),s.item.references.length>0?(r(),a("div",jt,[(r(!0),a(V,null,L(s.item.references,(u,l)=>(r(),a("span",{key:u},[Ie(x(s.getReferenceByIdFn(u).name),1),l<s.item.references.length-1?(r(),a("span",St,", ")):I("",!0)]))),128))])):I("",!0)]))],2)}var At=E(Bt,[["render",Ut]]);const Nt={components:{Popper:tt,Item:At},props:{items:{type:Array,default:()=>[]},activeItem:{type:Object},header:{type:String,default:""},getFieldByIdFn:{type:Function},getReferenceByIdFn:{type:Function},setActiveItemFn:{type:Function}},setup(n){const{popper:o}=Me(),{heatmap:s}=Qe();return{popper:o,heatmap:s}}},Ot={class:"space-y-2"},Et={class:"font-bold"},Gt={key:0};function Xt(n,o,s,e,d,g){const u=c("Item"),l=c("Popper");return r(),a("div",null,[s.header?(r(),a("header",{key:0,class:f(["font-bold px-4",[e.heatmap?"py-0 px-6 text-sm":"py-6"]])},x(s.header),3)):I("",!0),e.popper?(r(),A(Se,{key:1,name:"flip-list",tag:"div",class:f(["px-2 grid",[e.heatmap?"grid-cols-6 lg:grid-cols-7 xl:grid-cols-10 pb-4":"gris-cols-1 md:grid-cols-3 lg:grid-cols-3 xl:grid-cols-3 2xl:grid-cols-4 3xl:grid-cols-5 gap-4 pb-12"]])},{default:y(()=>[(r(!0),a(V,null,L(s.items,v=>(r(),A(l,{hover:"",arrow:"",placement:"bottom",key:v.id},{content:y(()=>[t("div",Ot,[t("div",Et,x(v.name),1),v.note?(r(),a("div",Gt,x(v.note),1)):I("",!0)])]),default:y(()=>[i(u,{item:v,activeItem:s.activeItem,heatmap:e.heatmap,"get-field-by-id-fn":s.getFieldByIdFn,"get-reference-by-id-fn":s.getReferenceByIdFn,onSetActiveItem:s.setActiveItemFn},null,8,["item","activeItem","heatmap","get-field-by-id-fn","get-reference-by-id-fn","onSetActiveItem"])]),_:2},1024))),128))]),_:1},8,["class"])):(r(),A(Se,{key:2,name:"flip-list",tag:"div",class:f(["px-2 grid",[e.heatmap?"grid-cols-6 lg:grid-cols-7 xl:grid-cols-10 pb-4":"gris-cols-1 md:grid-cols-3 lg:grid-cols-3 xl:grid-cols-3 2xl:grid-cols-4 3xl:grid-cols-5 gap-4 pb-12"]])},{default:y(()=>[(r(!0),a(V,null,L(s.items,v=>(r(),A(u,{key:v.id,item:v,activeItem:s.activeItem,heatmap:e.heatmap,"get-field-by-id-fn":s.getFieldByIdFn,"get-reference-by-id-fn":s.getReferenceByIdFn,onSetActiveItem:s.setActiveItemFn},null,8,["item","activeItem","heatmap","get-field-by-id-fn","get-reference-by-id-fn","onSetActiveItem"]))),128))]),_:1},8,["class"]))])}var zt=E(Nt,[["render",Xt]]);const ne=R(!1),re=R(!1),le=R(!1),ae=R(!1),ie=R(!1),ce=R(!1),de=R(!1),ue=R(!1),Wt=[ne,re,le,ae,ie,ce,de,ue];function $(){const n=()=>{Wt.forEach(d=>d.value=!1)},o=d=>{switch(n(),d){case"about":ne.value=!0;break;case"desc":re.value=!0;break;case"layers":le.value=!0;break;case"filters":ae.value=!0;break;case"references":ie.value=!0;break;case"groups":ce.value=!0;break;case"fields":de.value=!0;break;case"load":ue.value=!0;break}},s=d=>{switch(d){case"about":ne.value=!1;break;case"desc":re.value=!1;break;case"layers":le.value=!1;break;case"filters":ae.value=!1;break;case"references":ie.value=!1;break;case"groups":ce.value=!1;break;case"fields":de.value=!1;break;case"load":ue.value=!1;break}};return{showFlyover:o,hideFlyover:s,toggleFlyover:d=>{switch(d){case"about":ne.value?s(d):o(d);break;case"desc":re.value?s(d):o(d);break;case"layers":le.value?s(d):o(d);break;case"filters":ae.value?s(d):o(d);break;case"references":ie.value?s(d):o(d);break;case"groups":ce.value?s(d):o(d);break;case"fields":de.value?s(d):o(d);break;case"load":ue.value?s(d):o(d);break}},about:H(ne),desc:H(re),layers:H(le),filters:H(ae),references:H(ie),groups:H(ce),fields:H(de),load:H(ue)}}const Tt={components:{StatusOnlineIcon:Ue,CollectionIcon:Ae,FilterIcon:Ne,LinkIcon:Oe,ViewGridAddIcon:Ee,DuplicateIcon:Ge,UploadIcon:Xe,DownloadIcon:ze},props:{db:{type:Object,default:()=>({})},isLayerReady:{type:Boolean,default:!1}},setup(n){const{toggleFlyover:o,about:s,desc:e,layers:d,filters:g,references:u,groups:l,fields:v,load:b}=$();return{toggleFlyover:o,about:s,desc:e,layers:d,filters:g,references:u,groups:l,fields:v,load:b,saveJSON:()=>{if(n.db&&Object.keys(n.db).length!==0){let m=new Blob([JSON.stringify(n.db)],{type:"application/json;charset=utf-8"});ot.exports.saveAs(m,"atoms.json")}}}}},$t={class:"z-50 h-10 bg-gray-50 border-t flex items-center justify-between text-xs px-4"},Jt=t("span",{class:"font-bold"},"ATOM",-1),Ht=Ie(" \xB7 Sinfores SX"),Mt=[Jt,Ht],Qt={class:"flex items-center space-x-2 border-b-2 border-transparent"},qt=t("div",{class:"hidden xl:block"},"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435",-1),Kt=t("div",{class:"hidden xl:block"},"\u0421\u043B\u043E\u0438",-1),Yt=t("div",{class:"hidden xl:block"},"\u0424\u0438\u043B\u044C\u0442\u0440\u044B",-1),Zt={key:0,class:"hidden xl:block"},eo={key:1,class:"hidden xl:block"},to=t("div",{class:"hidden xl:block"},"\u0413\u0440\u0443\u043F\u043F\u044B",-1),oo=t("div",{class:"hidden xl:block"},"\u041F\u043E\u043B\u044F",-1),so=t("div",{class:"hidden xl:block"},"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C",-1),no=t("div",{class:"hidden xl:block"},"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C",-1);function ro(n,o,s,e,d,g){const u=c("StatusOnlineIcon"),l=c("CollectionIcon"),v=c("FilterIcon"),b=c("LinkIcon"),w=c("ViewGridAddIcon"),m=c("DuplicateIcon"),_=c("UploadIcon"),U=c("DownloadIcon");return r(),a("div",$t,[t("div",{onClick:o[0]||(o[0]=P=>e.toggleFlyover("about")),class:"cursor-pointer select-none"},Mt),t("div",Qt,[s.isLayerReady?(r(),a("div",{key:0,onClick:o[1]||(o[1]=P=>e.toggleFlyover("desc")),class:f([[e.desc?"border-purple-500":"border-transparent"],"border-t-2 border-transparent h-10 px-4 hover:bg-gray-200 cursor-pointer select-none font-semibold flex items-center space-x-2"]),type:"button"},[i(u,{class:"w-5 h-5","aria-hidden":"true"}),qt],2)):I("",!0),s.isLayerReady?(r(),a("div",{key:1,onClick:o[2]||(o[2]=P=>e.toggleFlyover("layers")),class:f([[e.layers?"border-purple-500":"border-transparent"],"border-t-2 border-transparent h-10 px-4 hover:bg-gray-200 cursor-pointer select-none font-semibold flex items-center space-x-2"]),type:"button"},[i(l,{class:"w-5 h-5","aria-hidden":"true"}),Kt],2)):I("",!0),s.isLayerReady?(r(),a("div",{key:2,onClick:o[3]||(o[3]=P=>e.toggleFlyover("filters")),class:f([[e.filters?"border-purple-500":"border-transparent"],"border-t-2 border-transparent h-10 px-4 hover:bg-gray-200 cursor-pointer select-none font-semibold flex items-center space-x-2"]),type:"button"},[i(v,{class:"w-5 h-5","aria-hidden":"true"}),Yt],2)):I("",!0),s.isLayerReady?(r(),a("div",{key:3,onClick:o[4]||(o[4]=P=>e.toggleFlyover("references")),class:f([[e.references?"border-purple-500":"border-transparent"],"border-t-2 border-transparent h-10 px-4 hover:bg-gray-200 cursor-pointer select-none font-semibold flex items-center space-x-2"]),type:"button"},[i(b,{class:"w-5 h-5","aria-hidden":"true"}),s.db.referenceName?(r(),a("div",Zt,x(s.db.referenceName),1)):(r(),a("div",eo,"\u0421\u0432\u044F\u0437\u0438"))],2)):I("",!0),s.isLayerReady?(r(),a("div",{key:4,onClick:o[5]||(o[5]=P=>e.toggleFlyover("groups")),class:f([[e.groups?"border-purple-500":"border-transparent"],"border-t-2 border-transparent h-10 px-4 hover:bg-gray-200 cursor-pointer select-none font-semibold flex items-center space-x-2"]),type:"button"},[i(w,{class:"w-5 h-5","aria-hidden":"true"}),to],2)):I("",!0),s.isLayerReady?(r(),a("div",{key:5,onClick:o[6]||(o[6]=P=>e.toggleFlyover("fields")),class:f([[e.fields?"border-purple-500":"border-transparent"],"border-t-2 border-transparent h-10 px-4 hover:bg-gray-200 cursor-pointer select-none font-semibold flex items-center space-x-2"]),type:"button"},[i(m,{class:"w-5 h-5","aria-hidden":"true"}),oo],2)):I("",!0),t("div",{onClick:o[7]||(o[7]=P=>e.toggleFlyover("load")),class:f([[e.load?"border-purple-500":"border-transparent"],"border-t-2 h-10 px-4 hover:bg-gray-200 cursor-pointer select-none font-semibold flex items-center space-x-2 select-none"]),type:"button"},[i(_,{class:"w-5 h-5","aria-hidden":"true"}),so],2),s.isLayerReady?(r(),a("div",{key:6,onClick:o[8]||(o[8]=P=>e.saveJSON()),class:"border-t-2 border-transparent h-10 px-4 hover:bg-gray-200 cursor-pointer select-none font-semibold flex items-center space-x-2",type:"button"},[i(U,{class:"w-5 h-5","aria-hidden":"true"}),no])):I("",!0)])])}var lo=E(Tt,[["render",ro]]);const ao={components:{Markdown:We},props:{fields:{type:Array,default:()=>[]},getFieldByIdFn:{type:Function},isWide:{type:Boolean,default:!1}},setup(n){const o=[{plugin:st},{plugin:nt},{plugin:rt}],s=ve(()=>n.fields.filter(e=>(n.getFieldByIdFn(e.id).type!=="bool"&&e.value||n.getFieldByIdFn(e.id).type==="bool")&&n.getFieldByIdFn(e.id).showInDetals));return{mdPlugins:o,visibleNonEmptyFields:s}}},io={key:0},co={class:"inline-flex items-center"},uo=["onUpdate:modelValue"],fo={class:"ml-2"},yo={class:"uppercase font-bold text-gray-500"},go={class:"atom-prose"};function vo(n,o,s,e,d,g){const u=c("Markdown");return r(!0),a(V,null,L(e.visibleNonEmptyFields,l=>(r(),a("section",{key:l.id,class:f([s.isWide?"text-base":"text-xs"])},[s.getFieldByIdFn(l.id).type==="bool"?(r(),a("div",io,[t("label",co,[C(t("input",{type:"checkbox",class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-300 focus:ring focus:ring-offset-0 focus:ring-indigo-200 focus:ring-opacity-50","onUpdate:modelValue":v=>l.value=v,disabled:""},null,8,uo),[[M,l.value]]),t("span",fo,x(s.getFieldByIdFn(l.id).name),1)])])):(r(),a("div",{key:1,class:f([s.isWide?"space-y-4":"space-y-2"])},[t("header",yo,x(s.getFieldByIdFn(l.id).name),1),t("div",go,[i(u,{source:l.value,plugins:e.mdPlugins,linkify:!0},null,8,["source","plugins"])])],2))],2))),128)}var po=E(ao,[["render",vo]]);const bo={props:{fields:{type:Array,default:()=>[]},getFieldByIdFn:{type:Function}},setup(n){}},mo={key:0,class:"block"},_o={class:"text-gray-700 text-xs"},ho=["onUpdate:modelValue"],xo={key:1,class:"flex items-center py-2"},wo=["onUpdate:modelValue"],Io={class:"ml-2"};function ko(n,o,s,e,d,g){return r(!0),a(V,null,L(s.fields,u=>(r(),a("div",{key:u.id},[s.getFieldByIdFn(u.id).type==="text"?(r(),a("label",mo,[t("span",_o,x(s.getFieldByIdFn(u.id).name),1),C(t("textarea",{class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm text-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",rows:"2","onUpdate:modelValue":l=>u.value=l},null,8,ho),[[j,u.value]])])):I("",!0),s.getFieldByIdFn(u.id).type==="bool"?(r(),a("label",xo,[C(t("input",{type:"checkbox",class:"rounded border-gray-300 text-purple-600 shadow-sm focus:border-purple-300 focus:ring focus:ring-offset-0 focus:ring-purple-200 focus:ring-opacity-50","onUpdate:modelValue":l=>u.value=l},null,8,wo),[[M,u.value]]),t("span",Io,x(s.getFieldByIdFn(u.id).name),1)])):I("",!0)]))),128)}var Fo=E(bo,[["render",ko]]);const Co={components:{XIcon:W},setup(){const{hideFlyover:n,about:o}=$();return{hideFlyover:n,about:o}}},Po={class:"h-16 bg-white flex items-center justify-between px-4 space-x-2"},Bo=t("div",{class:"flex-1 font-bold"},"ATOM",-1),Ro=lt('<div class="flex-1 bg-white overflow-auto px-4 space-y-4 text-sm"><p class="text-xs">\u041F\u043E\u043B\u0435\u0437\u043D\u0430\u044F \u0448\u0442\u0443\u043A\u0430, \u0447\u0442\u043E\u0431\u044B \u043E\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043B\u044F\u0442\u044C \u0434\u0435\u043A\u043E\u043C\u043F\u043E\u0437\u0438\u0446\u0438\u044E \u0441\u043B\u043E\u0436\u043D\u044B\u0445 \u043F\u0440\u043E\u0446\u0435\u0441\u0441\u043E\u0432, \u0441\u0442\u0440\u0443\u043A\u0442\u0443\u0440\u0438\u0440\u043E\u0432\u0430\u043D\u043E \u0445\u0440\u0430\u043D\u0438\u0442\u044C \u0438\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044E \u0438 \u0442.\u0434.</p><p class="text-xs">\u0420\u0435\u0430\u043B\u0438\u0437\u043E\u0432\u0430\u043D\u043E \u0432 \u0440\u0430\u043C\u043A\u0430\u0445 \u0438\u043D\u0438\u0446\u0438\u0430\u0442\u0438\u0432\u044B Security Expirience (SX) \u043A\u043E\u043C\u043F\u0430\u043D\u0438\u0438 Sinfores Group. \u0418\u043D\u0438\u0446\u0438\u0430\u0442\u0438\u0432\u0430 \u043D\u0430\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0430 \u043D\u0430 \u043E\u0431\u043B\u0435\u0433\u0447\u0435\u043D\u0438\u0435 \u0442\u0440\u0443\u0434\u0430 \u0440\u044F\u0434\u043E\u0432\u044B\u0445 \u0441\u043F\u0435\u0446\u0438\u0430\u043B\u0438\u0441\u0442\u043E\u0432 \u043F\u043E \u043A\u0438\u0431\u0435\u0440\u0431\u0435\u0437\u043E\u043F\u0430\u0441\u043D\u043E\u0441\u0442\u0438. \u0412 \u0440\u0430\u043C\u043A\u0430\u0445 \u0438\u043D\u0438\u0446\u0438\u0430\u0442\u0438\u0432\u044B \u043C\u044B \u043E\u0442\u043A\u0440\u044B\u0432\u0430\u0435\u043C \u0434\u043E\u0441\u0442\u0443\u043F \u043A \u0441\u0432\u043E\u0438\u043C \u0438\u043D\u0441\u0442\u0440\u0443\u043C\u0435\u043D\u0442\u0430\u043C, \u043A\u043E\u0442\u043E\u0440\u044B\u0435 \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u044E\u0442\u0441\u044F \u0432 \u043F\u0440\u043E\u0435\u043A\u0442\u043D\u043E\u0439 \u0440\u0430\u0431\u043E\u0442\u0435.</p><div class="bg-red-100 p-4 rounded border border-red-200 text-red-900 space-y-2 text-xs"><header class="font-bold uppercase">\u0412\u0430\u0436\u043D\u043E</header><p>\u0412\u0441\u044F \u0440\u0430\u0431\u043E\u0442\u0430 \u0441 \u0434\u0430\u043D\u043D\u044B\u043C\u0438 \u043E\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043B\u044F\u0435\u0442\u0441\u044F \u0438\u0441\u043A\u043B\u044E\u0447\u0438\u0442\u0435\u043B\u044C\u043D\u043E \u043D\u0430 \u0412\u0430\u0448\u0435\u043C \u043A\u043E\u043C\u043F\u044C\u044E\u0442\u0435\u0440\u0435. \u041E\u043D\u0438 \u043D\u0438\u043A\u0443\u0434\u0430 \u043D\u0435 \u043F\u0435\u0440\u0435\u0434\u0430\u044E\u0442\u0441\u044F \u0438 \u0434\u0430\u0436\u0435 \u043D\u0438\u043A\u0430\u043A\u0438\u0435 cookies-\u0444\u0430\u0439\u043B\u044B \u043D\u0435 \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u0443\u044E\u0442\u0441\u044F. \u041F\u043E\u044D\u0442\u043E\u043C\u0443 \u043D\u0435 \u0437\u0430\u0431\u044B\u0432\u0430\u0439\u0442\u0435 \u043F\u0435\u0440\u0438\u043E\u0434\u0438\u0447\u0435\u0441\u043A\u0438 \u0441\u043E\u0445\u0440\u0430\u043D\u044F\u0442\u044C \u0412\u0430\u0448\u0438 \u043C\u043E\u0434\u0435\u043B\u0438, \u0442\u0430\u043A \u043A\u0430\u043A \u043C\u044B \u0438\u0445 \u0432\u043E\u0441\u0441\u0442\u0430\u043D\u043E\u0432\u0438\u0442\u044C \u043D\u0435 \u0441\u043C\u043E\u0436\u0435\u043C.</p></div></div>',1);function Do(n,o,s,e,d,g){const u=c("XIcon");return r(),a("div",{class:f([e.about?"translate-y-0":"translate-y-full","z-40 transition absolute bottom-9 left-2 w-96 h-large overflow-hidden flex flex-col border shadow-xl border-t-2 border-t-purple-500"])},[t("div",Po,[Bo,t("div",null,[t("div",{class:"hover:bg-gray-100 cursor-pointer rounded-full h-6 w-6 flex items-center justify-center",onClick:o[0]||(o[0]=l=>e.hideFlyover("about"))},[i(u,{class:"h-4 w-4 text-gray-400"})])])]),Ro],2)}var Vo=E(Co,[["render",Do]]);const Lo={components:{XIcon:W},props:{db:{type:Object}},setup(){const{hideFlyover:n,desc:o}=$();return{hideFlyover:n,desc:o}}},jo={class:"h-16 bg-white flex items-center justify-between px-4 space-x-2"},So=t("div",{class:"flex-1 font-bold"},"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435",-1),Uo={class:"flex-1 bg-white overflow-auto px-4 space-y-4 text-sm"},Ao={class:"space-y-2"},No={class:"block"},Oo=t("span",{class:"text-gray-700"},"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435",-1),Eo={class:"block"},Go=t("span",{class:"text-gray-700"},"\u0412\u0435\u0440\u0441\u0438\u044F",-1),Xo={class:"block"},zo=t("span",{class:"text-gray-700"},"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435",-1),Wo={class:"space-y-1"},To={class:"text-xs"},$o={class:"text-xs"};function Jo(n,o,s,e,d,g){const u=c("XIcon");return r(),a("div",{class:f([e.desc?"translate-y-0":"translate-y-full","z-40 transition absolute bottom-9 right-120 w-96 h-96 overflow-hidden flex flex-col border shadow-xl border-t-2 border-t-purple-500"])},[t("div",jo,[So,t("div",null,[t("div",{class:"hover:bg-gray-100 cursor-pointer rounded-full h-6 w-6 flex items-center justify-center",onClick:o[0]||(o[0]=l=>e.hideFlyover("desc"))},[i(u,{class:"h-4 w-4 text-gray-400"})])])]),t("div",Uo,[t("div",Ao,[t("label",No,[Oo,C(t("input",{"onUpdate:modelValue":o[1]||(o[1]=l=>s.db.model.name=l),type:"text",class:"text-sm mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",placeholder:"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435"},null,512),[[j,s.db.model.name]])]),t("label",Eo,[Go,C(t("input",{"onUpdate:modelValue":o[2]||(o[2]=l=>s.db.model.version=l),type:"text",class:"text-sm mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",placeholder:"\u0412\u0435\u0440\u0441\u0438\u044F"},null,512),[[j,s.db.model.version]])]),t("label",Xo,[zo,C(t("textarea",{"onUpdate:modelValue":o[3]||(o[3]=l=>s.db.model.description=l),class:"text-sm mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",rows:"3"},null,512),[[j,s.db.model.description]])])]),t("div",Wo,[t("p",To,"\u0410\u0442\u043E\u043C\u043E\u0432: "+x(s.db.items.length)+" (\u0430\u043A\u0442\u0438\u0432\u043D\u044B\u0445 "+x(s.db.items.filter(l=>l.active).length)+"), \u0441\u0432\u044F\u0437\u0435\u0439: "+x(s.db.references.length)+", \u0433\u0440\u0443\u043F\u043F: "+x(s.db.groups.length),1),t("p",$o,"\u0412\u0435\u0440\u0441\u0438\u044F \u0441\u0445\u0435\u043C\u044B: v."+x(s.db.version),1)])])],2)}var Ho=E(Lo,[["render",Jo]]);const Mo={components:{XIcon:W,ChevronUpIcon:pe,PlusSmIcon:ee,Disclosure:be,DisclosureButton:me,DisclosurePanel:_e,Popover:te,PopoverButton:oe,PopoverPanel:se},props:{db:{type:Object,default:()=>({})}},setup(n){const{hideFlyover:o,layers:s}=$(),{activeLayer:e,setActiveLayer:d}=ke(),g=R("");return{hideFlyover:o,layers:s,activeLayer:e,setActiveLayer:d,newLayer:g,add:()=>{if(g.value){let v=0;n.db.layers.forEach(b=>{b.id>v&&(v=b.id)}),n.db.layers.push({id:v+1,name:g.value}),n.db.items.forEach(b=>{b.layers.push({id:v+1,color:"bg-gray-100",score:0})}),g.value=""}},remove:v=>{if(n.db.layers.length<1)return;d(n.db.layers[0]),n.db.items.forEach(w=>{const m=w.layers.findIndex(_=>_.id===v.id);m>-1&&w.layers.splice(m,1)});const b=n.db.layers.findIndex(w=>w.id===v.id);b>-1&&n.db.layers.splice(b,1)}}}},Qo={class:"h-16 bg-white flex items-center justify-between px-4 space-x-2"},qo=t("div",{class:"flex-1 font-bold"},"\u0421\u043B\u043E\u0438",-1),Ko={class:"flex-1 bg-white overflow-auto px-4 pb-32 text-sm"},Yo={class:"bg-white overflow-hidden rounded shadow-lg ring-1 ring-black ring-opacity-5 p-4 space-y-4"},Zo=t("p",{class:"text-xs text-gray-600"},"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u043D\u043E\u0432\u043E\u0433\u043E \u0441\u043B\u043E\u044F",-1),es={class:"block"},ts=["onClick"],os={class:"w-full flex justify-between items-center space-x-4"},ss={class:"line-clamp-1"},ns={class:"block"},rs=["onUpdate:modelValue"],ls={class:"flex items-center space-x-2"},as=["onClick"],is=["onClick"];function cs(n,o,s,e,d,g){const u=c("XIcon"),l=c("PlusSmIcon"),v=c("PopoverButton"),b=c("PopoverPanel"),w=c("Popover"),m=c("ChevronUpIcon"),_=c("DisclosureButton"),U=c("DisclosurePanel"),P=c("Disclosure");return r(),a("div",{class:f([e.layers?"translate-y-0":"translate-y-full","z-40 transition absolute bottom-9 right-112 w-96 h-large overflow-hidden flex flex-col border shadow-xl border-t-2 border-t-purple-500"])},[t("div",Qo,[qo,t("div",null,[t("div",{class:"hover:bg-gray-100 cursor-pointer rounded-full h-6 w-6 flex items-center justify-center",onClick:o[0]||(o[0]=S=>e.hideFlyover("layers"))},[i(u,{class:"h-4 w-4 text-gray-400"})])])]),t("div",Ko,[i(w,{class:"relative mb-4"},{default:y(({open:S})=>[i(v,{class:f([S?"":"opacity-90","rounded-full bg-gray-50 h-8 w-8 flex items-center justify-center cursor-pointer text-gray-500 hover:bg-gray-200 hover:text-gray-900"])},{default:y(()=>[i(l,{class:"w-5 h-5"})]),_:2},1032,["class"]),i(T,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"translate-y-1 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"translate-y-0 opacity-100","leave-to-class":"translate-y-1 opacity-0"},{default:y(()=>[i(b,{class:"absolute z-10 w-80 mt-1 transform -translate-x-1/2 left-40 sm:px-0 lg:max-w-3xl"},{default:y(({close:k})=>[t("div",Yo,[Zo,t("label",es,[C(t("textarea",{class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm text-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",rows:"3","onUpdate:modelValue":o[1]||(o[1]=N=>e.newLayer=N)},null,512),[[j,e.newLayer]])]),t("button",{onClick:N=>{e.add(),k()},class:"bg-purple-600 text-white px-6 py-2 text-sm font-semibold rounded-lg"},"\u0421\u043E\u0437\u0434\u0430\u0442\u044C",8,ts)])]),_:1})]),_:1})]),_:1}),(r(!0),a(V,null,L(s.db.layers,S=>(r(),a("div",{class:f(["border-t last:border-b px-2",[e.activeLayer.id===S.id?"bg-purple-50":""]]),key:S.id},[i(P,null,{default:y(({open:k})=>[i(_,{class:"py-2 w-full"},{default:y(()=>[t("div",os,[t("div",{class:f([e.activeLayer.id===S.id?"font-semibold":""])},[t("div",ss,x(S.name),1)],2),i(m,{class:f([k?"transform rotate-180":"","w-5 h-5 text-purple-500"])},null,8,["class"])])]),_:2},1024),i(U,{class:"text-gray-500 pb-4"},{default:y(()=>[t("label",ns,[C(t("input",{type:"text",class:"text-sm mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50","onUpdate:modelValue":N=>S.name=N},null,8,rs),[[j,S.name]])]),t("div",ls,[t("button",{onClick:N=>e.setActiveLayer(S),class:"my-2 bg-purple-500 rounded text-purple-50 py-2 px-4 cursor-pointer hover:bg-purple-600 hover:text-white transition text-xs font-semibold"},"\u0421\u0434\u0435\u043B\u0430\u0442\u044C \u0430\u043A\u0442\u0438\u0432\u043D\u044B\u043C",8,as),s.db.layers.length>1?(r(),a("button",{key:0,onClick:N=>e.remove(S),class:"my-2 bg-white border border-red-100 rounded text-red-500 py-2 px-4 cursor-pointer hover:bg-red-50 hover:text-red-700 transition text-xs font-semibold"},"\u0423\u0434\u0430\u043B\u0438\u0442\u044C",8,is)):I("",!0)])]),_:2},1024)]),_:2},1024)],2))),128))])],2)}var ds=E(Mo,[["render",cs]]);const us={components:{XIcon:W,ChevronUpIcon:pe,Disclosure:be,DisclosureButton:me,DisclosurePanel:_e},props:{db:{type:Object},selectedReferences:{type:Object},showWithoutReference:{type:Boolean,default:!0}},emits:["toggle-empty"],setup(n,{emit:o}){const{hideFlyover:s,filters:e}=$();return(()=>{n.db.references.forEach(l=>{n.selectedReferences.push(l.id)})})(),{filters:e,hideFlyover:s,toggleReference:(l,v)=>{const b=n.selectedReferences.findIndex(w=>w===l);b>-1?n.selectedReferences.splice(b,1):n.selectedReferences.push(l)},toggleEmpty:()=>{o("toggle-empty")}}}},fs={class:"h-16 bg-white flex items-center justify-between px-4 space-x-2"},ys=t("div",{class:"flex-1 font-bold"},"\u0424\u0438\u043B\u044C\u0442\u0440\u044B",-1),gs={class:"flex-1 bg-white overflow-auto px-4 pb-32 space-y-4 text-sm"},vs={class:"border-t border-b px-2"},ps={class:"w-full flex justify-between items-center space-x-4"},bs={class:"font-semibold"},ms={key:0,class:"line-clamp-1"},_s={key:1},hs={class:"inline-flex items-center"},xs=["checked"],ws=t("span",{class:"ml-2"},"\u041F\u043E\u043A\u0430\u0437\u044B\u0432\u0430\u0442\u044C \u0431\u0435\u0437 \u0441\u0432\u044F\u0437\u0435\u0439",-1),Is={class:"inline-flex items-center"},ks=["onClick","checked"],Fs={class:"ml-2"};function Cs(n,o,s,e,d,g){const u=c("XIcon"),l=c("ChevronUpIcon"),v=c("DisclosureButton"),b=c("DisclosurePanel"),w=c("Disclosure");return r(),a("div",{class:f([e.filters?"translate-y-0":"translate-y-full","z-40 transition absolute bottom-9 right-102 w-96 h-large overflow-hidden flex flex-col border shadow-xl border-t-2 border-t-purple-500"])},[t("div",fs,[ys,t("div",null,[t("div",{class:"hover:bg-gray-100 cursor-pointer rounded-full h-6 w-6 flex items-center justify-center",onClick:o[0]||(o[0]=m=>e.hideFlyover("filters"))},[i(u,{class:"h-4 w-4 text-gray-400"})])])]),t("div",gs,[t("div",vs,[i(w,null,{default:y(({open:m})=>[i(v,{class:"py-2 w-full"},{default:y(()=>[t("div",ps,[t("div",bs,[s.db.referenceName?(r(),a("div",ms,"\u0424\u0438\u043B\u044C\u0442\u0440 \u043F\u043E: "+x(s.db.referenceName),1)):(r(),a("div",_s,"\u0424\u0438\u043B\u044C\u0442\u0440 \u043F\u043E \u0441\u0432\u044F\u0437\u044F\u043C"))]),i(l,{class:f([m?"transform rotate-180":"","w-5 h-5 text-purple-500"])},null,8,["class"])])]),_:2},1024),i(b,{class:"text-gray-500 pb-4"},{default:y(()=>[t("div",null,[t("div",null,[t("label",hs,[t("input",{onClick:o[1]||(o[1]=_=>e.toggleEmpty()),type:"checkbox",class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-300 focus:ring focus:ring-offset-0 focus:ring-indigo-200 focus:ring-opacity-50",checked:s.showWithoutReference},null,8,xs),ws])]),(r(!0),a(V,null,L(s.db.references,_=>(r(),a("div",{key:_.id},[t("label",Is,[t("input",{onClick:U=>e.toggleReference(_.id),type:"checkbox",class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-300 focus:ring focus:ring-offset-0 focus:ring-indigo-200 focus:ring-opacity-50",checked:s.selectedReferences.includes(_.id)},null,8,ks),t("span",Fs,x(_.name),1)])]))),128))])]),_:1})]),_:1})])])],2)}var Ps=E(us,[["render",Cs]]);const Bs={components:{XIcon:W,PlusSmIcon:ee,Popover:te,PopoverButton:oe,PopoverPanel:se},props:{db:{type:Object}},setup(n){const{hideFlyover:o,references:s}=$(),e=R("");return{newReference:e,addNewReference:()=>{if(e.value==="")return;let g=0;n.db.references.forEach(l=>{l.id>g&&(g=l.id)});const u={id:g+1,name:e.value};n.db.references.push(u),e.value=""},hideFlyover:o,references:s}}},Rs={class:"h-16 bg-white flex items-center justify-between px-4 space-x-2"},Ds=t("div",{class:"flex-1 font-bold"},"\u0423\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0435 \u0441\u0432\u044F\u0437\u044F\u043C\u0438",-1),Vs={class:"flex-1 bg-white overflow-auto px-4 pb-32 space-y-4 text-sm"},Ls={class:"block"},js={class:"bg-white overflow-hidden rounded shadow-lg ring-1 ring-black ring-opacity-5 p-4 space-y-4"},Ss=t("p",{class:"text-xs text-gray-600"},"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043D\u0430\u0437\u0432\u0430\u043D\u0438\u0435",-1),Us={class:"block"},As={class:"space-y-2"},Ns=["onUpdate:modelValue"];function Os(n,o,s,e,d,g){const u=c("XIcon"),l=c("PlusSmIcon"),v=c("PopoverButton"),b=c("PopoverPanel"),w=c("Popover");return r(),a("div",{class:f([e.references?"translate-y-0":"translate-y-full","z-40 transition absolute bottom-9 right-80 w-96 h-large overflow-hidden flex flex-col border shadow-xl border-t-2 border-t-purple-500"])},[t("div",Rs,[Ds,t("div",null,[t("div",{class:"hover:bg-gray-100 cursor-pointer rounded-full h-6 w-6 flex items-center justify-center",onClick:o[0]||(o[0]=m=>e.hideFlyover("references"))},[i(u,{class:"h-4 w-4 text-gray-400"})])])]),t("div",Vs,[t("div",null,[t("label",Ls,[C(t("input",{type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm text-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50","onUpdate:modelValue":o[1]||(o[1]=m=>s.db.referenceName=m),placeholder:"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u0441\u0432\u044F\u0437\u0438 (\u043D\u0430\u043F\u0440\u0438\u043C\u0435\u0440, \u0438\u043D\u0441\u0442\u0440\u0443\u043C\u0435\u043D\u0442\u044B)"},null,512),[[j,s.db.referenceName]])])]),i(w,{class:"relative"},{default:y(({open:m})=>[i(v,{class:f([m?"":"opacity-90","rounded-full bg-gray-50 h-8 w-8 flex items-center justify-center cursor-pointer text-gray-500 hover:bg-gray-200 hover:text-gray-900"])},{default:y(()=>[i(l,{class:"w-5 h-5"})]),_:2},1032,["class"]),i(T,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"translate-y-1 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"translate-y-0 opacity-100","leave-to-class":"translate-y-1 opacity-0"},{default:y(()=>[i(b,{class:"absolute z-10 w-80 mt-1 transform -translate-x-1/2 left-40 sm:px-0 lg:max-w-3xl"},{default:y(()=>[t("div",js,[Ss,t("label",Us,[C(t("textarea",{class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm text-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",rows:"3","onUpdate:modelValue":o[2]||(o[2]=_=>e.newReference=_)},null,512),[[j,e.newReference]])]),t("button",{onClick:o[3]||(o[3]=(..._)=>e.addNewReference&&e.addNewReference(..._)),class:"bg-purple-600 text-white px-6 py-2 text-sm font-semibold rounded-lg"},"\u0421\u043E\u0437\u0434\u0430\u0442\u044C")])]),_:1})]),_:1})]),_:1}),t("div",As,[(r(!0),a(V,null,L(s.db.references,m=>(r(),a("label",{key:m.id,class:"block"},[C(t("input",{type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm text-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50","onUpdate:modelValue":_=>m.name=_},null,8,Ns),[[j,m.name]])]))),128))])])],2)}var Es=E(Bs,[["render",Os]]);const Gs={components:{XIcon:W,PlusSmIcon:ee,Popover:te,PopoverButton:oe,PopoverPanel:se},props:{db:{type:Object}},setup(n){const{hideFlyover:o,groups:s}=$(),e=R("");return{newGroup:e,addNewGroup:()=>{if(e.value==="")return;let g=0;n.db.value.groups.forEach(l=>{l.id>g&&(g=l.id)});const u={id:g+1,name:e.value};n.db.value.groups.push(u),e.value=""},hideFlyover:o,groups:s}}},Xs={class:"h-16 bg-white flex items-center justify-between px-4 space-x-2"},zs=t("div",{class:"flex-1 font-bold"},"\u0423\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0435 \u0433\u0440\u0443\u043F\u043F\u0430\u043C\u0438",-1),Ws={class:"flex-1 bg-white overflow-auto px-4 pb-32 space-y-4 text-sm"},Ts={class:"bg-white overflow-hidden rounded shadow-lg ring-1 ring-black ring-opacity-5 p-4 space-y-4"},$s=t("p",{class:"text-xs text-gray-600"},"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u043D\u043E\u0432\u043E\u0439 \u0433\u0440\u0443\u043F\u043F\u044B.",-1),Js={class:"block"},Hs={class:"space-y-2"},Ms=["onUpdate:modelValue"];function Qs(n,o,s,e,d,g){const u=c("XIcon"),l=c("PlusSmIcon"),v=c("PopoverButton"),b=c("PopoverPanel"),w=c("Popover");return r(),a("div",{class:f([e.groups?"translate-y-0":"translate-y-full","z-40 transition absolute bottom-9 right-60 w-96 h-large overflow-hidden flex flex-col border shadow-xl border-t-2 border-t-purple-500"])},[t("div",Xs,[zs,t("div",null,[t("div",{class:"hover:bg-gray-100 cursor-pointer rounded-full h-6 w-6 flex items-center justify-center",onClick:o[0]||(o[0]=m=>e.hideFlyover("groups"))},[i(u,{class:"h-4 w-4 text-gray-400"})])])]),t("div",Ws,[i(w,{class:"relative"},{default:y(({open:m})=>[i(v,{class:f([m?"":"opacity-90","rounded-full bg-gray-50 h-8 w-8 flex items-center justify-center cursor-pointer text-gray-500 hover:bg-gray-200 hover:text-gray-900"])},{default:y(()=>[i(l,{class:"w-5 h-5"})]),_:2},1032,["class"]),i(T,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"translate-y-1 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"translate-y-0 opacity-100","leave-to-class":"translate-y-1 opacity-0"},{default:y(()=>[i(b,{class:"absolute z-10 w-80 mt-1 transform -translate-x-1/2 left-40 sm:px-0 lg:max-w-3xl"},{default:y(()=>[t("div",Ts,[$s,t("label",Js,[C(t("textarea",{class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm text-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",rows:"3","onUpdate:modelValue":o[1]||(o[1]=_=>e.newGroup=_)},null,512),[[j,e.newGroup]])]),t("button",{onClick:o[2]||(o[2]=(..._)=>e.addNewGroup&&e.addNewGroup(..._)),class:"bg-purple-600 text-white px-6 py-2 text-sm font-semibold rounded-lg"},"\u0421\u043E\u0437\u0434\u0430\u0442\u044C")])]),_:1})]),_:1})]),_:1}),t("div",Hs,[(r(!0),a(V,null,L(s.db.groups,m=>(r(),a("label",{key:m.id,class:"block"},[C(t("input",{type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm text-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50","onUpdate:modelValue":_=>m.name=_},null,8,Ms),[[j,m.name]])]))),128))])])],2)}var qs=E(Gs,[["render",Qs]]);const Ks=[{label:"\u0422\u0435\u043A\u0441\u0442\u043E\u0432\u043E\u0435 \u043F\u043E\u043B\u0435",value:"text"},{label:"\u0411\u0443\u043B\u0435\u0432\u043E \u043F\u043E\u043B\u0435 (\u043F\u0440\u0430\u0432\u0434\u0430/\u043B\u043E\u0436\u044C)",value:"bool"}],Ys={components:{XIcon:W,PlusSmIcon:ee,ChevronUpIcon:pe,ChevronDownIcon:Te,Popover:te,PopoverButton:oe,PopoverPanel:se,Disclosure:be,DisclosureButton:me,DisclosurePanel:_e},props:{db:{type:Object}},setup(n){const{hideFlyover:o,fields:s}=$(),e=R("");return{newField:e,add:()=>{if(e.value==="")return;let l=0;n.db.fields.forEach(b=>{b.id>l&&(l=b.id)});const v={id:l+1,name:e.value,showInDetals:!1,showInPopper:!1,showInGrid:!1,showInHeader:!1,searchable:!1,filterable:!1,type:"text"};n.db.fields.push(v),n.db.items.forEach(b=>{b.fields.push({id:l+1,value:""})}),e.value=""},remove:l=>{const v=n.db.fields.findIndex(b=>b.id===l);v>-1&&(n.db.items.forEach(b=>{const w=b.fields.findIndex(m=>m.id===l);w>-1&&b.fields.splice(w,1)}),n.db.fields.splice(v,1))},convert:(l,v)=>{l.type=v,n.db.items.forEach(b=>{b.fields.forEach(w=>{if(w.id===l.id)switch(v){case"bool":w.value=!1;break;case"text":w.value="";break}})})},fieldTypes:Ks,hideFlyover:o,fields:s}}},Zs={class:"h-16 bg-white flex items-center justify-between px-4 space-x-2"},en=t("div",{class:"flex-1 font-bold"},"\u0423\u043F\u0440\u0430\u0432\u043B\u0435\u043D\u0438\u0435 \u043F\u043E\u043B\u044F\u043C\u0438",-1),tn={class:"flex-1 bg-white overflow-auto px-4 space-y-4 text-sm pb-32"},on={class:"bg-white overflow-hidden rounded shadow-lg ring-1 ring-black ring-opacity-5 p-4 space-y-4"},sn=t("p",{class:"text-xs text-gray-600"},"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u043D\u043E\u0432\u043E\u0433\u043E \u043F\u043E\u043B\u044F.",-1),nn={class:"block"},rn=["onClick"],ln={class:"line-clamp-1"},an={class:"space-y-2 pb-4"},cn={class:"block"},dn=t("span",{class:"font-bold text-black"},"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u043F\u043E\u043B\u044F",-1),un=["onUpdate:modelValue"],fn=t("div",null,"\u0422\u0438\u043F:",-1),yn={class:"flex-1 text-left font-bold"},gn={class:"bg-white overflow-hidden rounded shadow-lg ring-1 ring-black ring-opacity-5 p-2"},vn=["onClick"],pn={class:"inline-flex items-center"},bn=["onUpdate:modelValue"],mn=t("span",{class:"ml-2"},"\u041F\u043E\u043A\u0430\u0437\u044B\u0432\u0430\u0442\u044C \u043F\u043E\u043B\u0435 \u0432 \u0437\u0430\u0433\u043E\u043B\u043E\u0432\u043A\u0435",-1),_n={class:"inline-flex items-center"},hn=["onUpdate:modelValue"],xn=t("span",{class:"ml-2"},"\u041F\u043E\u043A\u0430\u0437\u044B\u0432\u0430\u0442\u044C \u043F\u043E\u043B\u0435 \u0432 \u0434\u0435\u0442\u0430\u043B\u044F\u0445 \u0430\u0442\u043E\u043C\u0430",-1),wn={class:"inline-flex items-center"},In=["onUpdate:modelValue"],kn=t("span",{class:"ml-2"},"\u041F\u043E\u043A\u0430\u0437\u044B\u0432\u0430\u0442\u044C \u043F\u043E\u043B\u0435 \u0432 \u043F\u043E\u0434\u0441\u043A\u0430\u0437\u043A\u0435",-1),Fn={class:"inline-flex items-center"},Cn=["onUpdate:modelValue"],Pn=t("span",{class:"ml-2"},"\u041F\u043E\u043A\u0430\u0437\u044B\u0432\u0430\u0442\u044C \u043F\u043E\u043B\u0435 \u0432 \u0441\u0435\u0442\u043A\u0435",-1),Bn={class:"inline-flex items-center"},Rn=["onUpdate:modelValue"],Dn=t("span",{class:"ml-2"},"\u0423\u0447\u0438\u0442\u044B\u0432\u0430\u0442\u044C \u043F\u043E\u043B\u0435 \u043F\u0440\u0438 \u043F\u043E\u0438\u0441\u043A\u0435",-1),Vn={class:"pt-4"},Ln=["onClick"];function jn(n,o,s,e,d,g){const u=c("XIcon"),l=c("PlusSmIcon"),v=c("PopoverButton"),b=c("PopoverPanel"),w=c("Popover"),m=c("ChevronUpIcon"),_=c("DisclosureButton"),U=c("ChevronDownIcon"),P=c("DisclosurePanel"),S=c("Disclosure");return r(),a("div",{class:f([e.fields?"translate-y-0":"translate-y-full","z-40 transition absolute bottom-9 right-32 w-96 h-large overflow-hidden flex flex-col border shadow-xl border-t-2 border-t-purple-500"])},[t("div",Zs,[en,t("div",null,[t("div",{class:"hover:bg-gray-100 cursor-pointer rounded-full h-6 w-6 flex items-center justify-center",onClick:o[0]||(o[0]=k=>e.hideFlyover("fields"))},[i(u,{class:"h-4 w-4 text-gray-400"})])])]),t("div",tn,[i(w,{class:"relative"},{default:y(({open:k})=>[i(v,{class:f([k?"":"opacity-90","rounded-full bg-gray-50 h-8 w-8 flex items-center justify-center cursor-pointer text-gray-500 hover:bg-gray-200 hover:text-gray-900"])},{default:y(()=>[i(l,{class:"w-5 h-5"})]),_:2},1032,["class"]),i(T,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"translate-y-1 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"translate-y-0 opacity-100","leave-to-class":"translate-y-1 opacity-0"},{default:y(()=>[i(b,{class:"absolute z-10 w-80 mt-1 transform -translate-x-1/2 left-40 sm:px-0 lg:max-w-3xl"},{default:y(({close:N})=>[t("div",on,[sn,t("label",nn,[C(t("textarea",{class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm text-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",rows:"3","onUpdate:modelValue":o[1]||(o[1]=D=>e.newField=D)},null,512),[[j,e.newField]])]),t("button",{onClick:D=>{e.add(),N()},class:"bg-purple-600 text-white px-6 py-2 text-sm font-semibold rounded-lg"},"\u0421\u043E\u0437\u0434\u0430\u0442\u044C",8,rn)])]),_:1})]),_:1})]),_:1}),(r(!0),a(V,null,L(s.db.fields,k=>(r(),A(S,{key:k.id},{default:y(({open:N})=>[i(_,{class:"flex justify-between w-full px-4 py-2 text-sm font-medium text-left text-purple-900 bg-purple-100 rounded-lg hover:bg-purple-200 focus:outline-none focus-visible:ring focus-visible:ring-purple-500 focus-visible:ring-opacity-75"},{default:y(()=>[t("span",ln,x(k.name),1),i(m,{class:f([N?"transform rotate-180":"","w-5 h-5 text-purple-500"])},null,8,["class"])]),_:2},1024),i(P,{class:"px-2 pt-2 pb-2 text-sm text-gray-500 space-y-1"},{default:y(()=>[t("section",an,[t("div",null,[t("label",cn,[dn,C(t("input",{type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",placeholder:"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435","onUpdate:modelValue":D=>k.name=D},null,8,un),[[j,k.name]])])]),t("div",null,[i(w,{class:"relative"},{default:y(({open:D})=>[i(v,{class:f([D?"":"opacity-90","rounded-md border border-gray-300 shadow px-2 h-11 text-sm w-full flex items-center space-x-2"])},{default:y(()=>[fn,t("div",yn,x(e.fieldTypes.find(z=>z.value===k.type).label),1),i(U,{class:"w-5 h-5"})]),_:2},1032,["class"]),i(T,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"translate-y-1 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"translate-y-0 opacity-100","leave-to-class":"translate-y-1 opacity-0"},{default:y(()=>[i(b,{class:"absolute z-10 w-full mt-1 sm:px-0 lg:max-w-3xl"},{default:y(({close:z})=>[t("div",gn,[(r(!0),a(V,null,L(e.fieldTypes,(X,J)=>(r(),a("div",{key:J,onClick:Q=>{e.convert(k,X.value),z()},class:"cursor-pointer hover:bg-gray-100 py-3 px-3 rounded"},x(X.label),9,vn))),128))])]),_:2},1024)]),_:2},1024)]),_:2},1024)])]),t("div",null,[t("label",pn,[C(t("input",{type:"checkbox",class:"rounded border-gray-300 text-purple-600 shadow-sm focus:border-purple-300 focus:ring focus:ring-offset-0 focus:ring-purple-200 focus:ring-opacity-50 cursor-pointer","onUpdate:modelValue":D=>k.showInHeader=D},null,8,bn),[[M,k.showInHeader]]),mn])]),t("div",null,[t("label",_n,[C(t("input",{type:"checkbox",class:"rounded border-gray-300 text-purple-600 shadow-sm focus:border-purple-300 focus:ring focus:ring-offset-0 focus:ring-purple-200 focus:ring-opacity-50 cursor-pointer","onUpdate:modelValue":D=>k.showInDetals=D},null,8,hn),[[M,k.showInDetals]]),xn])]),t("div",null,[t("label",wn,[C(t("input",{type:"checkbox",class:"rounded border-gray-300 text-purple-600 shadow-sm focus:border-purple-300 focus:ring focus:ring-offset-0 focus:ring-purple-200 focus:ring-opacity-50 cursor-pointer","onUpdate:modelValue":D=>k.showInPopper=D},null,8,In),[[M,k.showInPopper]]),kn])]),t("div",null,[t("label",Fn,[C(t("input",{type:"checkbox",class:"rounded border-gray-300 text-purple-600 shadow-sm focus:border-purple-300 focus:ring focus:ring-offset-0 focus:ring-purple-200 focus:ring-opacity-50 cursor-pointer","onUpdate:modelValue":D=>k.showInGrid=D},null,8,Cn),[[M,k.showInGrid]]),Pn])]),t("div",null,[t("label",Bn,[C(t("input",{type:"checkbox",class:"rounded border-gray-300 text-purple-600 shadow-sm focus:border-purple-300 focus:ring focus:ring-offset-0 focus:ring-purple-200 focus:ring-opacity-50 cursor-pointer","onUpdate:modelValue":D=>k.searchable=D},null,8,Rn),[[M,k.searchable]]),Dn])]),t("div",Vn,[t("button",{onClick:D=>e.remove(k.id),class:"bg-red-50 rounded-lg border cursor-pointer border-red-100 text-red-700 hover:bg-red-100 hover:text-red-900 px-4 py-1"},"\u0423\u0434\u0430\u043B\u0438\u0442\u044C",8,Ln)])]),_:2},1024)]),_:2},1024))),128))])],2)}var Sn=E(Ys,[["render",jn]]);const Un=5,An=[{id:1,name:"\u0421\u043B\u043E\u0439 1"}],Nn=[],On=[],En=[{id:1,name:"First Item",layers:[{id:1,note:"",color:"bg-gray-100",score:0}],groupId:0,fields:[],references:[],active:!0}],Gn="",Xn={name:"",description:"",version:""},zn=[],Wn=[];var Tn={version:Un,layers:An,fields:Nn,groups:On,items:En,referenceName:Gn,model:Xn,pallete:zn,references:Wn};const $n={components:{XIcon:W},props:{activeItem:{type:Object},db:{type:Object},version:{type:Number}},emits:["set-db","set-layer-ready","set-active-item"],setup(n,{emit:o}){const{hideFlyover:s,load:e}=$();let d;const g=()=>{let _=new FileReader;_.onload=U=>{o("set-layer-ready",!1),o("set-active-item",void 0),o("set-db",JSON.parse(U.target.result)),o("set-layer-ready",!0),s("load")},_.onerror=U=>console.log(U),_.readAsText(d)},u=()=>{o("set-db",JSON.parse(JSON.stringify(Tn))),o("set-layer-ready",!0),o("set-active-item",void 0),s("load")},m=at({onDrop:(_,U)=>{d=_[0],g()}}),{getRootProps:v,getInputProps:b}=m,w=je(m,["getRootProps","getInputProps"]);return Le(Ve({getRootProps:v,getInputProps:b},w),{loadDefault:u,hideFlyover:s,load:e})}},Jn={class:"h-16 bg-white flex items-center justify-between px-4 space-x-2"},Hn=t("div",{class:"flex-1 font-bold"},"\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430 \u0444\u0430\u0439\u043B\u0430",-1),Mn={class:"flex-1 bg-white overflow-auto px-4 space-y-4"},Qn=t("p",{class:"text-sm text-gray-500"}," \u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 json-\u0444\u0430\u0439\u043B \u0434\u043B\u044F \u0437\u0430\u0433\u0440\u0443\u0437\u043A\u0438 ",-1),qn={class:"h-16 bg-gray-50 border border-dashed rounded-lg my-4 flex items-center justify-center text-xs text-gray-500"},Kn={key:0},Yn={key:1,class:"cursor-pointer"},Zn=t("p",{class:"text-sm text-gray-500"},"\u0418\u043B\u0438 \u0432\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u043E\u0434\u043D\u0443 \u0438\u0437 \u0441\u0442\u0430\u043D\u0434\u0430\u0440\u0442\u043D\u044B\u0445 \u043C\u043E\u0434\u0435\u043B\u0435\u0439",-1),er={class:"text-sm text-gray-600"};function tr(n,o,s,e,d,g){const u=c("XIcon");return r(),a("div",{class:f([e.load?"translate-y-0":"translate-y-full","z-40 transition absolute bottom-9 right-4 w-96 h-96 overflow-hidden flex flex-col border shadow-xl border-t-2 border-t-purple-500"])},[t("div",Jn,[Hn,t("div",null,[t("div",{class:"hover:bg-gray-100 cursor-pointer rounded-full h-6 w-6 flex items-center justify-center",onClick:o[0]||(o[0]=l=>e.hideFlyover("load"))},[i(u,{class:"h-4 w-4 text-gray-400"})])])]),t("div",Mn,[Qn,t("div",qn,[t("div",$e(Je(e.getRootProps())),[t("input",$e(Je(e.getInputProps())),null,16),n.isDragActive?(r(),a("p",Kn,"\u041F\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0444\u0430\u0439\u043B \u0441\u044E\u0434\u0430...")):(r(),a("p",Yn,"\u041F\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0444\u0430\u0439\u043B \u0441\u044E\u0434\u0430 \u0438\u043B\u0438 \u043A\u043B\u0438\u043A\u043D\u0438\u0442\u0435 \u0434\u043B\u044F \u0432\u044B\u0431\u043E\u0440\u0430"))],16)]),Zn,t("div",er,[t("p",{onClick:o[1]||(o[1]=l=>e.loadDefault()),class:"hover:underline hover:text-gray-800 cursor-pointer"},"\u041F\u0443\u0441\u0442\u0430\u044F \u043C\u043E\u0434\u0435\u043B\u044C")])])],2)}var or=E($n,[["render",tr]]);const sr={components:{FlyOverAbout:Vo,FlyOverDescription:Ho,FlyOverLayers:ds,FlyOverFilters:Ps,FlyOverReferences:Es,FlyOverGroups:qs,FlyOverFields:Sn,FlyOverLoad:or,Grid:zt,Footer:lo,DetailsCustomFields:po,DetailsCustomFieldsEdit:Fo,Markdown:We,XIcon:W,DuplicateIcon:Ge,ChatAltIcon:it,FireIcon:ct,FilterIcon:Ne,StatusOnlineIcon:Ue,AdjustmentsIcon:dt,LinkIcon:Oe,UploadIcon:Xe,DownloadIcon:ze,PlusSmIcon:ee,ChevronDownIcon:Te,ChevronUpIcon:pe,ViewBoardsIcon:ut,ViewGridAddIcon:Ee,ViewGridIcon:ft,CollectionIcon:Ae,Popover:te,PopoverButton:oe,PopoverPanel:se,Disclosure:be,DisclosureButton:me,DisclosurePanel:_e},setup(){const n=5,{board:o,toggleBoard:s}=Ct(),{popper:e,togglePopper:d}=Me(),{heatmap:g,toggleHeatmap:u}=Qe(),l=R(void 0),{activeLayer:v,setActiveLayer:b}=ke(),{convert:w}=Ft(),m=h=>{l.value=h,w(l,n),b(l.value.layers[0])},_=R(!1),U=h=>{_.value=h},P=R(void 0),S=h=>{if(l.value&&l.value.items)P.value=l.value.items.find(B=>B.id===parseInt(h));else return},k=R(!1),N=R(!1),D=h=>{if(l.value&&l.value.groups)return l.value.groups.find(B=>B.id===parseInt(h))},z=h=>{if(l.value&&l.value.fields)return l.value.fields.find(B=>B.id===parseInt(h))},X=R(""),J=()=>{if(X.value==="")return;let h=0;l.value.items.forEach(G=>{G.id>h&&(h=G.id)});const B=[];l.value.fields.forEach(G=>{B.push({id:G.id,value:""})});const O={id:h+1,name:X.value,layers:[],groupId:0,fields:B,references:[]};l.value.layers.forEach(G=>{O.layers.push({id:G.id,note:"",color:"bg-gray-100",score:0})}),l.value.items.push(O),X.value="",P.value=l.value.items.find(G=>G.id===O.id)},Q=()=>{if(P.value){const h=P.value.id;P.value=void 0;const B=l.value.items.findIndex(O=>O.id===h);B>-1&&l.value.items.splice(B,1)}},fe=R([]),q=R(!0),he=()=>{q.value=!q.value},K=ve(()=>_.value&&l.value&&l.value.items?l.value.items.filter(h=>{const B=fe.value.filter(G=>h.references.includes(G)),O=q.value&&h.references.length===0;return B.length>0||O}):[]),ye=mt("",400),Z=ve(()=>{const h=ye.value.toLowerCase();return h.length<3?K.value:K.value.filter(B=>{let O=`${B.name}`;return l.value.fields.forEach(G=>{G.searchable&&(O+=B.fields.find(qe=>qe.id===G.id).value)}),O.toLowerCase().indexOf(h)>-1})}),xe=h=>Z.value.filter(B=>B.groupId===parseInt(h)),we=ve(()=>l.value.groups.filter(h=>Z.value.findIndex(B=>B.groupId===h.id)>-1));return{actualJSONVersion:n,board:o,toggleBoard:s,popper:e,togglePopper:d,heatmap:g,toggleHeatmap:u,db:l,setDB:m,isLayerReady:_,setLayerReady:U,activeLayer:v,activeItem:P,setActiveItem:S,isAdditionalFieldsVisible:k,isWideDetails:N,newItem:X,addNewItem:J,deleteItem:Q,getGroupById:D,getFieldById:z,searchQuery:ye,searchResults:Z,selectedReferences:fe,showWithoutReference:q,toggleShowWithoutReference:he,swatches:Pt,filterByGroup:xe,nonEmptyGroups:we,toggleReference:h=>{if(P.value.references.includes(h)){const B=P.value.references.findIndex(O=>O===h);P.value.references.splice(B,1)}else P.value.references.push(h)},getReferenceById:h=>l.value.references.find(B=>B.id===h)}}},Y=n=>(yt("data-v-50446038"),n=n(),gt(),n),nr={class:"h-screen w-screen overflow-hidden flex flex-col"},rr={class:"flex-1 flex"},lr={class:"flex-1 flex flex-col"},ar={key:0,class:"h-16 flex items-center justify-between px-12 space-x-4"},ir={class:"flex-1"},cr={class:"block"},dr={class:"flex items-center space-x-2"},ur={class:"rounded-lg bg-gray-50 h-8 w-8 flex items-center justify-center cursor-pointer text-gray-500 hover:bg-gray-200 hover:text-gray-900"},fr={class:"bg-white overflow-hidden rounded shadow-lg ring-1 ring-black ring-opacity-5 p-4 space-y-4"},yr=Y(()=>t("p",{class:"text-xs text-gray-600"},"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u043D\u043E\u0432\u043E\u0433\u043E \u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430, \u043A\u043E\u0442\u043E\u0440\u043E\u0435 \u0431\u0443\u0434\u0435\u0442 \u043E\u0442\u043E\u0431\u0440\u0430\u0436\u0430\u0442\u044C\u0441\u044F \u0432 \u0441\u0435\u0442\u043A\u0435. \u041F\u043E\u0441\u043B\u0435 \u0441\u043E\u0437\u0434\u0430\u043D\u0438\u044F \u044D\u043B\u0435\u043C\u0435\u043D\u0442\u0430 \u043C\u043E\u0436\u043D\u043E \u0431\u0443\u0434\u0435\u0442 \u0432\u043D\u0435\u0441\u0442\u0438 \u0432 \u043D\u0435\u0433\u043E \u043D\u0435\u043E\u0431\u0445\u043E\u0434\u0438\u043C\u044B\u0435 \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u044F.",-1)),gr={class:"block"},vr={key:1,class:"pb-32 overflow-hidden",style:{height:"calc(100vh - 6.5rem)"}},pr={key:0,class:"px-2 py-4 pb-32 overflow-y-auto space-y-1",style:{height:"calc(100vh - 6.5rem)"}},br={key:1,style:{height:"calc(100vh - 6.5rem)"},class:"overflow-y-auto p-8"},mr={key:1,class:"px-2 py-16 space-y-8"},_r={class:"space-y-2"},hr={key:0,class:"space-y-2"},xr={class:"border-t border-b py-4 space-y-4"},wr={class:"flex items-center space-x-2"},Ir={class:"flex-1"},kr={class:"flex items-center space-x-2"},Fr=Y(()=>t("div",{class:"text-sm"},"\u0426\u0432\u0435\u0442",-1)),Cr={class:"bg-white overflow-hidden rounded shadow-lg ring-1 ring-black ring-opacity-5"},Pr={class:"grid grid-cols-9 gap-1 p-4"},Br=["onClick"],Rr={class:"block w-24"},Dr={class:"inline-flex items-center"},Vr=Y(()=>t("span",{class:"ml-2"},"\u0410\u043A\u0442\u0438\u0432\u043D\u043E",-1)),Lr={key:0,class:"space-y-2"},jr={class:"block"},Sr=Y(()=>t("span",{class:"text-gray-700 text-sm"},"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435",-1)),Ur={class:"flex items-center space-x-2"},Ar=Y(()=>t("div",{class:"text-sm font-bold"},"\u0413\u0440\u0443\u043F\u043F\u0430:",-1)),Nr={key:0,class:"text-sm line-clamp-1"},Or={key:1,class:"text-sm line-clamp-1"},Er={class:"bg-white overflow-auto rounded shadow-lg ring-1 ring-black ring-opacity-5 p-2"},Gr=["onClick"],Xr={class:"py-4"},zr={class:"flex items-center"},Wr={key:0,class:"flex-1 text-xs text-gray-700"},Tr={key:1,class:"flex-1 text-xs text-gray-700"},$r={class:"bg-white overflow-hidden rounded shadow-lg ring-1 ring-black ring-opacity-5 p-4 space-y-4 flex flex-col"},Jr={class:"h-96 overflow-y-auto"},Hr={class:"inline-flex items-center"},Mr=["checked","onClick"],Qr={class:"ml-2 text-sm line-clamp-1"},qr={class:"space-y-1"},Kr={class:"block"},Yr=Y(()=>t("span",{class:"text-gray-700 text-xs"},"\u041A\u043E\u043C\u043C\u0435\u043D\u0442\u0430\u0440\u0438\u0439",-1)),Zr={class:"py-4"},el={key:0,class:"uppercase font-bold text-gray-500"},tl={key:1,class:"uppercase font-bold text-gray-500"},ol={key:0},sl={key:2},nl={key:0,class:"space-y-2 px-2 py-16"},rl={class:"font-bold"},ll={class:"text-sm text-gray-600"},al={key:0,class:"text-xs text-gray-600 font-bold"};function il(n,o,s,e,d,g){const u=c("fly-over-about"),l=c("fly-over-description"),v=c("fly-over-layers"),b=c("fly-over-filters"),w=c("fly-over-references"),m=c("fly-over-groups"),_=c("fly-over-fields"),U=c("fly-over-load"),P=c("ViewGridIcon"),S=c("ViewBoardsIcon"),k=c("FireIcon"),N=c("ChatAltIcon"),D=c("PlusSmIcon"),z=c("PopoverButton"),X=c("PopoverPanel"),J=c("Popover"),Q=c("Grid"),fe=c("ChevronUpIcon"),q=c("XIcon"),he=c("Markdown"),K=c("ChevronDownIcon"),ye=c("AdjustmentsIcon"),Z=c("DetailsCustomFieldsEdit"),xe=c("DetailsCustomFields"),we=c("Footer");return r(),a("div",nr,[i(u),e.isLayerReady?(r(),A(l,{key:0,db:e.db},null,8,["db"])):I("",!0),e.isLayerReady?(r(),A(v,{key:1,db:e.db},null,8,["db"])):I("",!0),e.isLayerReady?(r(),A(b,{key:2,db:e.db,"selected-references":e.selectedReferences,"show-without-reference":e.showWithoutReference,onToggleEmpty:o[0]||(o[0]=p=>e.toggleShowWithoutReference())},null,8,["db","selected-references","show-without-reference"])):I("",!0),e.isLayerReady?(r(),A(w,{key:3,db:e.db},null,8,["db"])):I("",!0),e.isLayerReady?(r(),A(m,{key:4,db:e.db},null,8,["db"])):I("",!0),e.isLayerReady?(r(),A(_,{key:5,db:e.db},null,8,["db"])):I("",!0),i(U,{db:e.db,"active-item":e.activeItem,version:e.actualJSONVersion,onSetDb:e.setDB,onSetLayerReady:e.setLayerReady,onSetActiveItem:e.setActiveItem},null,8,["db","active-item","version","onSetDb","onSetLayerReady","onSetActiveItem"]),t("div",rr,[t("div",lr,[e.isLayerReady?(r(),a("div",ar,[t("div",ir,[t("label",cr,[C(t("input",{"onUpdate:modelValue":o[1]||(o[1]=p=>e.searchQuery=p),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-purple-300 focus:ring focus:ring-purple-200 focus:ring-opacity-50",placeholder:"\u041F\u043E\u0438\u0441\u043A..."},null,512),[[j,e.searchQuery]])])]),t("div",dr,[t("div",ur,[e.board?(r(),A(P,{key:0,class:"w-5 h-5",onClick:o[2]||(o[2]=p=>e.toggleBoard())})):(r(),A(S,{key:1,class:"w-5 h-5",onClick:o[3]||(o[3]=p=>e.toggleBoard())}))]),t("div",{class:f([[e.heatmap?"bg-purple-50 text-purple-500 border border-purple-100":"bg-gray-50 text-gray-500"],"rounded-lg h-8 w-8 flex items-center justify-center cursor-pointer text-gray-500 hover:bg-gray-200 hover:text-gray-900"])},[i(k,{class:"w-5 h-5",onClick:o[4]||(o[4]=p=>e.toggleHeatmap())})],2),t("div",{class:f([[e.popper?"bg-purple-50 text-purple-500 border border-purple-100":"bg-gray-50 text-gray-500"],"rounded-lg h-8 w-8 flex items-center justify-center cursor-pointer text-gray-500 hover:bg-gray-200 hover:text-gray-900"])},[i(N,{class:"w-5 h-5",onClick:o[5]||(o[5]=p=>e.togglePopper())})],2),i(J,{class:"relative"},{default:y(({open:p})=>[i(z,{class:f([p?"":"opacity-90","rounded-lg bg-gray-50 h-8 w-8 flex items-center justify-center cursor-pointer text-gray-500 hover:bg-gray-200 hover:text-gray-900"])},{default:y(()=>[i(D,{class:"w-5 h-5"})]),_:2},1032,["class"]),i(T,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"translate-y-1 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"translate-y-0 opacity-100","leave-to-class":"translate-y-1 opacity-0"},{default:y(()=>[i(X,{class:"absolute z-10 w-80 mt-1 transform -translate-x-full left-40 sm:px-0 lg:max-w-3xl"},{default:y(()=>[t("div",fr,[yr,t("label",gr,[C(t("textarea",{class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm text-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",rows:"3","onUpdate:modelValue":o[6]||(o[6]=F=>e.newItem=F)},null,512),[[j,e.newItem]])]),t("button",{onClick:o[7]||(o[7]=(...F)=>e.addNewItem&&e.addNewItem(...F)),class:"bg-purple-600 text-white px-6 py-2 text-sm font-semibold rounded-lg"},"\u0421\u043E\u0437\u0434\u0430\u0442\u044C")])]),_:1})]),_:1})]),_:1})])])):I("",!0),e.isLayerReady?(r(),a("div",vr,[e.board?(r(),a("div",pr,[e.filterByGroup(0).length>0?(r(),A(Q,{key:0,items:e.filterByGroup(0),"active-item":e.activeItem,"get-field-by-id-fn":e.getFieldById,"get-reference-by-id-fn":e.getReferenceById,"set-active-item-fn":e.setActiveItem,class:"overflow-y-auto px-8"},null,8,["items","active-item","get-field-by-id-fn","get-reference-by-id-fn","set-active-item-fn"])):I("",!0),(r(!0),a(V,null,L(e.nonEmptyGroups,p=>(r(),A(Q,{key:p.id,header:p.name,items:e.filterByGroup(p.id),"active-item":e.activeItem,"get-field-by-id-fn":e.getFieldById,"get-reference-by-id-fn":e.getReferenceById,"set-active-item-fn":e.setActiveItem,class:"overflow-y-auto px-8"},null,8,["header","items","active-item","get-field-by-id-fn","get-reference-by-id-fn","set-active-item-fn"]))),128))])):(r(),a("div",br,[i(Q,{items:e.searchResults,"active-item":e.activeItem,"get-field-by-id-fn":e.getFieldById,"get-reference-by-id-fn":e.getReferenceById,"set-active-item-fn":e.setActiveItem},null,8,["items","active-item","get-field-by-id-fn","get-reference-by-id-fn","set-active-item-fn"])]))])):I("",!0)]),t("div",{class:f([[e.isWideDetails?"w-132":"w-96"],"bg-gray-50 overflow-y-auto shadow-lg border-l rounded-tl-lg p-4 relative transition"]),style:{height:"calc(100vh - 2.5rem)"}},[t("div",{onClick:o[8]||(o[8]=p=>e.isWideDetails=!e.isWideDetails),class:"absolute top-5 w-8 h-8 left-5 bg-gray-100 text-gray-500 hover:bg-gray-200 hover:text-gray-700 rounded-full flex items-center justify-center cursor-pointer"},[i(fe,{class:f(["h-5 w-5 transition-all",[e.isWideDetails?"rotate-90":"-rotate-90"]])},null,8,["class"])]),e.activeItem?(r(),a("div",{key:0,onClick:o[9]||(o[9]=p=>e.activeItem=void 0),class:"absolute top-5 w-8 h-8 right-5 bg-gray-100 text-gray-500 hover:bg-gray-200 hover:text-gray-700 rounded-full flex items-center justify-center cursor-pointer"},[i(q,{class:"w-5 h-5"})])):I("",!0),e.activeItem?(r(),a("div",mr,[t("section",_r,[t("div",{class:f(["font-bold",[e.isWideDetails?"text-xl":"text-base"]])},x(e.activeItem.name),3),(r(!0),a(V,null,L(e.activeItem.fields,p=>(r(),a("div",{key:p.id},[e.getFieldById(p.id).showInHeader&&p.value?(r(),a("div",hr,[t("div",{class:f(["atom-prose font-semibold",e.isWideDetails?"text-3xl":"text-base"])},[i(he,{source:p.value},null,8,["source"])],2)])):I("",!0)]))),128))]),t("section",xr,[t("div",wr,[t("div",Ir,[i(J,{class:"relative"},{default:y(({open:p})=>[i(z,{class:f([p?"":"text-opacity-90","w-full inline-flex items-center justify-between shadow px-3 py-3 text-base font-medium text-gray-900 bg-white rounded-md group hover:text-opacity-100 focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75"])},{default:y(()=>[t("div",kr,[Fr,t("div",{class:f(["w-16 h-5 rounded border",e.activeItem.layers.find(F=>F.id===e.activeLayer.id).color])},null,2)]),i(K,{class:f([p?"":"text-opacity-70","w-4 h-4 ml-2 text-gray-500 transition duration-150 ease-in-out group-hover:text-opacity-80"]),"aria-hidden":"true"},null,8,["class"])]),_:2},1032,["class"]),i(T,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"translate-y-1 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"translate-y-0 opacity-100","leave-to-class":"translate-y-1 opacity-0"},{default:y(()=>[i(X,{class:"absolute z-10 w-80 mt-1 transform -translate-x-1/2 left-40 sm:px-0 lg:max-w-3xl"},{default:y(()=>[t("div",Cr,[t("div",Pr,[(r(!0),a(V,null,L(e.swatches,(F,h)=>(r(),a("div",{onClick:B=>e.activeItem.layers.find(O=>O.id===e.activeLayer.id).color=F,key:h,class:f(["rounded cursor-pointer",[e.activeItem.color===F?"ring-2 ring-offset-1 ring-black ring-opacity-30":"",F,"h-6"]])},null,10,Br))),128))])])]),_:1})]),_:1})]),_:1})]),t("label",Rr,[C(t("input",{type:"text",class:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",placeholder:"Score","onUpdate:modelValue":o[10]||(o[10]=p=>e.activeItem.layers.find(F=>F.id===e.activeLayer.id).score=p)},null,512),[[j,e.activeItem.layers.find(p=>p.id===e.activeLayer.id).score]])])]),t("div",null,[t("label",Dr,[C(t("input",{type:"checkbox",class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-300 focus:ring focus:ring-offset-0 focus:ring-indigo-200 focus:ring-opacity-50","onUpdate:modelValue":o[11]||(o[11]=p=>e.activeItem.active=p)},null,512),[[M,e.activeItem.active]]),Vr])]),t("div",{onClick:o[12]||(o[12]=p=>e.isAdditionalFieldsVisible=!e.isAdditionalFieldsVisible),class:"bg-gray-100 h-5 rounded cursor-pointer hover:bg-gray-200 flex justify-center items-center"},[i(K,{class:f([e.isAdditionalFieldsVisible?"rotate-180":"","h-4 w-4 text-gray-600"])},null,8,["class"])]),e.isAdditionalFieldsVisible?(r(),a("div",Lr,[t("div",null,[t("label",jr,[Sr,C(t("input",{type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm text-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50","onUpdate:modelValue":o[13]||(o[13]=p=>e.activeItem.name=p)},null,512),[[j,e.activeItem.name]])])]),t("div",null,[i(J,{class:"relative"},{default:y(({open:p})=>[i(z,{class:f([p?"":"text-opacity-90","w-full inline-flex items-center justify-between shadow px-3 py-3 text-base font-medium text-gray-900 bg-white rounded-md group hover:text-opacity-100 focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75"])},{default:y(()=>[t("div",Ur,[Ar,e.activeItem.groupId?(r(),a("div",Nr,x(e.getGroupById(e.activeItem.groupId).name),1)):(r(),a("div",Or,"\u041D\u0435 \u0432\u044B\u0431\u0440\u0430\u043D\u0430"))]),i(K,{class:f([p?"":"text-opacity-70","w-4 h-4 ml-2 text-gray-500 transition duration-150 ease-in-out group-hover:text-opacity-80"]),"aria-hidden":"true"},null,8,["class"])]),_:2},1032,["class"]),i(T,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"translate-y-1 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"translate-y-0 opacity-100","leave-to-class":"translate-y-1 opacity-0"},{default:y(()=>[i(X,{class:"absolute z-10 w-80 mt-1 transform -translate-x-1/2 left-40 sm:px-0 lg:max-w-3xl"},{default:y(()=>[t("div",Er,[t("div",{onClick:o[14]||(o[14]=F=>e.activeItem.groupId=0),class:f([[e.activeItem.groupId===0?"font-bold":""],"px-2 py-1 text-sm hover:bg-gray-100 cursor-pointer rounded-lg line-clamp-1"])},"\u0411\u0435\u0437 \u0433\u0440\u0443\u043F\u043F\u044B",2),(r(!0),a(V,null,L(e.db.groups,F=>(r(),a("div",{key:F.id,class:f([[F.id===e.activeItem.groupId?"font-bold":""],"px-2 py-1 text-sm hover:bg-gray-100 cursor-pointer rounded-lg line-clamp-1"]),onClick:h=>e.activeItem.groupId=F.id},x(F.name),11,Gr))),128))])]),_:1})]),_:1})]),_:1})]),t("div",Xr,[t("header",zr,[e.db.referenceName?(r(),a("div",Wr,x(e.db.referenceName),1)):(r(),a("div",Tr,"\u0421\u0432\u044F\u0437\u0438")),i(J,{class:"relative"},{default:y(({open:p})=>[i(z,{class:f([p?"":"opacity-90","rounded-lg bg-gray-50 h-8 w-8 flex items-center justify-center cursor-pointer text-gray-500 hover:bg-gray-200 hover:text-gray-900"])},{default:y(()=>[i(ye,{class:"w-5 h-5"})]),_:2},1032,["class"]),i(T,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"translate-y-1 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"translate-y-0 opacity-100","leave-to-class":"translate-y-1 opacity-0"},{default:y(()=>[i(X,{class:"absolute z-10 w-80 mt-1 transform -translate-x-full left-8 sm:px-0 lg:max-w-3xl"},{default:y(()=>[t("div",$r,[t("div",Jr,[(r(!0),a(V,null,L(e.db.references,F=>(r(),a("div",{key:F.id},[t("label",Hr,[t("input",{type:"checkbox",class:"rounded border-gray-300 text-purple-600 shadow-sm focus:border-purple-300 focus:ring focus:ring-offset-0 focus:ring-purple-200 focus:ring-opacity-50",checked:e.activeItem.references.includes(F.id),onClick:h=>e.toggleReference(F.id)},null,8,Mr),t("span",Qr,x(F.name),1)])]))),128))])])]),_:1})]),_:1})]),_:1})]),t("div",qr,[(r(!0),a(V,null,L(e.activeItem.references,p=>(r(),a("div",{key:p,class:"font-bold text-sm"},x(e.getReferenceById(p).name),1))),128))])]),t("div",null,[t("label",Kr,[Yr,C(t("textarea",{class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm text-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",rows:"6","onUpdate:modelValue":o[15]||(o[15]=p=>e.activeItem.layers.find(F=>F.id===e.activeLayer.id).note=p)},null,512),[[j,e.activeItem.layers.find(p=>p.id===e.activeLayer.id).note]])])]),i(Z,{fields:e.activeItem.fields,"get-field-by-id-fn":e.getFieldById},null,8,["fields","get-field-by-id-fn"]),t("div",Zr,[t("button",{onClick:o[16]||(o[16]=p=>e.deleteItem()),class:"cursor-pointer w-full bg-red-50 border border-red-100 text-red-700 font-semibold text-xs py-2 flex justify-center rounded"},"\u0423\u0434\u0430\u043B\u0438\u0442\u044C")])])):I("",!0)]),t("section",{class:f([e.isWideDetails?"space-y-12 px-4":"space-y-6 px-0"])},[e.activeItem.references.length>0?(r(),a("div",{key:0,class:f([e.isWideDetails?"text-base space-y-4":"text-xs space-y-2"])},[e.db.referenceName?(r(),a("header",el,x(e.db.referenceName),1)):(r(),a("header",tl,"\u0421\u0432\u044F\u0437\u0438")),t("div",null,[(r(!0),a(V,null,L(e.activeItem.references,(p,F)=>(r(),a("span",{key:p},[Ie(x(e.getReferenceById(p).name),1),F<e.activeItem.references.length-1?(r(),a("span",ol,", ")):I("",!0)]))),128))])],2)):I("",!0),i(xe,{fields:e.activeItem.fields,"is-wide":e.isWideDetails,"get-field-by-id-fn":e.getFieldById},null,8,["fields","is-wide","get-field-by-id-fn"])],2)])):(r(),a("div",sl,[e.isLayerReady?(r(),a("div",nl,[t("div",rl,x(e.db.model.name),1),t("div",ll,x(e.db.model.description),1),e.db.model.version?(r(),a("div",al,"\u0412\u0435\u0440\u0441\u0438\u044F: "+x(e.db.model.version),1)):I("",!0)])):I("",!0)]))],2)]),i(we,{db:e.db,"is-layer-ready":e.isLayerReady},null,8,["db","is-layer-ready"])])}var cl=E(sr,[["render",il],["__scopeId","data-v-50446038"]]);const dl=vt(cl);dl.mount("#app");
